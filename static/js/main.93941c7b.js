/*! For license information please see main.93941c7b.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},150:(e,t,n)=>{n.d(t,{MF:()=>de,j6:()=>ae,xZ:()=>oe,om:()=>se,Sx:()=>fe,Wp:()=>he,KO:()=>pe});var r=n(812),i=n(443),s=n(700),a=n(555);let o,l;const c=new WeakMap,u=new WeakMap,d=new WeakMap,h=new WeakMap,f=new WeakMap;let p={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return u.get(e);if("objectStoreNames"===t)return e.objectStoreNames||d.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return A(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function g(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(l||(l=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(y(this),n),A(c.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return A(e.apply(y(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(y(this),t,...r);return d.set(s,t.sort?t.sort():[t]),A(s)}}function m(e){return"function"===typeof e?g(e):(e instanceof IDBTransaction&&function(e){if(u.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});u.set(e,t)}(e),t=e,(o||(o=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,p):e);var t}function A(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(A(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&c.set(t,e)}).catch(()=>{}),f.set(t,e),t}(e);if(h.has(e))return h.get(e);const t=m(e);return t!==e&&(h.set(e,t),f.set(t,e)),t}const y=e=>f.get(e);const v=["get","getKey","getAll","getAllKeys","count"],w=["put","add","delete","clear"],b=new Map;function E(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(b.get(t))return b.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=w.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!v.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return b.set(t,s),s}p=(e=>(0,a.A)((0,a.A)({},e),{},{get:(t,n,r)=>E(t,n)||e.get(t,n,r),has:(t,n)=>!!E(t,n)||e.has(t,n)}))(p);class C{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const I="@firebase/app",k="0.10.13",S=new i.Vy("@firebase/app"),x="@firebase/app-compat",T="@firebase/analytics-compat",N="@firebase/analytics",D="@firebase/app-check-compat",B="@firebase/app-check",_="@firebase/auth",R="@firebase/auth-compat",P="@firebase/database",O="@firebase/data-connect",L="@firebase/database-compat",M="@firebase/functions",Q="@firebase/functions-compat",F="@firebase/installations",j="@firebase/installations-compat",U="@firebase/messaging",V="@firebase/messaging-compat",G="@firebase/performance",z="@firebase/performance-compat",H="@firebase/remote-config",K="@firebase/remote-config-compat",J="@firebase/storage",Y="@firebase/storage-compat",W="@firebase/firestore",q="@firebase/vertexai-preview",X="@firebase/firestore-compat",Z="firebase",$="[DEFAULT]",ee={[I]:"fire-core",[x]:"fire-core-compat",[N]:"fire-analytics",[T]:"fire-analytics-compat",[B]:"fire-app-check",[D]:"fire-app-check-compat",[_]:"fire-auth",[R]:"fire-auth-compat",[P]:"fire-rtdb",[O]:"fire-data-connect",[L]:"fire-rtdb-compat",[M]:"fire-fn",[Q]:"fire-fn-compat",[F]:"fire-iid",[j]:"fire-iid-compat",[U]:"fire-fcm",[V]:"fire-fcm-compat",[G]:"fire-perf",[z]:"fire-perf-compat",[H]:"fire-rc",[K]:"fire-rc-compat",[J]:"fire-gcs",[Y]:"fire-gcs-compat",[W]:"fire-fst",[X]:"fire-fst-compat",[q]:"fire-vertex","fire-js":"fire-js",[Z]:"fire-js-all"},te=new Map,ne=new Map,re=new Map;function ie(e,t){try{e.container.addComponent(t)}catch(n){S.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function se(e){const t=e.name;if(re.has(t))return S.debug("There were multiple attempts to register component ".concat(t,".")),!1;re.set(t,e);for(const n of te.values())ie(n,e);for(const n of ne.values())ie(n,e);return!0}function ae(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function oe(e){return void 0!==e.settings}const le={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ce=new s.FA("app","Firebase",le);class ue{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new r.uA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ce.create("app-deleted",{appName:this._name})}}const de="10.14.1";function he(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const i=Object.assign({name:$,automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!==typeof a||!a)throw ce.create("bad-app-name",{appName:String(a)});if(n||(n=(0,s.T9)()),!n)throw ce.create("no-options");const o=te.get(a);if(o){if((0,s.bD)(n,o.options)&&(0,s.bD)(i,o.config))return o;throw ce.create("duplicate-app",{appName:a})}const l=new r.h1(a);for(const r of re.values())l.addComponent(r);const c=new ue(n,i,l);return te.set(a,c),c}function fe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;const t=te.get(e);if(!t&&e===$&&(0,s.T9)())return he();if(!t)throw ce.create("no-app",{appName:e});return t}function pe(e,t,n){var i;let s=null!==(i=ee[e])&&void 0!==i?i:e;n&&(s+="-".concat(n));const a=s.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=['Unable to register library "'.concat(s,'" with version "').concat(t,'":')];return a&&e.push('library name "'.concat(s,'" contains illegal characters (whitespace or "/")')),a&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void S.warn(e.join(" "))}se(new r.uA("".concat(s,"-version"),()=>({library:s,version:t}),"VERSION"))}const ge="firebase-heartbeat-store";let me=null;function Ae(){return me||(me=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=A(a);return r&&a.addEventListener("upgradeneeded",e=>{r(A(a.result),e.oldVersion,e.newVersion,A(a.transaction),e)}),n&&a.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),o.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(ge)}catch(n){console.warn(n)}}}).catch(e=>{throw ce.create("idb-open",{originalErrorMessage:e.message})})),me}async function ye(e,t){try{const n=(await Ae()).transaction(ge,"readwrite"),r=n.objectStore(ge);await r.put(t,ve(e)),await n.done}catch(n){if(n instanceof s.g)S.warn(n.message);else{const e=ce.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});S.warn(e.message)}}}function ve(e){return"".concat(e.name,"!").concat(e.options.appId)}class we{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Ee(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=be();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(e=>e.date===r))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}catch(n){S.warn(n)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=be(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),Ce(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ce(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=(0,s.Uj)(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(t){return S.warn(t),""}}}function be(){return(new Date).toISOString().substring(0,10)}class Ee{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!(0,s.zW)()&&(0,s.eX)().then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ae()).transaction(ge),n=await t.objectStore(ge).get(ve(e));return await t.done,n}catch(t){if(t instanceof s.g)S.warn(t.message);else{const e=ce.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});S.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return ye(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Ce(e){return(0,s.Uj)(JSON.stringify({version:2,heartbeats:e})).length}var Ie;Ie="",se(new r.uA("platform-logger",e=>new C(e),"PRIVATE")),se(new r.uA("heartbeat",e=>new we(e),"PRIVATE")),pe(I,k,Ie),pe(I,k,"esm2017"),pe("fire-js","")},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function A(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function y(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}A.prototype.isReactComponent={},A.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},A.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=A.prototype;var w=v.prototype=new y;w.constructor=v,g(w,A.prototype),w.isPureReactComponent=!0;var b=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)E.call(t,i)&&!I.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:C.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var x=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function N(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,b(a)?(i="",null!=e&&(i=e.replace(x,"$&/")+"/"),N(a,t,i,"",function(e){return e})):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(x,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",b(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=N(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=N(o=o.value,t,i,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function D(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",function(e){return t.call(n,e,i++)}),r}function B(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var _={current:null},R={transition:null},P={ReactCurrentDispatcher:_,ReactCurrentBatchConfig:R,ReactCurrentOwner:C};function O(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:D,forEach:function(e,t,n){D(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return D(e,function(){t++}),t},toArray:function(e){return D(e,function(e){return e})||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=A,t.Fragment=i,t.Profiler=a,t.PureComponent=v,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:B}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=O,t.useCallback=function(e,t){return _.current.useCallback(e,t)},t.useContext=function(e){return _.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return _.current.useDeferredValue(e)},t.useEffect=function(e,t){return _.current.useEffect(e,t)},t.useId=function(){return _.current.useId()},t.useImperativeHandle=function(e,t,n){return _.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return _.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return _.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return _.current.useMemo(e,t)},t.useReducer=function(e,t,n){return _.current.useReducer(e,t,n)},t.useRef=function(e){return _.current.useRef(e)},t.useState=function(e){return _.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return _.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return _.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,g=!1,m=!1,A="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function b(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,R(E);else{var t=r(u);null!==t&&P(b,t.startTime-e)}}function E(e,n){g=!1,m&&(m=!1,y(S),S=-1),p=!0;var s=f;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var a=h.callback;if("function"===typeof a){h.callback=null,f=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(b,d.startTime-n),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,I=!1,k=null,S=-1,x=5,T=-1;function N(){return!(t.unstable_now()-T<x)}function D(){if(null!==k){var e=t.unstable_now();T=e;var n=!0;try{n=k(!0,e)}finally{n?C():(I=!1,k=null)}}else I=!1}if("function"===typeof v)C=function(){v(D)};else if("undefined"!==typeof MessageChannel){var B=new MessageChannel,_=B.port2;B.port1.onmessage=D,C=function(){_.postMessage(null)}}else C=function(){A(D,0)};function R(e){k=e,I||(I=!0,C())}function P(e,n){S=A(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(m?(y(S),S=-1):m=!0,P(b,s-a))):(e.sortIndex=o,n(c,e),g||p||(g=!0,R(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},443:(e,t,n)=>{n.d(t,{$b:()=>i,Vy:()=>c});const r=[];var i;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={}));const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},a=i.INFO,o={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},l=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=o[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class c{constructor(e){this.name=e,this._logLevel=a,this._logHandler=l,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?s[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}},555:(e,t,n)=>{function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function s(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){s(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.d(t,{A:()=>o})},579:(e,t,n)=>{e.exports=n(153)},700:(e,t,n)=>{n.d(t,{Am:()=>B,FA:()=>S,Fy:()=>g,I9:()=>_,Im:()=>T,Ku:()=>M,T9:()=>h,Tj:()=>u,Uj:()=>a,XA:()=>f,ZQ:()=>m,bD:()=>N,c1:()=>y,cY:()=>p,eX:()=>I,g:()=>k,hp:()=>R,jZ:()=>A,lT:()=>b,lV:()=>w,nr:()=>E,sr:()=>v,tD:()=>P,u:()=>o,yU:()=>d,zW:()=>C});const r=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(r(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const l=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==l)throw new s;const c=t<<2|a>>4;if(r.push(c),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==l){const e=o<<6&192|l;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class s extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const a=function(e){return function(e){const t=r(e);return i.encodeByteArray(t,!0)}(e).replace(/\./g,"")},o=function(e){try{return i.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const l=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,c=()=>{try{return l()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/your-music-frontend",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&o(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},u=e=>{var t,n;return null===(n=null===(t=c())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},d=e=>{const t=u(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},h=()=>{var e;return null===(e=c())||void 0===e?void 0:e.config},f=e=>{var t;return null===(t=c())||void 0===t?void 0:t["_".concat(e)]};class p{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function g(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}function m(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function A(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())}function y(){return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent}function v(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function b(){const e=m();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function E(){return!function(){var e;const t=null===(e=c())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C(){try{return"object"===typeof indexedDB}catch(e){return!1}}function I(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}class k extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,S.prototype.create)}}class S{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(x,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new k(n,s,t)}}const x=/\{\$([^}]+)}/g;function T(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function N(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(D(n)&&D(s)){if(!N(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function D(e){return null!==e&&"object"===typeof e}function B(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function _(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function R(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function P(e,t){const n=new O(e,t);return n.subscribe.bind(n)}class O{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=L),void 0===r.error&&(r.error=L),void 0===r.complete&&(r.complete=L);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function L(){}function M(e){return e&&e._delegate?e._delegate:e}},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){m[e]=new g(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){m[e]=new g(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){m[e]=new g(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){m[e]=new g(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){m[e]=new g(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function v(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A,y);m[t]=new g(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)}),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)});var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),x=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),B=Symbol.for("react.memo"),_=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,Q=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function U(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function V(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case k:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case D:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case x:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case B:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case _:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function J(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Y(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function W(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(R){return e.body}}function q(e,t){var n=t.checked;return Q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function $(e,t){Z(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?te(e,t.type,n):t.hasOwnProperty("defaultValue")&&te(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function ee(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function te(e,t,n){"number"===t&&W(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ne=Array.isArray;function re(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return Q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(ne(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ae(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,de,he=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ge=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function Ae(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach(function(e){ge.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ye=Q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Ie=null,ke=null;function Se(e){if(e=wi(e)){if("function"!==typeof Ce)throw Error(s(280));var t=e.stateNode;t&&(t=Ei(t),Ce(e.stateNode,e.type,t))}}function xe(e){Ie?ke?ke.push(e):ke=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=ke;if(ke=Ie=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ne(e,t){return e(t)}function De(){}var Be=!1;function _e(e,t,n){if(Be)return e(t,n);Be=!0;try{return Ne(e,t,n)}finally{Be=!1,(null!==Ie||null!==ke)&&(De(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){Pe=!1}function Le(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,Qe=null,Fe=!1,je=null,Ue={onError:function(e){Me=!0,Qe=e}};function Ve(e,t,n,r,i,s,a,o,l){Me=!1,Qe=null,Le.apply(Ue,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ge(e)!==e)throw Error(s(188))}function Ke(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Je(e):null}function Je(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Je(e);if(null!==t)return t;e=e.sibling}return null}var Ye=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,qe=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ze=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,et=i.unstable_ImmediatePriority,tt=i.unstable_UserBlockingPriority,nt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,it=i.unstable_IdlePriority,st=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ct|0)|0},lt=Math.log,ct=Math.LN2;var ut=64,dt=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function gt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function At(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,Ct,It,kt,St,xt=!1,Tt=[],Nt=null,Dt=null,Bt=null,_t=new Map,Rt=new Map,Pt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Dt=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":_t.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&Ct(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Qt(e){var t=vi(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void St(e.priority,function(){It(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&Ct(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){xt=!1,null!==Nt&&Ft(Nt)&&(Nt=null),null!==Dt&&Ft(Dt)&&(Dt=null),null!==Bt&&Ft(Bt)&&(Bt=null),_t.forEach(jt),Rt.forEach(jt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Gt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Nt&&Vt(Nt,e),null!==Dt&&Vt(Dt,e),null!==Bt&&Vt(Bt,e),_t.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Qt(n),null===n.blockedOn&&Pt.shift()}var zt=w.ReactCurrentBatchConfig,Ht=!0;function Kt(e,t,n,r){var i=wt,s=zt.transition;zt.transition=null;try{wt=1,Yt(e,t,n,r)}finally{wt=i,zt.transition=s}}function Jt(e,t,n,r){var i=wt,s=zt.transition;zt.transition=null;try{wt=4,Yt(e,t,n,r)}finally{wt=i,zt.transition=s}}function Yt(e,t,n,r){if(Ht){var i=qt(e,t,n,r);if(null===i)Hr(e,t,r,Wt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Nt=Mt(Nt,e,t,n,r,i),!0;case"dragenter":return Dt=Mt(Dt,e,t,n,r,i),!0;case"mouseover":return Bt=Mt(Bt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return _t.set(s,Mt(_t.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&Et(s),null===(s=qt(e,t,n,r))&&Hr(e,t,r,Wt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Wt=null;function qt(e,t,n,r){if(Wt=null,null!==(e=vi(e=Ee(r))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case et:return 1;case tt:return 4;case nt:case rt:return 16;case it:return 536870912;default:return 16}default:return 16}}var Zt=null,$t=null,en=null;function tn(){if(en)return en;var e,t,n=$t,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return en=i.slice(e,1<t?1-t:void 0)}function nn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function sn(){return!1}function an(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:sn,this.isPropagationStopped=sn,this}return Q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var on,ln,cn,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(un),hn=Q({},un,{view:0,detail:0}),fn=an(hn),pn=Q({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,ln=e.screenY-cn.screenY):ln=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),gn=an(pn),mn=an(Q({},pn,{dataTransfer:0})),An=an(Q({},hn,{relatedTarget:0})),yn=an(Q({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=Q({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=an(vn),bn=an(Q({},un,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Sn(){return kn}var xn=Q({},hn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=nn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Cn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?nn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?nn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(xn),Nn=an(Q({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Dn=an(Q({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Bn=an(Q({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Q({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(_n),Pn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Qn=u&&(!On||Ln&&8<Ln&&11>=Ln),Fn=String.fromCharCode(32),jn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Kn(e,t,n,r){xe(r),0<(t=Jr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jn=null,Yn=null;function Wn(e){Fr(e,0)}function qn(e){if(Y(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(u){var $n;if(u){var er="oninput"in document;if(!er){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),er="function"===typeof tr.oninput}$n=er}else $n=!1;Zn=$n&&(!document.documentMode||9<document.documentMode)}function nr(){Jn&&(Jn.detachEvent("onpropertychange",rr),Yn=Jn=null)}function rr(e){if("value"===e.propertyName&&qn(Yn)){var t=[];Kn(t,Yn,e,Ee(e)),_e(Wn,t)}}function ir(e,t,n){"focusin"===e?(nr(),Yn=n,(Jn=t).attachEvent("onpropertychange",rr)):"focusout"===e&&nr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(Yn)}function ar(e,t){if("click"===e)return qn(t)}function or(e,t){if("input"===e||"change"===e)return qn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!lr(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=W();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=W((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function gr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=dr(n,s);var a=dr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,Ar=null,yr=null,vr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==Ar||Ar!==W(r)||("selectionStart"in(r=Ar)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&cr(vr,r)||(vr=r,0<(r=Jr(yr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ar)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},Ir={},kr={};function Sr(e){if(Ir[e])return Ir[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Ir[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var xr=Sr("animationend"),Tr=Sr("animationiteration"),Nr=Sr("animationstart"),Dr=Sr("transitionend"),Br=new Map,_r="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Br.set(e,t),l(t,[e])}for(var Pr=0;Pr<_r.length;Pr++){var Or=_r[Pr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(xr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Nr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Dr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Qr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Qe;Me=!1,Qe=null,Fe||(Fe=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Qr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Qr(i,o,c),s=l}}}if(Fe)throw e=je,Fe=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Vr]){e[Vr]=!0,a.forEach(function(t){"selectionchange"!==t&&(Mr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Ur("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Xt(t)){case 1:var i=Kt;break;case 4:i=Jt;break;default:i=Yt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=vi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}_e(function(){var r=s,i=Ee(n),a=[];e:{var o=Br.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===nn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=An;break;case"focusout":c="blur",l=An;break;case"beforeblur":case"afterblur":l=An;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Dn;break;case xr:case Tr:case Nr:l=yn;break;case Dr:l=Bn;break;case"scroll":l=fn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Nn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==h&&(null!=(g=Re(p,h))&&u.push(Kr(p,g,f)))),d)break;p=p.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[gi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Ge(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=gn,g="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Nn,g="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?o:bi(l),f=null==c?o:bi(c),(o=new u(g,p+"leave",l,n,i)).target=d,o.relatedTarget=f,g=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,g=u),d=g,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Yr(f))p++;for(f=0,g=h;g;g=Yr(g))f++;for(;0<p-f;)u=Yr(u),p--;for(;0<f-p;)h=Yr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Yr(u),h=Yr(h)}u=null}else u=null;null!==l&&Wr(a,o,l,u,!1),null!==c&&null!==d&&Wr(a,d,c,u,!0)}if("select"===(l=(o=r?bi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Xn;else if(Hn(o))if(Zn)m=or;else{m=sr;var A=ir}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(a,m,n,i):(A&&A(e,o,r),"focusout"===e&&(A=o._wrapperState)&&A.controlled&&"number"===o.type&&te(o,"number",o.value)),A=r?bi(r):window,e){case"focusin":(Hn(A)||"true"===A.contentEditable)&&(Ar=A,yr=r,vr=null);break;case"focusout":vr=yr=Ar=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(a,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(a,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Gn?Un(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(Qn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==v?"onCompositionEnd"===v&&Gn&&(y=tn()):($t="value"in(Zt=i)?Zt.value:Zt.textContent,Gn=!0)),0<(A=Jr(r,v)).length&&(v=new bn(v,e,null,n,i),a.push({event:v,listeners:A}),y?v.data=y:null!==(y=Vn(n))&&(v.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!On&&Un(e,t)?(e=tn(),en=$t=Zt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Jr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)})}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Jr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Re(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Yr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Wr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Re(n,s))&&a.unshift(Kr(n,l,o)):i||null!=(l=Re(n,s))&&a.push(Kr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var qr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(qr,"\n").replace(Xr,"")}function $r(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(s(425))}function ei(){}var ti=null,ni=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ii="function"===typeof setTimeout?setTimeout:void 0,si="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(li)}:ii;function li(e){setTimeout(function(){throw e})}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Gt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function di(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),fi="__reactFiber$"+hi,pi="__reactProps$"+hi,gi="__reactContainer$"+hi,mi="__reactEvents$"+hi,Ai="__reactListeners$"+hi,yi="__reactHandles$"+hi;function vi(e){var t=e[fi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gi]||n[fi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=di(e);null!==e;){if(n=e[fi])return n;e=di(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[fi]||e[gi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ei(e){return e[pi]||null}var Ci=[],Ii=-1;function ki(e){return{current:e}}function Si(e){0>Ii||(e.current=Ci[Ii],Ci[Ii]=null,Ii--)}function xi(e,t){Ii++,Ci[Ii]=e.current,e.current=t}var Ti={},Ni=ki(Ti),Di=ki(!1),Bi=Ti;function _i(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Si(Di),Si(Ni)}function Oi(e,t,n){if(Ni.current!==Ti)throw Error(s(168));xi(Ni,t),xi(Di,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,z(e)||"Unknown",i));return Q({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Bi=Ni.current,xi(Ni,e),xi(Di,Di.current),!0}function Qi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Bi),r.__reactInternalMemoizedMergedChildContext=e,Si(Di),Si(Ni),xi(Ni,e)):Si(Di),xi(Di,n)}var Fi=null,ji=!1,Ui=!1;function Vi(e){null===Fi?Fi=[e]:Fi.push(e)}function Gi(){if(!Ui&&null!==Fi){Ui=!0;var e=0,t=wt;try{var n=Fi;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,ji=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ye(et,Gi),i}finally{wt=t,Ui=!1}}return null}var zi=[],Hi=0,Ki=null,Ji=0,Yi=[],Wi=0,qi=null,Xi=1,Zi="";function $i(e,t){zi[Hi++]=Ji,zi[Hi++]=Ki,Ki=e,Ji=t}function es(e,t,n){Yi[Wi++]=Xi,Yi[Wi++]=Zi,Yi[Wi++]=qi,qi=e;var r=Xi;e=Zi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-ot(t)+i|n<<i|r,Zi=s+e}else Xi=1<<s|n<<i|r,Zi=e}function ts(e){null!==e.return&&($i(e,1),es(e,1,0))}function ns(e){for(;e===Ki;)Ki=zi[--Hi],zi[Hi]=null,Ji=zi[--Hi],zi[Hi]=null;for(;e===qi;)qi=Yi[--Wi],Yi[Wi]=null,Zi=Yi[--Wi],Yi[Wi]=null,Xi=Yi[--Wi],Yi[Wi]=null}var rs=null,is=null,ss=!1,as=null;function os(e,t){var n=_c(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,rs=e,is=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,rs=e,is=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==qi?{id:Xi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=_c(18,null,null,0)).stateNode=t,n.return=e,e.child=n,rs=e,is=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(ss){var t=is;if(t){var n=t;if(!ls(e,t)){if(cs(e))throw Error(s(418));t=ui(n.nextSibling);var r=rs;t&&ls(e,t)?os(r,n):(e.flags=-4097&e.flags|2,ss=!1,rs=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ss=!1,rs=e}}}function ds(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;rs=e}function hs(e){if(e!==rs)return!1;if(!ss)return ds(e),ss=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=is)){if(cs(e))throw fs(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(ds(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){is=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}is=null}}else is=rs?ui(e.stateNode.nextSibling):null;return!0}function fs(){for(var e=is;e;)e=ui(e.nextSibling)}function ps(){is=rs=null,ss=!1}function gs(e){null===as?as=[e]:as.push(e)}var ms=w.ReactCurrentBatchConfig;function As(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ys(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function ws(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Qc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===_&&vs(s)===t.type)?((r=i(t,n.props)).ref=As(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=As(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Lc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Qc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=As(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case _:return h(e,(0,t._init)(t._payload),n)}if(ne(t)||L(t))return(t=Lc(t,e.mode,n,null)).return=e,t;ys(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case _:return f(e,t,(i=n._init)(n._payload),r)}if(ne(n)||L(n))return null!==i?null:d(e,t,n,r,null);ys(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case _:return p(e,t,n,(0,r._init)(r._payload),i)}if(ne(r)||L(r))return d(t,e=e.get(n)||null,r,i,null);ys(t,r)}return null}function g(i,s,o,l){for(var c=null,u=null,d=s,g=s=0,m=null;null!==d&&g<o.length;g++){d.index>g?(m=d,d=null):m=d.sibling;var A=f(i,d,o[g],l);if(null===A){null===d&&(d=m);break}e&&d&&null===A.alternate&&t(i,d),s=a(A,s,g),null===u?c=A:u.sibling=A,u=A,d=m}if(g===o.length)return n(i,d),ss&&$i(i,g),c;if(null===d){for(;g<o.length;g++)null!==(d=h(i,o[g],l))&&(s=a(d,s,g),null===u?c=d:u.sibling=d,u=d);return ss&&$i(i,g),c}for(d=r(i,d);g<o.length;g++)null!==(m=p(d,i,g,o[g],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?g:m.key),s=a(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(i,e)}),ss&&$i(i,g),c}function m(i,o,l,c){var u=L(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,g=o,m=o=0,A=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(A=g,g=null):A=g.sibling;var v=f(i,g,y.value,c);if(null===v){null===g&&(g=A);break}e&&g&&null===v.alternate&&t(i,g),o=a(v,o,m),null===d?u=v:d.sibling=v,d=v,g=A}if(y.done)return n(i,g),ss&&$i(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,m),null===d?u=y:d.sibling=y,d=y);return ss&&$i(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=p(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),o=a(y,o,m),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach(function(e){return t(i,e)}),ss&&$i(i,m),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===C&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case b:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===C){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===_&&vs(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=As(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===C?((s=Lc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Oc(a.type,a.key,a.props,null,r.mode,l)).ref=As(r,s,a),l.return=r,r=l)}return o(r);case E:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(a,r.mode,l)).return=r,r=s}return o(r);case _:return e(r,s,(u=a._init)(a._payload),l)}if(ne(a))return g(r,s,a,l);if(L(a))return m(r,s,a,l);ys(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Qc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var bs=ws(!0),Es=ws(!1),Cs=ki(null),Is=null,ks=null,Ss=null;function xs(){Ss=ks=Is=null}function Ts(e){var t=Cs.current;Si(Cs),e._currentValue=t}function Ns(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ds(e,t){Is=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Is)throw Error(s(308));ks=e,Is.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var _s=null;function Rs(e){null===_s?_s=[e]:_s.push(e)}function Ps(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Rs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Os(e,r)}function Os(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ms(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function js(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Os(e,n)}return null===(i=r.interleaved)?(t.next=t,Rs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Os(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gs(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,f=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,g=o;switch(h=t,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=g.payload)?p.call(f,d,h):p)||void 0===h)break e;d=Q({},d,h);break e;case 2:Ls=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function zs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},Ks=ki(Hs),Js=ki(Hs),Ys=ki(Hs);function Ws(e){if(e===Hs)throw Error(s(174));return e}function qs(e,t){switch(xi(Ys,t),xi(Js,e),xi(Ks,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Ks),xi(Ks,t)}function Xs(){Si(Ks),Si(Js),Si(Ys)}function Zs(e){Ws(Ys.current);var t=Ws(Ks.current),n=ce(t,e.type);t!==n&&(xi(Js,e),xi(Ks,n))}function $s(e){Js.current===e&&(Si(Ks),Si(Js))}var ea=ki(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ra(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ia=w.ReactCurrentDispatcher,sa=w.ReactCurrentBatchConfig,aa=0,oa=null,la=null,ca=null,ua=!1,da=!1,ha=0,fa=0;function pa(){throw Error(s(321))}function ga(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function ma(e,t,n,r,i,a){if(aa=a,oa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ia.current=null===e||null===e.memoizedState?$a:eo,e=n(r,i),da){a=0;do{if(da=!1,ha=0,25<=a)throw Error(s(301));a+=1,ca=la=null,t.updateQueue=null,ia.current=to,e=n(r,i)}while(da)}if(ia.current=Za,t=null!==la&&null!==la.next,aa=0,ca=la=oa=null,ua=!1,t)throw Error(s(300));return e}function Aa(){var e=0!==ha;return ha=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ca?oa.memoizedState=ca=e:ca=ca.next=e,ca}function va(){if(null===la){var e=oa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ca?oa.memoizedState:ca.next;if(null!==t)ca=t,la=e;else{if(null===e)throw Error(s(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ca?oa.memoizedState=ca=e:ca=ca.next=e}return ca}function wa(e,t){return"function"===typeof t?t(e):t}function ba(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=la,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((aa&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,oa.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,lr(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,oa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ea(e){var t=va(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);lr(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ca(){}function Ia(e,t){var n=oa,r=va(),i=t(),a=!lr(r.memoizedState,i);if(a&&(r.memoizedState=i,wo=!0),r=r.queue,La(xa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ca&&1&ca.memoizedState.tag){if(n.flags|=2048,Ba(9,Sa.bind(null,n,r,i,t),void 0,null),null===Dl)throw Error(s(349));0!==(30&aa)||ka(n,t,i)}return i}function ka(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sa(e,t,n,r){t.value=n,t.getSnapshot=r,Ta(t)&&Na(e)}function xa(e,t,n){return n(function(){Ta(t)&&Na(e)})}function Ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Na(e){var t=Os(e,1);null!==t&&rc(t,e,1,-1)}function Da(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=Ya.bind(null,oa,e),[t.memoizedState,e]}function Ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oa.updateQueue)?(t={lastEffect:null,stores:null},oa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function _a(){return va().memoizedState}function Ra(e,t,n,r){var i=ya();oa.flags|=e,i.memoizedState=Ba(1|t,n,void 0,void 0===r?null:r)}function Pa(e,t,n,r){var i=va();r=void 0===r?null:r;var s=void 0;if(null!==la){var a=la.memoizedState;if(s=a.destroy,null!==r&&ga(r,a.deps))return void(i.memoizedState=Ba(t,n,s,r))}oa.flags|=e,i.memoizedState=Ba(1|t,n,s,r)}function Oa(e,t){return Ra(8390656,8,e,t)}function La(e,t){return Pa(2048,8,e,t)}function Ma(e,t){return Pa(4,2,e,t)}function Qa(e,t){return Pa(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function ja(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4,4,Fa.bind(null,t,e),n)}function Ua(){}function Va(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ga(e,t){var n=va();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ga(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function za(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(lr(n,t)||(n=mt(),oa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Ha(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=sa.transition;sa.transition={};try{e(!1),t()}finally{wt=n,sa.transition=r}}function Ka(){return va().memoizedState}function Ja(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wa(e))qa(t,n);else if(null!==(n=Ps(e,t,n,r))){rc(n,e,r,tc()),Xa(n,t,r)}}function Ya(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wa(e))qa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,lr(o,a)){var l=t.interleaved;return null===l?(i.next=i,Rs(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ps(e,t,i,r))&&(rc(n,e,r,i=tc()),Xa(n,t,r))}}function Wa(e){var t=e.alternate;return e===oa||null!==t&&t===oa}function qa(e,t){da=ua=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Za={readContext:Bs,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},$a={readContext:Bs,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Bs,useEffect:Oa,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ra(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ra(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ra(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ya();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ja.bind(null,oa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Da,useDebugValue:Ua,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Da(!1),t=e[0];return e=Ha.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oa,i=ya();if(ss){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Dl)throw Error(s(349));0!==(30&aa)||ka(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Oa(xa.bind(null,r,a,e),[e]),r.flags|=2048,Ba(9,Sa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Dl.identifierPrefix;if(ss){var n=Zi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eo={readContext:Bs,useCallback:Va,useContext:Bs,useEffect:La,useImperativeHandle:ja,useInsertionEffect:Ma,useLayoutEffect:Qa,useMemo:Ga,useReducer:ba,useRef:_a,useState:function(){return ba(wa)},useDebugValue:Ua,useDeferredValue:function(e){return za(va(),la.memoizedState,e)},useTransition:function(){return[ba(wa)[0],va().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Ia,useId:Ka,unstable_isNewReconciler:!1},to={readContext:Bs,useCallback:Va,useContext:Bs,useEffect:La,useImperativeHandle:ja,useInsertionEffect:Ma,useLayoutEffect:Qa,useMemo:Ga,useReducer:Ea,useRef:_a,useState:function(){return Ea(wa)},useDebugValue:Ua,useDeferredValue:function(e){var t=va();return null===la?t.memoizedState=e:za(t,la.memoizedState,e)},useTransition:function(){return[Ea(wa)[0],va().memoizedState]},useMutableSource:Ca,useSyncExternalStore:Ia,useId:Ka,unstable_isNewReconciler:!1};function no(e,t){if(e&&e.defaultProps){for(var n in t=Q({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ro(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:Q({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var io={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=js(e,s,i))&&(rc(t,e,i,r),Us(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=js(e,s,i))&&(rc(t,e,i,r),Us(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=js(e,i,r))&&(rc(t,e,r,n),Us(t,e,r))}};function so(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function ao(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=Bs(s):(i=Ri(t)?Bi:Ni.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?_i(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=io,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function oo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&io.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ms(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Bs(s):(s=Ri(t)?Bi:Ni.current,i.context=_i(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ro(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&io.enqueueReplaceState(i,i.state,null),Gs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),ho(0,t)},n}function go(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Jl?Jl=new Set([this]):Jl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function Ao(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,js(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vo=w.ReactCurrentOwner,wo=!1;function bo(e,t,n,r){t.child=null===e?Es(t,null,n,r):bs(t,e.child,n,r)}function Eo(e,t,n,r,i){n=n.render;var s=t.ref;return Ds(t,i),r=ma(e,t,n,r,s,i),n=Aa(),null===e||wo?(ss&&n&&ts(t),t.flags|=1,bo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function Co(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Rc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Io(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(a,r)&&e.ref===t.ref)return Ho(e,t,i)}return t.flags|=1,(e=Pc(s,r)).ref=t.ref,e.return=t,t.child=e}function Io(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ho(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return xo(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Pl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Pl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,xi(Pl,Rl),Rl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,xi(Pl,Rl),Rl|=r;return bo(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function xo(e,t,n,r,i){var s=Ri(n)?Bi:Ni.current;return s=_i(t,s),Ds(t,i),n=ma(e,t,n,r,s,i),r=Aa(),null===e||wo?(ss&&r&&ts(t),t.flags|=1,bo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ho(e,t,i))}function To(e,t,n,r,i){if(Ri(n)){var s=!0;Mi(t)}else s=!1;if(Ds(t,i),null===t.stateNode)zo(e,t),ao(t,n,r),lo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Bs(c):c=_i(t,c=Ri(n)?Bi:Ni.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&oo(t,a,r,c),Ls=!1;var h=t.memoizedState;a.state=h,Gs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Di.current||Ls?("function"===typeof u&&(ro(t,n,u,r),l=t.memoizedState),(o=Ls||so(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Qs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:no(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Bs(l):l=_i(t,l=Ri(n)?Bi:Ni.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&oo(t,a,r,l),Ls=!1,h=t.memoizedState,a.state=h,Gs(t,r,a,i);var p=t.memoizedState;o!==d||h!==p||Di.current||Ls?("function"===typeof f&&(ro(t,n,f,r),p=t.memoizedState),(c=Ls||so(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return No(e,t,n,r,s,i)}function No(e,t,n,r,i,s){So(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Qi(t,n,!1),Ho(e,t,s);r=t.stateNode,vo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,o,s)):bo(e,t,o,s),t.memoizedState=r.state,i&&Qi(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),qs(e,t.containerInfo)}function Bo(e,t,n,r,i){return ps(),gs(i),t.flags|=256,bo(e,t,n,r),t.child}var _o,Ro,Po,Oo,Lo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Qo(e,t,n){var r,i=t.pendingProps,a=ea.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(ea,1&a),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Lc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Lo,e):Fo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,jo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Lc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Lo,a);if(0===(1&t.mode))return jo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,jo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Dl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Os(e,i),rc(r,e,i,-1))}return mc(),jo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,is=ui(i.nextSibling),rs=t,ss=!0,as=null,null!==e&&(Yi[Wi++]=Xi,Yi[Wi++]=Zi,Yi[Wi++]=qi,Xi=e.id,Zi=e.overflow,qi=t),t=Fo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Pc(r,o):(o=Lc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Lo,i}return e=(o=e.child).sibling,i=Pc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function jo(e,t,n,r){return null!==r&&gs(r),bs(t,e.child,null,n),(e=Fo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Uo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ns(e.return,t,n)}function Vo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Go(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(bo(e,t,r.children,n),0!==(2&(r=ea.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Uo(e,n,t);else if(19===e.tag)Uo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(ea,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Vo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ta(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Vo(t,!0,n,null,s);break;case"together":Vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ho(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ko(e,t){if(!ss)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Jo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Yo(e,t,n){var r=t.pendingProps;switch(ns(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jo(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Jo(t),null;case 3:return r=t.stateNode,Xs(),Si(Di),Si(Ni),ra(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==as&&(oc(as),as=null))),Ro(e,t),Jo(t),null;case 5:$s(t);var i=Ws(Ys.current);if(n=t.type,null!==e&&null!=t.stateNode)Po(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Jo(t),null}if(e=Ws(Ks.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[fi]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":X(r,a),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},jr("invalid",r);break;case"textarea":se(r,a),jr("invalid",r)}for(var l in ve(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&jr("scroll",r)}switch(n){case"input":J(r),ee(r,a,!0);break;case"textarea":J(r),oe(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=ei)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[fi]=t,e[pi]=r,_o(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":X(e,r),i=q(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Q({},r,{value:void 0}),jr("invalid",e);break;case"textarea":se(e,r),i=ie(e,r),jr("invalid",e)}for(a in ve(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?Ae(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&fe(e,u):"number"===typeof u&&fe(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&jr("scroll",e):null!=u&&v(e,a,u,l))}switch(n){case"input":J(e),ee(e,r,!1);break;case"textarea":J(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?re(e,!!r.multiple,a,!1):null!=r.defaultValue&&re(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ei)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Jo(t),null;case 6:if(e&&null!=t.stateNode)Oo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Ws(Ys.current),Ws(Ks.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[fi]=t,(a=r.nodeValue!==n)&&null!==(e=rs))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[fi]=t,t.stateNode=r}return Jo(t),null;case 13:if(Si(ea),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ss&&null!==is&&0!==(1&t.mode)&&0===(128&t.flags))fs(),ps(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[fi]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Jo(t),a=!1}else null!==as&&(oc(as),as=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Ol&&(Ol=3):mc())),null!==t.updateQueue&&(t.flags|=4),Jo(t),null);case 4:return Xs(),Ro(e,t),null===e&&Gr(t.stateNode.containerInfo),Jo(t),null;case 10:return Ts(t.type._context),Jo(t),null;case 19:if(Si(ea),null===(a=t.memoizedState))return Jo(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Ko(a,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Ko(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&Ze()>Gl&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ta(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ko(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ss)return Jo(t),null}else 2*Ze()-a.renderingStartTime>Gl&&1073741824!==n&&(t.flags|=128,r=!0,Ko(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ze(),t.sibling=null,n=ea.current,xi(ea,r?1&n|2:1&n),t):(Jo(t),null);case 22:case 23:return hc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Jo(t),6&t.subtreeFlags&&(t.flags|=8192)):Jo(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Wo(e,t){switch(ns(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Si(Di),Si(Ni),ra(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $s(t),null;case 13:if(Si(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ea),null;case 4:return Xs(),null;case 10:return Ts(t.type._context),null;case 22:case 23:return hc(),null;default:return null}}_o=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ro=function(){},Po=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ws(Ks.current);var s,a=null;switch(n){case"input":i=q(e,i),r=q(e,r),a=[];break;case"select":i=Q({},i,{value:void 0}),r=Q({},r,{value:void 0}),a=[];break;case"textarea":i=ie(e,i),r=ie(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ei)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&jr("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Oo=function(e,t,n,r){n!==r&&(t.flags|=4)};var qo=!1,Xo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,$o=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[fi],delete t[pi],delete t[mi],delete t[Ai],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ei));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var dl=null,hl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Xo||el(n,t);case 6:var r=dl,i=hl;dl=null,fl(e,t,n),hl=i,null!==(dl=r)&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(hl?(e=dl,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Gt(e)):ci(dl,n.stateNode));break;case 4:r=dl,i=hl,dl=n.stateNode.containerInfo,hl=!0,fl(e,t,n),dl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,fl(e,t,n),Xo=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach(function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,hl=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===dl)throw Error(s(160));pl(a,o,i),dl=null,hl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)Al(t,e),t=t.sibling}function Al(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){kc(e,e.return,m)}try{rl(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{fe(i,"")}catch(m){kc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Z(i,a),we(l,o);var u=we(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?Ae(i,h):"dangerouslySetInnerHTML"===d?he(i,h):"children"===d?fe(i,h):v(i,d,h,u)}switch(l){case"input":$(i,a);break;case"textarea":ae(i,a);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?re(i,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?re(i,!!a.multiple,a.defaultValue,!0):re(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(m){kc(e,e.return,m)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){kc(e,e.return,m)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Vl=Ze())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,ml(t,e),Xo=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for($o=e,d=e.child;null!==d;){for(h=$o=d;null!==$o;){switch(p=(f=$o).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var g=f.stateNode;if("function"===typeof g.componentWillUnmount){r=f,n=f.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kc(r,n,m)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(h);continue}}null!==p?(p.return=f,$o=p):El(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(m){kc(e,e.return,m)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(fe(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){$o=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==$o;){var i=$o,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||qo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=qo;var c=Xo;if(qo=a,(Xo=l)&&!c)for($o=i;null!==$o;)l=(a=$o).child,22===a.tag&&null!==a.memoizedState?Cl(i):null!==l?(l.return=a,$o=l):Cl(i);for(;null!==s;)$o=s,wl(s,t,n),s=s.sibling;$o=i,qo=o,Xo=c}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$o=s):bl(e)}}function bl(e){for(;null!==$o;){var t=$o;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:no(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&zs(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zs(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Gt(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&sl(t)}catch(f){kc(t,t.return,f)}}if(t===e){$o=null;break}if(null!==(n=t.sibling)){n.return=t.return,$o=n;break}$o=t.return}}function El(e){for(;null!==$o;){var t=$o;if(t===e){$o=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$o=n;break}$o=t.return}}function Cl(e){for(;null!==$o;){var t=$o;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){kc(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){$o=null;break}var o=t.sibling;if(null!==o){o.return=t.return,$o=o;break}$o=t.return}}var Il,kl=Math.ceil,Sl=w.ReactCurrentDispatcher,xl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Nl=0,Dl=null,Bl=null,_l=0,Rl=0,Pl=ki(0),Ol=0,Ll=null,Ml=0,Ql=0,Fl=0,jl=null,Ul=null,Vl=0,Gl=1/0,zl=null,Hl=!1,Kl=null,Jl=null,Yl=!1,Wl=null,ql=0,Xl=0,Zl=null,$l=-1,ec=0;function tc(){return 0!==(6&Nl)?Ze():-1!==$l?$l:$l=Ze()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==_l?_l&-_l:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(s(185));yt(e,n,r),0!==(2&Nl)&&e===Dl||(e===Dl&&(0===(2&Nl)&&(Ql|=n),4===Ol&&lc(e,_l)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Gl=Ze()+500,ji&&Gi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-ot(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ft(e,e===Dl?_l:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){ji=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi(function(){0===(6&Nl)&&Gi()}),n=null;else{switch(bt(r)){case 1:n=et;break;case 4:n=tt;break;case 16:default:n=nt;break;case 536870912:n=it}n=Dc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if($l=-1,ec=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=ft(e,e===Dl?_l:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=Ac(e,r);else{t=r;var i=Nl;Nl|=2;var a=gc();for(Dl===e&&_l===t||(zl=null,Gl=Ze()+500,fc(e,t));;)try{vc();break}catch(l){pc(e,l)}xs(),Sl.current=a,Nl=i,null!==Bl?t=0:(Dl=null,_l=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=gt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ll,fc(e,0),lc(e,r),ic(e,Ze()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!lr(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=Ac(e,r))&&(0!==(a=gt(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ll,fc(e,0),lc(e,r),ic(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,Ul,zl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Vl+500-Ze())){if(0!==ft(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ii(Ec.bind(null,e,Ul,zl),t);break}Ec(e,Ul,zl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-ot(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ii(Ec.bind(null,e,Ul,zl),r);break}Ec(e,Ul,zl);break;default:throw Error(s(329))}}}return ic(e,Ze()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=jl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=Ac(e,t))&&(t=Ul,Ul=n,null!==t&&oc(t)),e}function oc(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function lc(e,t){for(t&=~Fl,t&=~Ql,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(s(327));Cc();var t=ft(e,0);if(0===(1&t))return ic(e,Ze()),null;var n=Ac(e,t);if(0!==e.tag&&2===n){var r=gt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ll,fc(e,0),lc(e,t),ic(e,Ze()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Ul,zl),ic(e,Ze()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Gl=Ze()+500,ji&&Gi())}}function dc(e){null!==Wl&&0===Wl.tag&&0===(6&Nl)&&Cc();var t=Nl;Nl|=1;var n=Tl.transition,r=wt;try{if(Tl.transition=null,wt=1,e)return e()}finally{wt=r,Tl.transition=n,0===(6&(Nl=t))&&Gi()}}function hc(){Rl=Pl.current,Si(Pl)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,si(n)),null!==Bl)for(n=Bl.return;null!==n;){var r=n;switch(ns(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Xs(),Si(Di),Si(Ni),ra();break;case 5:$s(r);break;case 4:Xs();break;case 13:case 19:Si(ea);break;case 10:Ts(r.type._context);break;case 22:case 23:hc()}n=n.return}if(Dl=e,Bl=e=Pc(e.current,null),_l=Rl=t,Ol=0,Ll=null,Fl=Ql=Ml=0,Ul=jl=null,null!==_s){for(t=0;t<_s.length;t++)if(null!==(r=(n=_s[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}_s=null}return e}function pc(e,t){for(;;){var n=Bl;try{if(xs(),ia.current=Za,ua){for(var r=oa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ua=!1}if(aa=0,ca=la=oa=null,da=!1,ha=0,xl.current=null,null===n||null===n.return){Ol=1,Ll=t,Bl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=_l,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ao(o);if(null!==p){p.flags&=-257,yo(p,o,l,0,t),1&p.mode&&mo(a,u,t),c=u;var g=(t=p).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(ss&&1&l.mode){var A=Ao(o);if(null!==A){0===(65536&A.flags)&&(A.flags|=256),yo(A,o,l,0,t),gs(co(c,l));break e}}a=c=co(c,l),4!==Ol&&(Ol=2),null===jl?jl=[a]:jl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,po(0,c,t));break e;case 1:l=c;var y=a.type,v=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Jl||!Jl.has(v)))){a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,go(a,l,t));break e}}a=a.return}while(null!==a)}bc(n)}catch(w){t=w,Bl===n&&null!==n&&(Bl=n=n.return);continue}break}}function gc(){var e=Sl.current;return Sl.current=Za,null===e?Za:e}function mc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===Dl||0===(268435455&Ml)&&0===(268435455&Ql)||lc(Dl,_l)}function Ac(e,t){var n=Nl;Nl|=2;var r=gc();for(Dl===e&&_l===t||(zl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(xs(),Nl=n,Sl.current=r,null!==Bl)throw Error(s(261));return Dl=null,_l=0,Ol}function yc(){for(;null!==Bl;)wc(Bl)}function vc(){for(;null!==Bl&&!qe();)wc(Bl)}function wc(e){var t=Il(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?bc(e):Bl=t,xl.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Yo(n,t,Rl)))return void(Bl=n)}else{if(null!==(n=Wo(n,t)))return n.flags&=32767,void(Bl=n);if(null===e)return Ol=6,void(Bl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Bl=t);Bl=t=e}while(null!==t);0===Ol&&(Ol=5)}function Ec(e,t,n){var r=wt,i=Tl.transition;try{Tl.transition=null,wt=1,function(e,t,n,r){do{Cc()}while(null!==Wl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Dl&&(Bl=Dl=null,_l=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Yl||(Yl=!0,Dc(nt,function(){return Cc(),null})),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=wt;wt=1;var l=Nl;Nl|=4,xl.current=null,function(e,t){if(ti=Ht,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(b){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=o),f===a&&++d===r&&(c=o),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ni={focusedElem:e,selectionRange:n},Ht=!1,$o=t;null!==$o;)if(e=(t=$o).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$o=e;else for(;null!==$o;){t=$o;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,A=g.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:no(t.type,m),A);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(b){kc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,$o=e;break}$o=t.return}g=nl,nl=!1}(e,n),Al(n,e),gr(ni),Ht=!!ti,ni=ti=null,e.current=n,vl(n,e,i),Xe(),Nl=l,wt=o,Tl.transition=a}else e.current=n;if(Yl&&(Yl=!1,Wl=e,ql=i),a=e.pendingLanes,0===a&&(Jl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&ql)&&0!==e.tag&&Cc(),a=e.pendingLanes,0!==(1&a)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Gi()}(e,t,n,r)}finally{Tl.transition=i,wt=r}return null}function Cc(){if(null!==Wl){var e=bt(ql),t=Tl.transition,n=wt;try{if(Tl.transition=null,wt=16>e?16:e,null===Wl)var r=!1;else{if(e=Wl,Wl=null,ql=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,$o=e.current;null!==$o;){var a=$o,o=a.child;if(0!==(16&$o.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($o=u;null!==$o;){var d=$o;switch(d.tag){case 0:case 11:case 15:rl(8,d,a)}var h=d.child;if(null!==h)h.return=d,$o=h;else for(;null!==$o;){var f=(d=$o).sibling,p=d.return;if(al(d),d===u){$o=null;break}if(null!==f){f.return=p,$o=f;break}$o=p}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var A=m.sibling;m.sibling=null,m=A}while(null!==m)}}$o=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,$o=o;else e:for(;null!==$o;){if(0!==(2048&(a=$o).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,$o=y;break e}$o=a.return}}var v=e.current;for($o=v;null!==$o;){var w=(o=$o).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,$o=w;else e:for(o=v;null!==$o;){if(0!==(2048&(l=$o).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){kc(l,l.return,E)}if(l===o){$o=null;break e}var b=l.sibling;if(null!==b){b.return=l.return,$o=b;break e}$o=l.return}}if(Nl=i,Gi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(E){}r=!0}return r}finally{wt=n,Tl.transition=t}}return!1}function Ic(e,t,n){e=js(e,t=po(0,t=co(n,t),1),1),t=tc(),null!==e&&(yt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Jl||!Jl.has(r))){t=js(t,e=go(t,e=co(n,e),1),1),e=tc(),null!==t&&(yt(t,1,e),ic(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Dl===e&&(_l&n)===n&&(4===Ol||3===Ol&&(130023424&_l)===_l&&500>Ze()-Vl?fc(e,0):Fl|=n),ic(e,t)}function xc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=tc();null!==(e=Os(e,t))&&(yt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),xc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),xc(e,n)}function Dc(e,t){return Ye(e,t)}function Bc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _c(e,t,n,r){return new Bc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=_c(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Rc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case C:return Lc(n.children,i,a,t);case I:o=8,i|=8;break;case k:return(e=_c(12,n,t,2|i)).elementType=k,e.lanes=a,e;case N:return(e=_c(13,n,t,i)).elementType=N,e.lanes=a,e;case D:return(e=_c(19,n,t,i)).elementType=D,e.lanes=a,e;case P:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:o=10;break e;case x:o=9;break e;case T:o=11;break e;case B:o=14;break e;case _:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=_c(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Lc(e,t,n,r){return(e=_c(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=_c(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Qc(e,t,n){return(e=_c(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=_c(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=At(0),this.expirationTimes=At(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=At(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,s,a,o,l){return e=new jc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=_c(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ms(s),e}function Vc(e){if(!e)return Ti;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Gc(e,t,n,r,i,s,a,o,l){return(e=Uc(n,r,!0,e,0,s,0,o,l)).context=Vc(null),n=e.current,(s=Fs(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,js(n,s,i),e.current.lanes=i,yt(e,i,r),ic(e,r),e}function zc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=Vc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=js(i,t,a))&&(rc(e,i,a,s),Us(e,i,a)),a}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Jc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Di.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Do(t),ps();break;case 5:Zs(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(Cs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Qo(e,t,n):(xi(ea,1&ea.current),null!==(e=Ho(e,t,n))?e.sibling:null);xi(ea,1&ea.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Go(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(ea,ea.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return Ho(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,ss&&0!==(1048576&t.flags)&&es(t,Ji,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zo(e,t),e=t.pendingProps;var i=_i(t,Ni.current);Ds(t,n),i=ma(null,t,r,e,i,n);var a=Aa();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ms(t),i.updater=io,t.stateNode=i,i._reactInternals=t,lo(t,r,e,n),t=No(null,t,r,!0,a,n)):(t.tag=0,ss&&a&&ts(t),bo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===B)return 14}return 2}(r),e=no(r,e),i){case 0:t=xo(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=Eo(null,t,r,e,n);break e;case 14:t=Co(null,t,r,no(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,xo(e,t,r,i=t.elementType===r?i:no(r,i),n);case 1:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:no(r,i),n);case 3:e:{if(Do(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Qs(e,t),Gs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Bo(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=Bo(e,t,r,n,i=co(Error(s(424)),t));break e}for(is=ui(t.stateNode.containerInfo.firstChild),rs=t,ss=!0,as=null,n=Es(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Ho(e,t,n);break e}bo(e,t,r,n)}t=t.child}return t;case 5:return Zs(t),null===e&&us(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ri(r,i)?o=null:null!==a&&ri(r,a)&&(t.flags|=32),So(e,t),bo(e,t,o,n),t.child;case 6:return null===e&&us(t),null;case 13:return Qo(e,t,n);case 4:return qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):bo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Eo(e,t,r,i=t.elementType===r?i:no(r,i),n);case 7:return bo(e,t,t.pendingProps,n),t.child;case 8:case 12:return bo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,xi(Cs,r._currentValue),r._currentValue=o,null!==a)if(lr(a.value,o)){if(a.children===i.children&&!Di.current){t=Ho(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ns(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ns(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}bo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ds(t,n),r=r(i=Bs(i)),t.flags|=1,bo(e,t,r,n),t.child;case 14:return i=no(r=t.type,t.pendingProps),Co(e,t,r,i=no(r.type,i),n);case 15:return Io(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:no(r,i),zo(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ds(t,n),ao(t,r,i),lo(t,r,i,n),No(null,t,r,!0,e,n);case 19:return Go(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Yc="function"===typeof reportError?reportError:function(e){console.error(e)};function Wc(e){this._internalRoot=e}function qc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Hc(a);o.call(e)}}zc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(a);s.call(e)}}var a=Gc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[gi]=a.current,Gr(8===e.nodeType?e.parentNode:e),dc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Hc(l);o.call(e)}}var l=Uc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[gi]=l.current,Gr(8===e.nodeType?e.parentNode:e),dc(function(){zc(t,l,n,r)}),l}(n,t,e,i,r);return Hc(a)}qc.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));zc(e,t,null,null)},qc.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){zc(null,e,null,null)}),t[gi]=null}},qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Qt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(vt(t,1|n),ic(t,Ze()),0===(6&Nl)&&(Gl=Ze()+500,Gi()))}break;case 13:dc(function(){var t=Os(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}}),Jc(e,1)}},Ct=function(e){if(13===e.tag){var t=Os(e,134217728);if(null!==t)rc(t,e,134217728,tc());Jc(e,134217728)}},It=function(e){if(13===e.tag){var t=nc(e),n=Os(e,t);if(null!==n)rc(n,e,t,tc());Jc(e,t)}},kt=function(){return wt},St=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ce=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(s(90));Y(r),$(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&re(e,!!n.multiple,t,!1)}},Ne=uc,De=dc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,Ei,xe,Te,uc]},nu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{st=iu.inject(ru),at=iu}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Yc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[gi]=t.current,Gr(8===e.nodeType?e.parentNode:e),new Wc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Yc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Gc(t,null,e,1,null!=n?n:null,i,0,a,o),e[gi]=t.current,Gr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new qc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(dc(function(){eu(null,null,e,!1,function(){e._reactRootContainer=null,e[gi]=null})}),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},786:(e,t,n)=>{n.r(t),n.d(t,{ActionCodeOperation:()=>h,ActionCodeURL:()=>tt,AuthCredential:()=>Ge,AuthErrorCodes:()=>A,EmailAuthCredential:()=>qe,EmailAuthProvider:()=>rt,FacebookAuthProvider:()=>ot,FactorId:()=>l,GithubAuthProvider:()=>ct,GoogleAuthProvider:()=>lt,OAuthCredential:()=>Ze,OAuthProvider:()=>at,OperationType:()=>d,PhoneAuthCredential:()=>et,PhoneAuthProvider:()=>sr,PhoneMultiFactorGenerator:()=>ri,ProviderId:()=>c,RecaptchaVerifier:()=>Zn,SAMLAuthProvider:()=>dt,SignInMethod:()=>u,TotpMultiFactorGenerator:()=>ii,TotpSecret:()=>ai,TwitterAuthProvider:()=>ht,applyActionCode:()=>Lt,beforeAuthStateChanged:()=>cn,browserLocalPersistence:()=>kn,browserPopupRedirectResolver:()=>ei,browserSessionPersistence:()=>xn,checkActionCode:()=>Mt,confirmPasswordReset:()=>Ot,connectAuthEmulator:()=>je,createUserWithEmailAndPassword:()=>Ft,debugErrorMap:()=>p,deleteUser:()=>gn,fetchSignInMethodsForEmail:()=>zt,getAdditionalUserInfo:()=>rn,getAuth:()=>pi,getIdToken:()=>X,getIdTokenResult:()=>Z,getMultiFactorResolver:()=>yn,getRedirectResult:()=>xr,inMemoryPersistence:()=>pe,indexedDBLocalPersistence:()=>Vn,initializeAuth:()=>Fe,initializeRecaptchaConfig:()=>an,isSignInWithEmailLink:()=>Vt,linkWithCredential:()=>St,linkWithPhoneNumber:()=>tr,linkWithPopup:()=>gr,linkWithRedirect:()=>Sr,multiFactor:()=>bn,onAuthStateChanged:()=>un,onIdTokenChanged:()=>ln,parseActionCodeURL:()=>nt,prodErrorMap:()=>g,reauthenticateWithCredential:()=>xt,reauthenticateWithPhoneNumber:()=>nr,reauthenticateWithPopup:()=>pr,reauthenticateWithRedirect:()=>kr,reload:()=>ae,revokeAccessToken:()=>pn,sendEmailVerification:()=>Ht,sendPasswordResetEmail:()=>Pt,sendSignInLinkToEmail:()=>Ut,setPersistence:()=>sn,signInAnonymously:()=>mt,signInWithCredential:()=>kt,signInWithCustomToken:()=>Tt,signInWithEmailAndPassword:()=>jt,signInWithEmailLink:()=>Gt,signInWithPhoneNumber:()=>er,signInWithPopup:()=>fr,signInWithRedirect:()=>Ir,signOut:()=>fn,unlink:()=>wt,updateCurrentUser:()=>hn,updateEmail:()=>Yt,updatePassword:()=>Wt,updatePhoneNumber:()=>ir,updateProfile:()=>Jt,useDeviceLanguage:()=>dn,validatePassword:()=>on,verifyBeforeUpdateEmail:()=>Kt,verifyPasswordResetCode:()=>Qt});var r=n(150),i=n(700),s=n(443);function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var o=n(812);const l={PHONE:"phone",TOTP:"totp"},c={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},u={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},d={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},h={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function f(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},g=f,m=new i.FA("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),A={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type"},y=new s.Vy("@firebase/auth");function v(e){if(y.logLevel<=s.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];y.error("Auth (".concat(r.MF,"): ").concat(e),...n)}}function w(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw k(e,...n)}function b(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return k(e,...n)}function E(e,t,n){const r=Object.assign(Object.assign({},g()),{[t]:n});return new i.FA("auth","Firebase",r).create(t,{appName:e.name})}function C(e){return E(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function I(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&w(e,"argument-error"),E(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function k(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return m.create(e,...n)}function S(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw k(t,...r)}}function x(e){const t="INTERNAL ASSERTION FAILED: "+e;throw v(t),new Error(t)}function T(e,t){e||x(t)}function N(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function D(){return"http:"===B()||"https:"===B()}function B(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class _{constructor(e,t){this.shortDelay=e,this.longDelay=t,T(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,i.jZ)()||(0,i.lV)()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(D()||(0,i.sr)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function R(e,t){T(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class P{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void x("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void x("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void x("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const O={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},L=new _(3e4,6e4);function M(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Q(e,t,n,r){return F(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},async()=>{let s={},a={};r&&("GET"===t?a=r:s={body:JSON.stringify(r)});const o=(0,i.Am)(Object.assign({key:e.config.apiKey},a)).slice(1),l=await e._getAdditionalHeaders();l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode);const c=Object.assign({method:t,headers:l},s);return(0,i.c1)()||(c.referrerPolicy="no-referrer"),P.fetch()(U(e,e.config.apiHost,n,o),c)})}async function F(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},O),t);try{const t=new G(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw z(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw z(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw z(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw z(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw E(e,o,a);w(e,o)}}catch(s){if(s instanceof i.g)throw s;w(e,"network-request-failed",{message:String(s)})}}async function j(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Q(e,t,n,r,i);return"mfaPendingCredential"in s&&w(e,"multi-factor-auth-required",{_serverResponse:s}),s}function U(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?R(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function V(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class G{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(b(this.auth,"network-request-failed")),L.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function z(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=b(e,t,r);return i.customData._tokenResponse=n,i}function H(e){return void 0!==e&&void 0!==e.getResponse}function K(e){return void 0!==e&&void 0!==e.enterprise}class J{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return V(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Y(e,t){return Q(e,"GET","/v2/recaptchaConfig",M(e,t))}async function W(e,t){return Q(e,"POST","/v1/accounts:lookup",t)}function q(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function X(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return(0,i.Ku)(e).getIdToken(t)}async function Z(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=(0,i.Ku)(e),r=await n.getIdToken(t),s=ee(r);S(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const a="object"===typeof s.firebase?s.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:q($(s.auth_time)),issuedAtTime:q($(s.iat)),expirationTime:q($(s.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}function $(e){return 1e3*Number(e)}function ee(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return v("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,i.u)(n);return e?JSON.parse(e):(v("Failed to decode base64 JWT payload"),null)}catch(s){return v("Caught error parsing JWT payload as JSON",null===s||void 0===s?void 0:s.toString()),null}}function te(e){const t=ee(e);return S(t,"internal-error"),S("undefined"!==typeof t.exp,"internal-error"),S("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ne(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof i.g&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class re{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ie{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=q(this.lastLoginAt),this.creationTime=q(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function se(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ne(e,W(n,{idToken:r}));S(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?oe(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter(e=>!c.some(t=>t.providerId===e.providerId)),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ie(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,f)}async function ae(e){const t=(0,i.Ku)(e);await se(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oe(e){return e.map(e=>{var{providerId:t}=e,n=a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}class le{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){S(e.idToken,"internal-error"),S("undefined"!==typeof e.idToken,"internal-error"),S("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):te(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){S(0!==e.length,"internal-error");const t=te(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(S(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:s}=await async function(e,t){const n=await F(e,{},async()=>{const n=(0,i.Am)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=e.config,a=U(e,r,"/v1/token","key=".concat(s)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",P.fetch()(a,{method:"POST",headers:o,body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(s))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new le;return n&&(S("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(S("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(S("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new le,this.toJSON())}_performRefresh(){return x("not implemented")}}function ce(e,t){S("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ue{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=a(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new re(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ie(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ne(this,this.stsTokenManager.getToken(this.auth,e));return S(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return Z(this,e)}reload(){return ae(this)}_assign(e){this!==e&&(S(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ue(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await se(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if((0,r.xZ)(this.auth.app))return Promise.reject(C(this.auth));const e=await this.getIdToken();return await ne(this,async function(e,t){return Q(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,A=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:v,isAnonymous:w,providerData:b,stsTokenManager:E}=t;S(y&&E,e,"internal-error");const C=le.fromJSON(this.name,E);S("string"===typeof y,e,"internal-error"),ce(u,e.name),ce(d,e.name),S("boolean"===typeof v,e,"internal-error"),S("boolean"===typeof w,e,"internal-error"),ce(h,e.name),ce(f,e.name),ce(p,e.name),ce(g,e.name),ce(m,e.name),ce(A,e.name);const I=new ue({uid:y,auth:e,email:d,emailVerified:v,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:C,createdAt:m,lastLoginAt:A});return b&&Array.isArray(b)&&(I.providerData=b.map(e=>Object.assign({},e))),g&&(I._redirectEventId=g),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new le;r.updateFromServerResponse(t);const i=new ue({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await se(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];S(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?oe(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new le;a.updateFromIdToken(n);const o=new ue({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ie(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const de=new Map;function he(e){T(e instanceof Function,"Expected a class definition");let t=de.get(e);return t?(T(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,de.set(e,t),t)}class fe{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}fe.type="NONE";const pe=fe;function ge(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class me{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ge(this.userKey,r.apiKey,i),this.fullPersistenceKey=ge("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ue._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new me(he(pe),e,n);const r=(await Promise.all(t.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e);let i=r[0]||he(pe);const s=ge(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=ue._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter(e=>e._shouldAllowMigration);return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map(async e=>{if(e!==i)try{await e._remove(s)}catch(l){}})),new me(i,e,n)):new me(i,e,n)}}function Ae(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(be(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ye(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ce(t))return"Blackberry";if(Ie(t))return"Webos";if(ve(t))return"Safari";if((t.includes("chrome/")||we(t))&&!t.includes("edge/"))return"Chrome";if(Ee(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function ye(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/firefox\//i.test(e)}function ve(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function we(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/crios\//i.test(e)}function be(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iemobile/i.test(e)}function Ee(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/android/i.test(e)}function Ce(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/blackberry/i.test(e)}function Ie(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/webos/i.test(e)}function ke(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Se(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)();return ke(e)||Ee(e)||Ie(e)||Ce(e)||/windows phone/i.test(e)||be(e)}function xe(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ae((0,i.ZQ)());break;case"Worker":t="".concat(Ae((0,i.ZQ)()),"-").concat(e);break;default:t=e}const s=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(r.MF,"/").concat(s)}class Te{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Ne{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class De{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _e(this),this.idTokenSubscription=new _e(this),this.beforeStateQueue=new Te(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=m,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=he(t)),this._initializationPromise=this.queue(async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await me.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await W(this,{idToken:e}),n=await ue._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if((0,r.xZ)(this.app)){const e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let i=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,r=null===i||void 0===i?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==r||!(null===a||void 0===a?void 0:a.user)||(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return S(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await se(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if((0,r.xZ)(this.app))return Promise.reject(C(this));const t=e?(0,i.Ku)(e):null;return t&&S(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&S(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return(0,r.xZ)(this.app)?Promise.reject(C(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return(0,r.xZ)(this.app)?Promise.reject(C(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(he(e))})}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Q(e,"GET","/v2/passwordPolicy",M(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Ne(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new i.FA("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Q(e,"POST","/v2/accounts:revokeToken",M(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&he(e)||this._popupRedirectResolver;S(t,this,"argument-error"),this.redirectPersistenceManager=await me.create(this,[he(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(S(a,this,"internal-error"),a.then(()=>{s||i(this.currentUser)}),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(y.logLevel<=s.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];y.warn("Auth (".concat(r.MF,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Be(e){return(0,i.Ku)(e)}class _e{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,i.tD)(e=>this.observer=e)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Re={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Pe(e){return Re.loadJS(e)}function Oe(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Le{constructor(e){this.type="recaptcha-enterprise",this.auth=Be(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;K(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n("NO_RECAPTCHA")})}):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{Y(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(r=>{if(void 0!==r.recaptchaKey){const n=new J(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))}).catch(e=>{n(e)})})})(this.auth).then(i=>{if(!t&&K(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Re.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Pe(t).then(()=>{n(i,e,r)}).catch(e=>{r(e)})}}).catch(e=>{r(e)})})}}async function Me(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Le(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Qe(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Me(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch(async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Me(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)})}function Fe(e,t){const n=(0,r.j6)(e,"auth");if(n.isInitialized()){const e=n.getImmediate(),r=n.getOptions();if((0,i.bD)(r,null!==t&&void 0!==t?t:{}))return e;w(e,"already-initialized")}return n.initialize({options:t})}function je(e,t,n){const r=Be(e);S(r._canInitEmulator,r,"emulator-config-failed"),S(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Ue(t),{host:a,port:o}=function(e){const t=Ue(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ve(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ve(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Ue(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ve(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ge{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return x("not implemented")}_getIdTokenResponse(e){return x("not implemented")}_linkToIdToken(e,t){return x("not implemented")}_getReauthenticationResolver(e){return x("not implemented")}}async function ze(e,t){return Q(e,"POST","/v1/accounts:resetPassword",M(e,t))}async function He(e,t){return Q(e,"POST","/v1/accounts:signUp",t)}async function Ke(e,t){return j(e,"POST","/v1/accounts:signInWithPassword",M(e,t))}async function Je(e,t){return Q(e,"POST","/v1/accounts:sendOobCode",M(e,t))}async function Ye(e,t){return Je(e,t)}async function We(e,t){return Je(e,t)}class qe extends Ge{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new qe(e,t,"password")}static _fromEmailAndCode(e,t){return new qe(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Qe(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Ke);case"emailLink":return async function(e,t){return j(e,"POST","/v1/accounts:signInWithEmailLink",M(e,t))}(e,{email:this._email,oobCode:this._password});default:w(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Qe(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",He);case"emailLink":return async function(e,t){return j(e,"POST","/v1/accounts:signInWithEmailLink",M(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:w(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xe(e,t){return j(e,"POST","/v1/accounts:signInWithIdp",M(e,t))}class Ze extends Ge{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ze(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):w("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=a(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Ze(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Xe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xe(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,i.Am)(t)}return e}}const $e={USER_NOT_FOUND:"user-not-found"};class et extends Ge{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new et({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new et({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return j(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await j(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,t));if(n.temporaryProof)throw z(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return j(e,"POST","/v1/accounts:signInWithPhoneNumber",M(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),$e)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new et({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class tt{constructor(e){var t,n,r,s,a,o;const l=(0,i.I9)((0,i.hp)(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(n=l.oobCode)&&void 0!==n?n:null,d=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);S(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(s=l.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(a=l.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=l.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=(0,i.I9)((0,i.hp)(e)).link,n=t?(0,i.I9)((0,i.hp)(t)).deep_link_id:null,r=(0,i.I9)((0,i.hp)(e)).deep_link_id;return(r?(0,i.I9)((0,i.hp)(r)).link:null)||r||n||t||e}(e);try{return new tt(t)}catch(n){return null}}}function nt(e){return tt.parseLink(e)}class rt{constructor(){this.providerId=rt.PROVIDER_ID}static credential(e,t){return qe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=tt.parseLink(t);return S(n,"argument-error"),qe._fromEmailAndCode(e,n.code,n.tenantId)}}rt.PROVIDER_ID="password",rt.EMAIL_PASSWORD_SIGN_IN_METHOD="password",rt.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class it{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class st extends it{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class at extends st{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return S("providerId"in t&&"signInMethod"in t,"argument-error"),Ze._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return S(e.idToken||e.accessToken,"argument-error"),Ze._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return at.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return at.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:a,providerId:o}=t;if(!r&&!i&&!n&&!s)return null;if(!o)return null;try{return new at(o)._credential({idToken:n,accessToken:r,nonce:a,pendingToken:s})}catch(l){return null}}}class ot extends st{constructor(){super("facebook.com")}static credential(e){return Ze._fromParams({providerId:ot.PROVIDER_ID,signInMethod:ot.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ot.credentialFromTaggedObject(e)}static credentialFromError(e){return ot.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ot.credential(t.oauthAccessToken)}catch(n){return null}}}ot.FACEBOOK_SIGN_IN_METHOD="facebook.com",ot.PROVIDER_ID="facebook.com";class lt extends st{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ze._fromParams({providerId:lt.PROVIDER_ID,signInMethod:lt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return lt.credentialFromTaggedObject(e)}static credentialFromError(e){return lt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return lt.credential(n,r)}catch(i){return null}}}lt.GOOGLE_SIGN_IN_METHOD="google.com",lt.PROVIDER_ID="google.com";class ct extends st{constructor(){super("github.com")}static credential(e){return Ze._fromParams({providerId:ct.PROVIDER_ID,signInMethod:ct.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ct.credentialFromTaggedObject(e)}static credentialFromError(e){return ct.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ct.credential(t.oauthAccessToken)}catch(n){return null}}}ct.GITHUB_SIGN_IN_METHOD="github.com",ct.PROVIDER_ID="github.com";class ut extends Ge{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Xe(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xe(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xe(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new ut(n,i):null}static _create(e,t){return new ut(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class dt extends it{constructor(e){S(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return dt.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return dt.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=ut.fromJSON(e);return S(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return ut._create(r,n)}catch(i){return null}}}class ht extends st{constructor(){super("twitter.com")}static credential(e,t){return Ze._fromParams({providerId:ht.PROVIDER_ID,signInMethod:ht.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ht.credentialFromTaggedObject(e)}static credentialFromError(e){return ht.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ht.credential(n,r)}catch(i){return null}}}async function ft(e,t){return j(e,"POST","/v1/accounts:signUp",M(e,t))}ht.TWITTER_SIGN_IN_METHOD="twitter.com",ht.PROVIDER_ID="twitter.com";class pt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ue._fromIdTokenResponse(e,n,r),s=gt(n);return new pt({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=gt(n);return new pt({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function gt(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}async function mt(e){var t;if((0,r.xZ)(e.app))return Promise.reject(C(e));const n=Be(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new pt({user:n.currentUser,providerId:null,operationType:"signIn"});const i=await ft(n,{returnSecureToken:!0}),s=await pt._fromIdTokenResponse(n,"signIn",i,!0);return await n._updateCurrentUser(s.user),s}class At extends i.g{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,At.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new At(e,t,n,r)}}function yt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw At._fromErrorAndOperation(e,n,t,r);throw n})}function vt(e){return new Set(e.map(e=>{let{providerId:t}=e;return t}).filter(e=>!!e))}async function wt(e,t){const n=(0,i.Ku)(e);await Et(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Q(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),s=vt(r||[]);return n.providerData=n.providerData.filter(e=>s.has(e.providerId)),s.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function bt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ne(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return pt._forOperation(e,"link",r)}async function Et(e,t,n){await se(t);const r=!1===e?"provider-already-linked":"no-such-provider";S(vt(t.providerData).has(n)===e,t.auth,r)}async function Ct(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:i}=e;if((0,r.xZ)(i.app))return Promise.reject(C(i));const s="reauthenticate";try{const r=await ne(e,yt(i,s,t,e),n);S(r.idToken,i,"internal-error");const a=ee(r.idToken);S(a,i,"internal-error");const{sub:o}=a;return S(e.uid===o,i,"user-mismatch"),pt._forOperation(e,s,r)}catch(a){throw(null===a||void 0===a?void 0:a.code)==="auth/".concat("user-not-found")&&w(i,"user-mismatch"),a}}async function It(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(C(e));const i="signIn",s=await yt(e,i,t),a=await pt._fromIdTokenResponse(e,i,s);return n||await e._updateCurrentUser(a.user),a}async function kt(e,t){return It(Be(e),t)}async function St(e,t){const n=(0,i.Ku)(e);return await Et(!1,n,t.providerId),bt(n,t)}async function xt(e,t){return Ct((0,i.Ku)(e),t)}async function Tt(e,t){if((0,r.xZ)(e.app))return Promise.reject(C(e));const n=Be(e),i=await async function(e,t){return j(e,"POST","/v1/accounts:signInWithCustomToken",M(e,t))}(n,{token:t,returnSecureToken:!0}),s=await pt._fromIdTokenResponse(n,"signIn",i);return await n._updateCurrentUser(s.user),s}class Nt{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Dt._fromServerResponse(e,t):"totpInfo"in t?Bt._fromServerResponse(e,t):w(e,"internal-error")}}class Dt extends Nt{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Dt(t)}}class Bt extends Nt{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new Bt(t)}}function _t(e,t,n){var r;S((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),S("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(S(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(S(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Rt(e){const t=Be(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Pt(e,t,n){const r=Be(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&_t(r,i,n),await Qe(r,i,"getOobCode",Ye)}async function Ot(e,t,n){await ze((0,i.Ku)(e),{oobCode:t,newPassword:n}).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Rt(e),t})}async function Lt(e,t){await async function(e,t){return Q(e,"POST","/v1/accounts:update",M(e,t))}((0,i.Ku)(e),{oobCode:t})}async function Mt(e,t){const n=(0,i.Ku)(e),r=await ze(n,{oobCode:t}),s=r.requestType;switch(S(s,n,"internal-error"),s){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":S(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":S(r.mfaInfo,n,"internal-error");default:S(r.email,n,"internal-error")}let a=null;return r.mfaInfo&&(a=Nt._fromServerResponse(Be(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:a},operation:s}}async function Qt(e,t){const{data:n}=await Mt((0,i.Ku)(e),t);return n.email}async function Ft(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(C(e));const i=Be(e),s=Qe(i,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ft),a=await s.catch(t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Rt(e),t}),o=await pt._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(o.user),o}function jt(e,t,n){return(0,r.xZ)(e.app)?Promise.reject(C(e)):kt((0,i.Ku)(e),rt.credential(t,n)).catch(async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Rt(e),t})}async function Ut(e,t,n){const r=Be(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){S(t.handleCodeInApp,r,"argument-error"),t&&_t(r,e,t)}(i,n),await Qe(r,i,"getOobCode",We)}function Vt(e,t){const n=tt.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}async function Gt(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(C(e));const s=(0,i.Ku)(e),a=rt.credentialWithLink(t,n||N());return S(a._tenantId===(s.tenantId||null),s,"tenant-id-mismatch"),kt(s,a)}async function zt(e,t){const n={identifier:t,continueUri:D()?N():"http://localhost"},{signinMethods:r}=await async function(e,t){return Q(e,"POST","/v1/accounts:createAuthUri",M(e,t))}((0,i.Ku)(e),n);return r||[]}async function Ht(e,t){const n=(0,i.Ku)(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&_t(n.auth,r,t);const{email:s}=await async function(e,t){return Je(e,t)}(n.auth,r);s!==e.email&&await e.reload()}async function Kt(e,t,n){const r=(0,i.Ku)(e),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&_t(r.auth,s,n);const{email:a}=await async function(e,t){return Je(e,t)}(r.auth,s);a!==e.email&&await e.reload()}async function Jt(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const s=(0,i.Ku)(e),a={idToken:await s.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await ne(s,async function(e,t){return Q(e,"POST","/v1/accounts:update",t)}(s.auth,a));s.displayName=o.displayName||null,s.photoURL=o.photoUrl||null;const l=s.providerData.find(e=>{let{providerId:t}=e;return"password"===t});l&&(l.displayName=s.displayName,l.photoURL=s.photoURL),await s._updateTokensIfNecessary(o)}function Yt(e,t){const n=(0,i.Ku)(e);return(0,r.xZ)(n.auth.app)?Promise.reject(C(n.auth)):qt(n,t,null)}function Wt(e,t){return qt((0,i.Ku)(e),null,t)}async function qt(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await ne(e,async function(e,t){return Q(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class Xt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Zt extends Xt{constructor(e,t,n,r){super(e,t,n),this.username=r}}class $t extends Xt{constructor(e,t){super(e,"facebook.com",t)}}class en extends Zt{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class tn extends Xt{constructor(e,t){super(e,"google.com",t)}}class nn extends Zt{constructor(e,t,n){super(e,"twitter.com",t,n)}}function rn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=ee(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Xt(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new $t(s,i);case"github.com":return new en(s,i);case"google.com":return new tn(s,i);case"twitter.com":return new nn(s,i,e.screenName||null);case"custom":case"anonymous":return new Xt(s,null);default:return new Xt(s,r,i)}}(n)}function sn(e,t){return(0,i.Ku)(e).setPersistence(t)}function an(e){return async function(e){const t=Be(e),n=await Y(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new J(n);null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")&&new Le(t).verify()}(e)}async function on(e,t){return Be(e).validatePassword(t)}function ln(e,t,n,r){return(0,i.Ku)(e).onIdTokenChanged(t,n,r)}function cn(e,t,n){return(0,i.Ku)(e).beforeAuthStateChanged(t,n)}function un(e,t,n,r){return(0,i.Ku)(e).onAuthStateChanged(t,n,r)}function dn(e){(0,i.Ku)(e).useDeviceLanguage()}function hn(e,t){return(0,i.Ku)(e).updateCurrentUser(t)}function fn(e){return(0,i.Ku)(e).signOut()}function pn(e,t){return Be(e).revokeAccessToken(t)}async function gn(e){return(0,i.Ku)(e).delete()}class mn{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new mn("enroll",e,t)}static _fromMfaPendingCredential(e){return new mn("signin",e)}toJSON(){const e="enroll"===this.type?"idToken":"pendingCredential";return{multiFactorSession:{[e]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return mn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return mn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class An{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Be(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map(e=>Nt._fromServerResponse(n,e));S(r.mfaPendingCredential,n,"internal-error");const s=mn._fromMfaPendingCredential(r.mfaPendingCredential);return new An(s,i,async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const a=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await pt._fromIdTokenResponse(n,t.operationType,a);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return S(t.user,n,"internal-error"),pt._forOperation(t.user,t.operationType,a);default:w(n,"internal-error")}})}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}function yn(e,t){var n;const r=(0,i.Ku)(e),s=t;return S(t.customData.operationType,r,"argument-error"),S(null===(n=s.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),An._fromError(r,s)}class vn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Nt._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new vn(e)}async getSession(){return mn._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await ne(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await ne(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Q(r,"POST","/v2/accounts/mfaEnrollment:withdraw",M(r,i))));this.enrolledFactors=this.enrolledFactors.filter(e=>{let{uid:n}=e;return n!==t}),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(s){throw s}var r,i}}const wn=new WeakMap;function bn(e){const t=(0,i.Ku)(e);return wn.has(t)||wn.set(t,vn._fromUser(t)),wn.get(t)}const En="__sak";class Cn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(En,"1"),this.storage.removeItem(En),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class In extends Cn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Se(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},s=this.storage.getItem(n);(0,i.lT)()&&10===document.documentMode&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}In.type="LOCAL";const kn=In;class Sn extends Cn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Sn.type="SESSION";const xn=Sn;class Tn{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(t=>t.isListeningto(e));if(t)return t;const n=new Tn(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map(async e=>e(t.origin,i)),o=await function(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Tn.receivers=[];class Dn{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise((a,o)=>{const l=Nn("",20);r.port1.start();const c=setTimeout(()=>{o(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout(()=>{o(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function Bn(){return window}function _n(){return"undefined"!==typeof Bn().WorkerGlobalScope&&"function"===typeof Bn().importScripts}const Rn="firebaseLocalStorageDb",Pn="firebaseLocalStorage",On="fbase_key";class Ln{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Mn(e,t){return e.transaction([Pn],t?"readwrite":"readonly").objectStore(Pn)}function Qn(){const e=indexedDB.open(Rn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Pn,{keyPath:On})}catch(r){n(r)}}),e.addEventListener("success",async()=>{const n=e.result;n.objectStoreNames.contains(Pn)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Rn);return new Ln(e).toPromise()}(),t(await Qn()))})})}async function Fn(e,t,n){const r=Mn(e,!0).put({[On]:t,value:n});return new Ln(r).toPromise()}function jn(e,t){const n=Mn(e,!0).delete(t);return new Ln(n).toPromise()}class Un{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||(this.db=await Qn()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _n()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Tn._getInstance(_n()?self:null),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Dn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qn();return await Fn(e,En,"1"),await jn(e,En),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Fn(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(t=>async function(e,t){const n=Mn(e,!1).get(t),r=await new Ln(n).toPromise();return void 0===r?null:r.value}(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>jn(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(e=>{const t=Mn(e,!1).getAll();return new Ln(t).toPromise()});if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Un.type="LOCAL";const Vn=Un;const Gn=1e12;class zn{constructor(e){this.auth=e,this.counter=Gn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Hn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Gn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||Gn;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||Gn;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class Hn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;S(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Kn=Oe("rcb"),Jn=new _(3e4,6e4);class Yn{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Bn().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return S(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&H(Bn().grecaptcha)?Promise.resolve(Bn().grecaptcha):new Promise((n,r)=>{const s=Bn().setTimeout(()=>{r(b(e,"network-request-failed"))},Jn.get());Bn()[Kn]=()=>{Bn().clearTimeout(s),delete Bn()[Kn];const i=Bn().grecaptcha;if(!i||!H(i))return void r(b(e,"internal-error"));const a=i.render;i.render=(e,t)=>{const n=a(e,t);return this.counter++,n},this.hostLanguage=t,n(i)};Pe("".concat(Re.recaptchaV2Script,"?").concat((0,i.Am)({onload:Kn,render:"explicit",hl:t}))).catch(()=>{clearTimeout(s),r(b(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Bn().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Wn{async load(e){return new zn(e)}clearedOneInstance(){}}const qn="recaptcha",Xn={theme:"light",type:"image"};class Zn{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},Xn);this.parameters=n,this.type=qn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Be(e),this.isInvisible="invisible"===this.parameters.size,S("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;S(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Wn:new Yn,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise(n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){S(!this.parameters.sitekey,this.auth,"argument-error"),S(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),S("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"===typeof e)e(t);else if("string"===typeof e){const n=Bn()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){S(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){S(D()&&!_n(),this.auth,"internal-error"),await function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Q(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);S(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return S(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class $n{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=et._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function er(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(C(e));const s=Be(e),a=await rr(s,t,(0,i.Ku)(n));return new $n(a,e=>kt(s,e))}async function tr(e,t,n){const r=(0,i.Ku)(e);await Et(!1,r,"phone");const s=await rr(r.auth,t,(0,i.Ku)(n));return new $n(s,e=>St(r,e))}async function nr(e,t,n){const s=(0,i.Ku)(e);if((0,r.xZ)(s.auth.app))return Promise.reject(C(s.auth));const a=await rr(s.auth,t,(0,i.Ku)(n));return new $n(a,e=>xt(s,e))}async function rr(e,t,n){var r;const i=await n.verify();try{let s;if(S("string"===typeof i,e,"argument-error"),S(n.type===qn,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){S("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Q(e,"POST","/v2/accounts/mfaEnrollment:start",M(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{S("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;S(n,e,"missing-multi-factor-info");const a=await function(e,t){return Q(e,"POST","/v2/accounts/mfaSignIn:start",M(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Q(e,"POST","/v1/accounts:sendVerificationCode",M(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}async function ir(e,t){const n=(0,i.Ku)(e);if((0,r.xZ)(n.auth.app))return Promise.reject(C(n.auth));await bt(n,t)}class sr{constructor(e){this.providerId=sr.PROVIDER_ID,this.auth=Be(e)}verifyPhoneNumber(e,t){return rr(this.auth,e,(0,i.Ku)(t))}static credential(e,t){return et._fromVerification(e,t)}static credentialFromResult(e){const t=e;return sr.credentialFromTaggedObject(t)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?et._fromTokenResponse(n,r):null}}function ar(e,t){return t?he(t):(S(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}sr.PROVIDER_ID="phone",sr.PHONE_SIGN_IN_METHOD="phone";class or extends Ge{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xe(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xe(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xe(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function lr(e){return It(e.auth,new or(e),e.bypassAuthState)}function cr(e){const{auth:t,user:n}=e;return S(n,t,"internal-error"),Ct(n,new or(e),e.bypassAuthState)}async function ur(e){const{auth:t,user:n}=e;return S(n,t,"internal-error"),bt(n,new or(e),e.bypassAuthState)}class dr{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return lr;case"linkViaPopup":case"linkViaRedirect":return ur;case"reauthViaPopup":case"reauthViaRedirect":return cr;default:w(this.auth,"internal-error")}}resolve(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hr=new _(2e3,1e4);async function fr(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(b(e,"operation-not-supported-in-this-environment"));const i=Be(e);I(e,t,it);const s=ar(i,n);return new mr(i,"signInViaPopup",t,s).executeNotNull()}async function pr(e,t,n){const s=(0,i.Ku)(e);if((0,r.xZ)(s.auth.app))return Promise.reject(b(s.auth,"operation-not-supported-in-this-environment"));I(s.auth,t,it);const a=ar(s.auth,n);return new mr(s.auth,"reauthViaPopup",t,a,s).executeNotNull()}async function gr(e,t,n){const r=(0,i.Ku)(e);I(r.auth,t,it);const s=ar(r.auth,n);return new mr(r.auth,"linkViaPopup",t,s,r).executeNotNull()}class mr extends dr{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,mr.currentPopupAction&&mr.currentPopupAction.cancel(),mr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return S(e,this.auth,"internal-error"),e}async onExecution(){T(1===this.filter.length,"Popup operations only handle one event");const e=Nn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(b(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(b(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,mr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(b(this.auth,"popup-closed-by-user"))},8e3):this.pollId=window.setTimeout(e,hr.get())};e()}}mr.currentPopupAction=null;const Ar="pendingRedirect",yr=new Map;class vr extends dr{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=yr.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Cr(t),r=Er(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}yr.set(this.auth._key(),e)}return this.bypassAuthState||yr.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function wr(e,t){return Er(e)._set(Cr(t),"true")}function br(e,t){yr.set(e._key(),t)}function Er(e){return he(e._redirectPersistence)}function Cr(e){return ge(Ar,e.config.apiKey,e.name)}function Ir(e,t,n){return async function(e,t,n){if((0,r.xZ)(e.app))return Promise.reject(C(e));const i=Be(e);I(e,t,it),await i._initializationPromise;const s=ar(i,n);return await wr(s,i),s._openRedirect(i,t,"signInViaRedirect")}(e,t,n)}function kr(e,t,n){return async function(e,t,n){const s=(0,i.Ku)(e);if(I(s.auth,t,it),(0,r.xZ)(s.auth.app))return Promise.reject(C(s.auth));await s.auth._initializationPromise;const a=ar(s.auth,n);await wr(a,s.auth);const o=await Nr(s);return a._openRedirect(s.auth,t,"reauthViaRedirect",o)}(e,t,n)}function Sr(e,t,n){return async function(e,t,n){const r=(0,i.Ku)(e);I(r.auth,t,it),await r.auth._initializationPromise;const s=ar(r.auth,n);await Et(!1,r,t.providerId),await wr(s,r.auth);const a=await Nr(r);return s._openRedirect(r.auth,t,"linkViaRedirect",a)}(e,t,n)}async function xr(e,t){return await Be(e)._initializationPromise,Tr(e,t,!1)}async function Tr(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if((0,r.xZ)(e.app))return Promise.reject(C(e));const i=Be(e),s=ar(i,t),a=new vr(i,s,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,t)),o}async function Nr(e){const t=Nn("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Dr{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _r(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!_r(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(b(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Br(e))}saveEventToCache(e){this.cachedEventUids.add(Br(e)),this.lastProcessedEventTime=Date.now()}}function Br(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function _r(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pr=/^https?/;async function Or(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Q(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Lr(r))return}catch(n){}w(e,"unauthorized-domain")}function Lr(e){const t=N(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Pr.test(n))return!1;if(Rr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Mr=new _(3e4,6e4);function Qr(){const e=Bn().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Fr(e){return new Promise((t,n)=>{var r,i,s;function a(){Qr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qr(),n(b(e,"network-request-failed"))},timeout:Mr.get()})}if(null===(i=null===(r=Bn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Bn().gapi)||void 0===s?void 0:s.load)){const t=Oe("iframefcb");return Bn()[t]=()=>{gapi.load?a():n(b(e,"network-request-failed"))},Pe("".concat(Re.gapiScript,"?onload=").concat(t)).catch(e=>n(e))}a()}}).catch(e=>{throw jr=null,e})}let jr=null;const Ur=new _(5e3,15e3),Vr={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zr(e){const t=e.config;S(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?R(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),s={apiKey:t.apiKey,appName:e.name,v:r.MF},a=Gr.get(e.config.apiHost);a&&(s.eid=a);const o=e._getFrameworks();return o.length&&(s.fw=o.join(",")),"".concat(n,"?").concat((0,i.Am)(s).slice(1))}async function Hr(e){const t=await function(e){return jr=jr||Fr(e),jr}(e),n=Bn().gapi;return S(n,e,"internal-error"),t.open({where:document.body,url:zr(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vr,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=b(e,"network-request-failed"),s=Bn().setTimeout(()=>{r(i)},Ur.get());function a(){Bn().clearTimeout(s),n(t)}t.ping(a).then(a,()=>{r(i)})}))}const Kr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Jr{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Yr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},Kr),{width:r.toString(),height:s.toString(),top:a,left:o}),u=(0,i.ZQ)().toLowerCase();n&&(l=we(u)?"_blank":n),ye(u)&&(t=t||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")},"");if(function(){var e;return ke(arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,i.ZQ)())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==l)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",l),new Jr(null);const h=window.open(t||"",l,d);S(h,e,"popup-blocked");try{h.focus()}catch(f){}return new Jr(h)}const Wr="__/auth/handler",qr="emulator/auth/handler",Xr=encodeURIComponent("fac");async function Zr(e,t,n,s,a,o){S(e.config.authDomain,e,"auth-domain-config-required"),S(e.config.apiKey,e,"invalid-api-key");const l={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:s,v:r.MF,eventId:a};if(t instanceof it){t.setDefaultLanguage(e.languageCode),l.providerId=t.providerId||"",(0,i.Im)(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(o||{}))l[e]=t}if(t instanceof st){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(l.scopes=e.join(","))}e.tenantId&&(l.tid=e.tenantId);const c=l;for(const r of Object.keys(c))void 0===c[r]&&delete c[r];const u=await e._getAppCheckToken(),d=u?"#".concat(Xr,"=").concat(encodeURIComponent(u)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Wr);return R(t,qr)}(e),"?").concat((0,i.Am)(c).slice(1)).concat(d)}const $r="webStorageSupport";const ei=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xn,this._completeRedirectFn=Tr,this._overrideRedirectResult=br}async _openPopup(e,t,n,r){var i;T(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Yr(e,await Zr(e,t,n,N(),r),Nn())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Bn().location.href=e}(await Zr(e,t,n,N(),r)),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(T(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Hr(e),n=new Dr(e);return t.register("authEvent",t=>{S(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send($r,{type:$r},n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[$r];void 0!==i&&t(!!i),w(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Or(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Se()||ve()||ke()}};class ti{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return x("unexpected MultiFactorSessionType")}}}class ni extends ti{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new ni(e)}_finalizeEnroll(e,t,n){return function(e,t){return Q(e,"POST","/v2/accounts/mfaEnrollment:finalize",M(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Q(e,"POST","/v2/accounts/mfaSignIn:finalize",M(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class ri{constructor(){}static assertion(e){return ni._fromCredential(e)}}ri.FACTOR_ID="phone";class ii{static assertionForEnrollment(e,t){return si._fromSecret(e,t)}static assertionForSignIn(e,t){return si._fromEnrollmentId(e,t)}static async generateSecret(e){var t;const n=e;S("undefined"!==typeof(null===(t=n.user)||void 0===t?void 0:t.auth),"internal-error");const r=await(i=n.user.auth,s={idToken:n.credential,totpEnrollmentInfo:{}},Q(i,"POST","/v2/accounts/mfaEnrollment:start",M(i,s)));var i,s;return ai._fromStartTotpMfaEnrollmentResponse(r,n.user.auth)}}ii.FACTOR_ID="totp";class si extends ti{constructor(e,t,n){super("totp"),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(e,t){return new si(t,void 0,e)}static _fromEnrollmentId(e,t){return new si(t,e)}async _finalizeEnroll(e,t,n){return S("undefined"!==typeof this.secret,e,"argument-error"),function(e,t){return Q(e,"POST","/v2/accounts/mfaEnrollment:finalize",M(e,t))}(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){S(void 0!==this.enrollmentId&&void 0!==this.otp,e,"argument-error");const n={verificationCode:this.otp};return function(e,t){return Q(e,"POST","/v2/accounts/mfaSignIn:finalize",M(e,t))}(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class ai{constructor(e,t,n,r,i,s,a){this.sessionInfo=s,this.auth=a,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(e,t){return new ai(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,t)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){var n;let r=!1;return(oi(e)||oi(t))&&(r=!0),r&&(oi(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),oi(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}function oi(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var li="@firebase/auth",ci="1.7.9";class ui{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const di=(0,i.XA)("authIdTokenMaxAge")||300;let hi=null;const fi=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>di)return;const i=null===n||void 0===n?void 0:n.token;hi!==i&&(hi=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:(0,r.Sx)();const t=(0,r.j6)(e,"auth");if(t.isInitialized())return t.getImmediate();const n=Fe(e,{popupRedirectResolver:ei,persistence:[Vn,kn,xn]}),s=(0,i.XA)("authTokenSyncURL");if(s&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(s,location.origin);if(location.origin===e.origin){const t=fi(e.toString());cn(n,t,()=>t(n.currentUser)),ln(n,e=>t(e))}}const a=(0,i.Tj)("auth");return a&&je(n,"http://".concat(a)),n}var gi;Re={loadJS:e=>new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=b("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},gi="Browser",(0,r.om)(new o.uA("auth",(e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;S(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:gi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xe(gi)},c=new De(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(he);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,r.om)(new o.uA("auth-internal",e=>(e=>new ui(e))(Be(e.getProvider("auth").getImmediate())),"PRIVATE").setInstantiationMode("EXPLICIT")),(0,r.KO)(li,ci,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(gi)),(0,r.KO)(li,ci,"esm2017")},812:(e,t,n)=>{n.d(t,{h1:()=>o,uA:()=>i});var r=n(700);class i{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new r.cY;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===s?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class o{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+".56a0e049.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="your-music-frontend:";n.l=(r,i,s,a)=>{if(e[r])e[r].push(i);else{var o,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+s){o=d;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",o.timeout=120,n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+s),o.src=r),e[r]=[i];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),i&&i.forEach(e=>e(n)),t)return t(n)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/your-music-frontend/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise((n,r)=>i=e[t]=[n,r]);r.push(i[2]=s);var a=n.p+n.u(t),o=new Error;n.l(a,r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",o.name="ChunkLoadError",o.type=s,o.request=a,i[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var i,s,a=r[0],o=r[1],l=r[2],c=0;if(a.some(t=>0!==e[t])){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(l)l(n)}for(t&&t(r);c<a.length;c++)s=a[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkyour_music_frontend=self.webpackChunkyour_music_frontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n(43),i=n(391),s=n(555);const a=n.p+"static/media/profile.bbb41662de85916d5807.png",o=n.p+"static/media/search.1ce9074c47217ac6efa2.png",l=n.p+"static/media/library.e5fb12a1a3c533ac22d7.png",c="data:image/png;base64,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",u=n.p+"static/media/back.10292e79ce721cd1a227.png";var d,h,f=n(950),p=n(150),g=n(812),m=n(443),A=n(700),y="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},v={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,function(){this.blockSize=-1}),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new r([0|e],0>e?-1:0)}):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return p(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function f(e){return-1==e.h}function p(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function g(e,t){return e.add(p(t))}function m(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function A(e,t){this.g=e,this.h=t}function y(e,t){if(u(t))throw Error("division by zero");if(u(e))return new A(o,o);if(f(e))return t=y(p(e),t),new A(p(t.g),p(t.h));if(f(t))return t=y(e,p(t)),new A(p(t.g),t.h);if(30<e.g.length){if(f(e)||f(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=w(n),r=w(r);var i=b(n,1),s=b(r,1);for(r=b(r,2),n=b(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=b(r,1),n=b(n,1)}return t=g(e,i.j(t)),new A(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);f(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=g(e,c)}return new A(i,e)}function w(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function b(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(f(this))return-p(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(f(this))return"-"+p(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=y(n,t).g,s=((0<(n=g(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return f(e=g(this,e))?-1:u(e)?0:1},e.abs=function(){return f(this)?p(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(f(this))return f(e)?p(this).j(p(e)):p(p(this).j(e));if(f(e))return p(this.j(p(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,d=65535&this.i(i),h=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=d*g,m(n,2*i+2*s),n[2*i+2*s+1]+=l*g,m(n,2*i+2*s+1),n[2*i+2*s+1]+=d*h,m(n,2*i+2*s+1),n[2*i+2*s+2]+=l*h,m(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return y(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,h=v.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return p(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},d=v.Integer=r}).apply("undefined"!==typeof y?y:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var w,b,E,C,I,k,S,x,T="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},N={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof T&&T];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,function(e,t){return t})}});var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var A=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function v(e){const t={};for(const n in e)t[n]=e[n];return t}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<B.length;t++)n=B[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function P(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function O(e){i.setTimeout(()=>{throw e},0)}function L(){var e=U;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var M=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Q,e=>e.reset());class Q{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let F,j=!1,U=new class{constructor(){this.h=this.g=null}add(e,t){const n=M.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},V=()=>{const e=i.Promise.resolve(void 0);F=()=>{e.then(G)}};var G=()=>{for(var e;e=L();){try{e.h.call(e.g)}catch(n){O(n)}var t=M;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}j=!1};function z(){this.s=this.s,this.C=this.C}function H(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},H.prototype.h=function(){this.defaultPrevented=!0};var K=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function J(e,t){if(H.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(A){e:{try{m(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Y[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&J.aa.h.call(this)}}d(J,H);var Y={2:"touch",3:"pen",4:"mouse"};J.prototype.h=function(){J.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),q=0;function X(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++q,this.da=this.fa=!1}function Z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function $(e){this.src=e,this.g={},this.h=0}function ee(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function te(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}$.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=te(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new X(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var ne="closure_lm_"+(1e6*Math.random()|0),re={};function ie(e,t,n,r,i){if(r&&r.once)return ae(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)ie(e,t[s],n,r,i);return null}return n=fe(n),e&&e[W]?e.K(t,n,a(r)?!!r.capture:!!r,i):se(e,t,n,!1,r,i)}function se(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=de(e);if(l||(e[ne]=l=new $(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=ue;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)K||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ce(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ae(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ae(e,t[s],n,r,i);return null}return n=fe(n),e&&e[W]?e.L(t,n,a(r)?!!r.capture:!!r,i):se(e,t,n,!0,r,i)}function oe(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)oe(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=fe(n),e&&e[W]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=te(s=e.g[t],n,r,i))&&(Z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=de(e))&&(t=e.g[t.toString()],e=-1,t&&(e=te(t,n,r,i)),(n=-1<e?t[e]:null)&&le(n))}function le(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[W])ee(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ce(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=de(t))?(ee(n,e),0==n.h&&(n.src=null,t[ne]=null)):Z(e)}}}function ce(e){return e in re?re[e]:re[e]="on"+e}function ue(e,t){if(e.da)e=!0;else{t=new J(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&le(e),e=n.call(r,t)}return e}function de(e){return(e=e[ne])instanceof $?e:null}var he="__closure_events_fn_"+(1e9*Math.random()>>>0);function fe(e){return"function"===typeof e?e:(e[he]||(e[he]=function(t){return e.handleEvent(t)}),e[he])}function pe(){z.call(this),this.i=new $(this),this.M=this,this.F=null}function ge(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new H(t,e);else if(t instanceof H)t.target=t.target||e;else{var i=t;_(t=new H(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=me(a,r,!0,t)&&i}if(i=me(a=t.g=e,r,!0,t)&&i,i=me(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=me(a=t.g=n[s],r,!1,t)&&i}function me(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&ee(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function Ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ye(e){e.g=Ae(()=>{e.g=null,e.i&&(e.i=!1,ye(e))},e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(pe,z),pe.prototype[W]=!0,pe.prototype.removeEventListener=function(e,t,n,r){oe(this,e,t,n,r)},pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Z(n[r]);delete t.g[e],t.h--}}this.F=null},pe.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},pe.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ve extends z{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ye(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function we(e){z.call(this),this.h=e,this.g={}}d(we,z);var be=[];function Ee(e){y(e.g,function(e,t){this.g.hasOwnProperty(t)&&le(e)},e),e.g={}}we.prototype.N=function(){we.aa.N.call(this),Ee(this)},we.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ce=i.JSON.stringify,Ie=i.JSON.parse,ke=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function Se(){}function xe(e){return e.h||(e.h=e.i())}function Te(){}Se.prototype.h=null;var Ne={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function De(){H.call(this,"d")}function Be(){H.call(this,"c")}d(De,H),d(Be,H);var _e={},Re=null;function Pe(){return Re=Re||new pe}function Oe(e){H.call(this,_e.La,e)}function Le(e){const t=Pe();ge(t,new Oe(t))}function Me(e,t){H.call(this,_e.STAT_EVENT,e),this.stat=t}function Qe(e){const t=Pe();ge(t,new Me(t,e))}function Fe(e,t){H.call(this,_e.Ma,e),this.size=t}function je(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout(function(){e()},t)}function Ue(){this.g=!0}function Ve(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return Ce(n)}catch(o){return t}}(e,n)+(r?" "+r:"")})}_e.La="serverreachability",d(Oe,H),_e.STAT_EVENT="statevent",d(Me,H),_e.Ma="timingevent",d(Fe,H),Ue.prototype.xa=function(){this.g=!1},Ue.prototype.info=function(){};var Ge,ze={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},He={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Ke(){}function Je(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new we(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ye}function Ye(){this.i=null,this.g="",this.h=!1}d(Ke,Se),Ke.prototype.g=function(){return new XMLHttpRequest},Ke.prototype.i=function(){return{}},Ge=new Ke;var We={},qe={};function Xe(e,t,n){e.L=1,e.v=Ct(yt(t)),e.m=n,e.P=!0,Ze(e,null)}function Ze(e,t){e.F=Date.now(),tt(e),e.A=yt(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Mt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ye,e.g=kn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ve(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(be[0]=i.toString()),i=be);for(var s=0;s<i.length;s++){var a=ie(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?v(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Le(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a})}(e.i,e.u,e.A,e.l,e.R,e.m)}function $e(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function et(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?qe:(n=Number(t.substring(n,r)),isNaN(n)?We:(r+=1)+n>t.length?qe:(t=t.slice(r,r+n),e.C=r+n,t))}function tt(e){e.S=Date.now()+e.I,nt(e,e.I)}function nt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=je(c(e.ba,e),t)}function rt(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function it(e){0==e.j.G||e.J||wn(e.j,e)}function st(e){rt(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,Ee(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function at(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||dt(n.h,e)))if(!e.K&&dt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;vn(n),cn(n)}mn(n),Qe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=je(c(n.Za,n),6e3));if(1>=ut(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else En(n,11)}else if((e.K||n.g==e)&&vn(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ht(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,Et(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=In(r,r.J?r.ia:null,r.W),a.K){ft(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(rt(o),tt(o)),r.g=a}else gn(r);0<n.i.length&&dn(n)}else"stop"!=c[0]&&"close"!=c[0]||En(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?En(n,7):ln(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Le()}catch(u){}}Je.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==rn(e)?t.j():this.Y(e)},Je.prototype.Y=function(e){try{if(e==this.g)e:{const h=rn(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||sn(this.g)))){this.J||4!=h||7==t||Le(),rt(this);var n=this.g.Z();this.X=n;t:if($e(this)){var r=sn(this.g);e="";var s=r.length,a=4==rn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){st(this),it(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a})}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Qe(12),st(this),it(this);break e}Ve(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,at(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=et(this,o),e==qe){4==h&&(this.s=4,Qe(14),n=!1),Ve(this.i,this.l,null,"[Incomplete Response]");break}if(e==We){this.s=4,Qe(15),Ve(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ve(this.i,this.l,e,null),at(this,e)}if($e(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Qe(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),An(d),d.M=!0,Qe(11))}}else Ve(this.i,this.l,o,"[Invalid Chunked Response]"),st(this),it(this)}else Ve(this.i,this.l,o,null),at(this,o);4==h&&st(this),this.o&&!this.J&&(4==h?wn(this.j,this):(this.o=!1,tt(this)))}else(function(e){const t={};e=(e.g&&2<=rn(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=P(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Qe(12)):(this.s=0,Qe(13)),st(this),it(this)}}}catch(D){}},Je.prototype.cancel=function(){this.J=!0,st(this)},Je.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.i,this.A),2!=this.L&&(Le(),Qe(17)),st(this),this.s=2,it(this)):nt(this,this.S-e)};var ot=class{constructor(e,t){this.g=e,this.map=t}};function lt(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ct(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ut(e){return e.h?1:e.g?e.g.size:0}function dt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function ht(e,t){e.g?e.g.add(t):e.h=t}function ft(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function pt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function gt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}lt.prototype.cancel=function(){if(this.i=pt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var mt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function At(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof At){this.h=e.h,vt(this,e.j),this.o=e.o,this.g=e.g,wt(this,e.s),this.l=e.l;var t=e.i,n=new Rt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),bt(this,n),this.m=e.m}else e&&(t=String(e).match(mt))?(this.h=!1,vt(this,t[1]||"",!0),this.o=It(t[2]||""),this.g=It(t[3]||"",!0),wt(this,t[4]),this.l=It(t[5]||"",!0),bt(this,t[6]||"",!0),this.m=It(t[7]||"")):(this.h=!1,this.i=new Rt(null,this.h))}function yt(e){return new At(e)}function vt(e,t,n){e.j=n?It(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function wt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function bt(e,t,n){t instanceof Rt?(e.i=t,function(e,t){t&&!e.j&&(Pt(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Ot(this,t),Mt(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=kt(t,Bt)),e.i=new Rt(t,e.h))}function Et(e,t,n){e.i.set(t,n)}function Ct(e){return Et(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function It(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,St),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function St(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}At.prototype.toString=function(){var e=[],t=this.j;t&&e.push(kt(t,Tt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(kt(t,Tt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(kt(n,"/"==n.charAt(0)?Dt:Nt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",kt(n,_t)),e.join("")};var xt,Tt=/[#\/\?@]/g,Nt=/[#\?:]/g,Dt=/[#\?]/g,Bt=/[#\?@]/g,_t=/#/g;function Rt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Pt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Ot(e,t){Pt(e),t=Qt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Lt(e,t){return Pt(e),t=Qt(e,t),e.g.has(t)}function Mt(e,t,n){Ot(e,t),0<n.length&&(e.i=null,e.g.set(Qt(e,t),h(n)),e.h+=n.length)}function Qt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ft(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function jt(){this.g=new ke}function Ut(e,t,n){const r=n||"";try{gt(e,function(e,n){let i=e;a(e)&&(i=Ce(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Vt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Gt(e,t){pe.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function zt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Ht(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Kt(e)}function Kt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Jt(e){let t="";return y(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function Yt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Jt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Et(e,t,n))}function Wt(e){pe.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=Rt.prototype).add=function(e,t){Pt(this),this.i=null,e=Qt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Pt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},e.na=function(){Pt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Pt(this);let t=[];if("string"===typeof e)Lt(this,e)&&(t=t.concat(this.g.get(Qt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Pt(this),this.i=null,Lt(this,e=Qt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(Vt,Se),Vt.prototype.g=function(){return new Gt(this.l,this.j)},Vt.prototype.i=(xt={},function(){return xt}),d(Gt,pe),(e=Gt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Kt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ht(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Kt(this)),this.g&&(this.readyState=3,Kt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ht(this):Kt(this),3==this.readyState&&zt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Ht(this))},e.Qa=function(e){this.g&&(this.response=e,Ht(this))},e.ga=function(){this.g&&Ht(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Gt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Wt,pe);var qt=/^https?$/i,Xt=["POST","PUT"];function Zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,$t(e),tn(e)}function $t(e){e.A||(e.A=!0,ge(e,"complete"),ge(e,"error"))}function en(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=rn(e)||2!=e.Z()))if(e.u&&4==rn(e))Ae(e.Ea,0,e);else if(ge(e,"readystatechange"),4==rn(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(mt)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!qt.test(a?a.toLowerCase():"")}n=s}if(n)ge(e,"complete"),ge(e,"success");else{e.m=6;try{var o=2<rn(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",$t(e)}}finally{tn(e)}}}function tn(e,t){if(e.g){nn(e);const r=e.g,i=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||ge(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function nn(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function rn(e){return e.g?e.g.readyState:0}function sn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(R){return null}}function an(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function on(e){this.Aa=0,this.i=[],this.j=new Ue,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=an("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=an("baseRetryDelayMs",5e3,e),this.cb=an("retryDelaySeedMs",1e4,e),this.Wa=an("forwardChannelMaxRetries",2,e),this.wa=an("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new lt(e&&e.concurrentRequestLimit),this.Da=new jt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ln(e){if(un(e),3==e.G){var t=e.U++,n=yt(e.I);if(Et(n,"SID",e.K),Et(n,"RID",t),Et(n,"TYPE","terminate"),fn(e,n),(t=new Je(e,e.j,t)).L=2,t.v=Ct(yt(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=kn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),tt(t)}Cn(e)}function cn(e){e.g&&(An(e),e.g.cancel(),e.g=null)}function un(e){cn(e),e.u&&(i.clearTimeout(e.u),e.u=null),vn(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function dn(e){if(!ct(e.h)&&!e.s){e.s=!0;var t=e.Ga;F||V(),j||(F(),j=!0),U.add(t,e),e.B=0}}function hn(e,t){var n;n=t?t.l:e.U++;const r=yt(e.I);Et(r,"SID",e.K),Et(r,"RID",n),Et(r,"AID",e.T),fn(e,r),e.m&&e.o&&Yt(r,e.m,e.o),n=new Je(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=pn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),ht(e.h,n),Xe(n,r,t)}function fn(e,t){e.H&&y(e.H,function(e,n){Et(t,n,e)}),e.l&&gt({},function(e,n){Et(t,n,e)})}function pn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Ut(o,e,"req"+n+"_")}catch(D){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function gn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;F||V(),j||(F(),j=!0),U.add(t,e),e.v=0}}function mn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=je(c(e.Fa,e),bn(e,e.v)),e.v++,!0)}function An(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function yn(e){e.g=new Je(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=yt(e.qa);Et(t,"RID","rpc"),Et(t,"SID",e.K),Et(t,"AID",e.T),Et(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&Et(t,"TO",e.ja),Et(t,"TYPE","xmlhttp"),fn(e,t),e.m&&e.o&&Yt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=Ct(yt(t)),n.m=null,n.P=!0,Ze(n,e)}function vn(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function wn(e,t){var n=null;if(e.g==t){vn(e),An(e),e.g=null;var r=2}else{if(!dt(e.h,t))return;n=t.D,ft(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;ge(r=Pe(),new Fe(r,n)),dn(e)}else gn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(ut(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=je(c(e.Ga,e,t),bn(e,e.B)),e.B++,!0))}(e,t)||2==r&&mn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:En(e,5);break;case 4:En(e,10);break;case 3:En(e,6);break;default:En(e,2)}}function bn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function En(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new At(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||vt(r,"https"),Ct(r),t?function(e,t){const n=new Ue;if(i.Image){const r=new Image;r.onload=u(Ft,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ft,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ft,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ft,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ue;const n=new AbortController,r=setTimeout(()=>{n.abort(),Ft(0,0,!1,t)},1e4);fetch(e,{signal:n.signal}).then(e=>{clearTimeout(r),e.ok?Ft(0,0,!0,t):Ft(0,0,!1,t)}).catch(()=>{clearTimeout(r),Ft(0,0,!1,t)})}(r.toString(),n)}else Qe(2);e.G=0,e.l&&e.l.sa(t),Cn(e),un(e)}function Cn(e){if(e.G=0,e.ka=[],e.l){const t=pt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function In(e,t,n){var r=n instanceof At?yt(n):new At(n);if(""!=r.g)t&&(r.g=t+"."+r.g),wt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new At(null);r&&vt(a,r),t&&(a.g=t),s&&wt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&Et(r,n,t),Et(r,"VER",e.la),fn(e,r),r}function kn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Wt(new Vt({eb:n})):new Wt(e.pa)).Ha(e.J),t}function Sn(){}function xn(){}function Tn(e,t){pe.call(this),this.g=new on(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Bn(this)}function Nn(e){De.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Dn(){Be.call(this),this.status=1}function Bn(e){this.g=e}(e=Wt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ge.g(),this.v=this.o?xe(this.o):xe(Ge),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Zt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Xt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nn(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Zt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,ge(this,"complete"),ge(this,"abort"),tn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Wt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?en(this):this.bb())},e.bb=function(){en(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch(xt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(xt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ie(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=on.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Qe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=In(this,null,this.W),dn(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Je(this,this.j,e);let s=this.o;if(this.S&&(s?(s=v(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=pn(this,i,t),Et(n=yt(this.I),"RID",e),Et(n,"CVER",22),this.D&&Et(n,"X-HTTP-Session-Id",this.D),fn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Jt(s)))+"&"+t:this.m&&Yt(n,this.m,s)),ht(this.h,i),this.Ua&&Et(n,"TYPE","init"),this.P?(Et(n,"$req",t),Et(n,"SID","null"),i.T=!0,Xe(i,n,null)):Xe(i,n,t),this.G=2}}else 3==this.G&&(e?hn(this,e):0==this.i.length||ct(this.h)||hn(this))},e.Fa=function(){if(this.u=null,yn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=je(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Qe(10),cn(this),yn(this))},e.Za=function(){null!=this.C&&(this.C=null,cn(this),mn(this),Qe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Qe(2)):(this.j.info("Failed to ping google.com"),Qe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=Sn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},xn.prototype.g=function(e,t){return new Tn(e,t)},d(Tn,pe),Tn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Tn.prototype.close=function(){ln(this.g)},Tn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=Ce(e),e=n);t.i.push(new ot(t.Ya++,e)),3==t.G&&dn(t)},Tn.prototype.N=function(){this.g.l=null,delete this.j,ln(this.g),delete this.g,Tn.aa.N.call(this)},d(Nn,De),d(Dn,Be),d(Bn,Sn),Bn.prototype.ua=function(){ge(this.g,"a")},Bn.prototype.ta=function(e){ge(this.g,new Nn(e))},Bn.prototype.sa=function(e){ge(this.g,new Dn)},Bn.prototype.ra=function(){ge(this.g,"b")},xn.prototype.createWebChannel=xn.prototype.g,Tn.prototype.send=Tn.prototype.o,Tn.prototype.open=Tn.prototype.m,Tn.prototype.close=Tn.prototype.close,x=N.createWebChannelTransport=function(){return new xn},S=N.getStatEventTarget=function(){return Pe()},k=N.Event=_e,I=N.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ze.NO_ERROR=0,ze.TIMEOUT=8,ze.HTTP_ERROR=6,C=N.ErrorCode=ze,He.COMPLETE="complete",E=N.EventType=He,Te.EventType=Ne,Ne.OPEN="a",Ne.CLOSE="b",Ne.ERROR="c",Ne.MESSAGE="d",pe.prototype.listen=pe.prototype.K,b=N.WebChannel=Te,N.FetchXmlHttpFactory=Vt,Wt.prototype.listenOnce=Wt.prototype.L,Wt.prototype.getLastError=Wt.prototype.Ka,Wt.prototype.getLastErrorCode=Wt.prototype.Ba,Wt.prototype.getStatus=Wt.prototype.Z,Wt.prototype.getResponseJson=Wt.prototype.Oa,Wt.prototype.getResponseText=Wt.prototype.oa,Wt.prototype.send=Wt.prototype.ea,Wt.prototype.setWithCredentials=Wt.prototype.Ha,w=N.XhrIo=Wt}).apply("undefined"!==typeof T?T:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const D="@firebase/firestore";class B{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}B.UNAUTHENTICATED=new B(null),B.GOOGLE_CREDENTIALS=new B("google-credentials-uid"),B.FIRST_PARTY=new B("first-party-uid"),B.MOCK_USER=new B("mock-user");let _="10.14.0";const R=new m.Vy("@firebase/firestore");function P(){return R.logLevel}function O(e){if(R.logLevel<=m.$b.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Q);R.debug("Firestore (".concat(_,"): ").concat(e),...i)}}function L(e){if(R.logLevel<=m.$b.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Q);R.error("Firestore (".concat(_,"): ").concat(e),...i)}}function M(e){if(R.logLevel<=m.$b.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Q);R.warn("Firestore (".concat(_,"): ").concat(e),...i)}}function Q(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function F(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(_,") INTERNAL ASSERTION FAILED: ")+e;throw L(t),new Error(t)}function j(e,t){e||F()}function U(e,t){return e}const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends A.g{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class z{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class H{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class K{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(B.UNAUTHENTICATED))}shutdown(){}}class J{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Y{constructor(e){this.t=e,this.currentUser=B.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){j(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new z;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new z,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},a=e=>{O("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(O("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new z)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(O("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(j("string"==typeof t.accessToken),new H(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return j(null===e||"string"==typeof e),new B(e)}}class W{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=B.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class q{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new W(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(B.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class X{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Z{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){j(void 0===this.o);const n=e=>{null!=e.error&&O("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,O("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{O("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):O("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(j("string"==typeof e.token),this.R=e.token,new X(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function $(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class ee{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=$(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function te(e,t){return e<t?-1:e>t?1:0}function ne(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class re{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new G(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return re.fromMillis(Date.now())}static fromDate(e){return re.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new re(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?te(this.nanoseconds,e.nanoseconds):te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ie{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ie(e)}static min(){return new ie(new re(0,0))}static max(){return new ie(new re(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class se{constructor(e,t,n){void 0===t?t=0:t>e.length&&F(),void 0===n?n=e.length-t:n>e.length-t&&F(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===se.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof se?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class ae extends se{construct(e,t,n){return new ae(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new G(V.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new ae(e)}static emptyPath(){return new ae([])}}const oe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class le extends se{construct(e,t,n){return new le(e,t,n)}static isValidIdentifier(e){return oe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new le(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new G(V.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new G(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new G(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new G(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new le(t)}static emptyPath(){return new le([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(ae.fromString(e))}static fromName(e){return new ce(ae.fromString(e).popFirst(5))}static empty(){return new ce(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===ae.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return ae.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new ae(e.slice()))}}class ue{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ue.UNKNOWN_ID=-1;function de(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(1e9===r?new re(n+1,0):new re(n,r));return new fe(i,ce.empty(),t)}function he(e){return new fe(e.readTime,e.key,-1)}class fe{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new fe(ie.min(),ce.empty(),-1)}static max(){return new fe(ie.max(),ce.empty(),-1)}}function pe(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=ce.comparator(e.documentKey,t.documentKey),0!==n?n:te(e.largestBatchId,t.largestBatchId))}const ge="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class me{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function Ae(e){if(e.code!==V.FAILED_PRECONDITION||e.message!==ge)throw e;O("LocalStore","Unexpectedly lost primary lease")}class ye{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&F(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ye((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ye?t:ye.resolve(t)}catch(e){return ye.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ye.reject(t)}static resolve(e){return new ye((t,n)=>{t(e)})}static reject(e){return new ye((t,n)=>{n(e)})}static waitFor(e){return new ye((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=ye.resolve(!1);for(const n of e)t=t.next(e=>e?ye.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ye((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next(e=>{s[l]=e,++a,a===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new ye((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function ve(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function we(e){return"IndexedDbTransactionError"===e.name}class be{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Ee(e){return null==e}function Ce(e){return 0===e&&1/e==-1/0}function Ie(e){return"number"==typeof e&&Number.isInteger(e)&&!Ce(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}be.oe=-1;const ke=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Se=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],xe=Se,Te=[...xe,"indexConfiguration","indexState","indexEntries"];function Ne(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function De(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Be(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class _e{constructor(e,t){this.comparator=e,this.root=t||Pe.EMPTY}insert(e,t){return new _e(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new _e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Re(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Re(this.root,e,this.comparator,!1)}getReverseIterator(){return new Re(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Re(this.root,e,this.comparator,!0)}}class Re{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Pe.RED,this.left=null!=r?r:Pe.EMPTY,this.right=null!=i?i:Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Pe(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Pe.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw F();if(this.right.isRed())throw F();const e=this.left.check();if(e!==this.right.check())throw F();return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1,Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw F()}get value(){throw F()}get color(){throw F()}get left(){throw F()}get right(){throw F()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Pe(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Oe{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Le(this.data.getIterator())}getIteratorFrom(e){return new Le(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Oe))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Oe(this.comparator);return t.data=e,t}}class Le{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Me{constructor(e){this.fields=e,e.sort(le.comparator)}static empty(){return new Me([])}unionWith(e){let t=new Oe(le.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Me(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ne(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Qe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Fe{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Qe("Invalid base64 string: "+e):e}}(e);return new Fe(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Fe(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Fe.EMPTY_BYTE_STRING=new Fe("");const je=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ue(e){if(j(!!e),"string"==typeof e){let t=0;const n=je.exec(e);if(j(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Ve(e.seconds),nanos:Ve(e.nanos)}}function Ve(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ge(e){return"string"==typeof e?Fe.fromBase64String(e):Fe.fromUint8Array(e)}function ze(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function He(e){const t=e.mapValue.fields.__previous_value__;return ze(t)?He(t):t}function Ke(e){const t=Ue(e.mapValue.fields.__local_write_time__.timestampValue);return new re(t.seconds,t.nanos)}class Je{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Ye{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ye("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ye&&e.projectId===this.projectId&&e.database===this.database}}const We={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qe(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ze(e)?4:ht(e)?9007199254740991:ut(e)?10:11:F()}function Xe(e,t){if(e===t)return!0;const n=qe(e);if(n!==qe(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ke(e).isEqual(Ke(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ue(e.timestampValue),r=Ue(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ge(e.bytesValue).isEqual(Ge(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Ve(e.geoPointValue.latitude)===Ve(t.geoPointValue.latitude)&&Ve(e.geoPointValue.longitude)===Ve(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Ve(e.integerValue)===Ve(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Ve(e.doubleValue),r=Ve(t.doubleValue);return n===r?Ce(n)===Ce(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ne(e.arrayValue.values||[],t.arrayValue.values||[],Xe);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ne(n)!==Ne(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Xe(n[i],r[i])))return!1;return!0}(e,t);default:return F()}}function Ze(e,t){return void 0!==(e.values||[]).find(e=>Xe(e,t))}function $e(e,t){if(e===t)return 0;const n=qe(e),r=qe(t);if(n!==r)return te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return te(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Ve(e.integerValue||e.doubleValue),r=Ve(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return et(e.timestampValue,t.timestampValue);case 4:return et(Ke(e),Ke(t));case 5:return te(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ge(e),r=Ge(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=te(n[i],r[i]);if(0!==e)return e}return te(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=te(Ve(e.latitude),Ve(t.latitude));return 0!==n?n:te(Ve(e.longitude),Ve(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return tt(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=te((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:tt(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===We.mapValue&&t===We.mapValue)return 0;if(e===We.mapValue)return 1;if(t===We.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=te(r[a],s[a]);if(0!==e)return e;const t=$e(n[r[a]],i[s[a]]);if(0!==t)return t}return te(r.length,s.length)}(e.mapValue,t.mapValue);default:throw F()}}function et(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return te(e,t);const n=Ue(e),r=Ue(t),i=te(n.seconds,r.seconds);return 0!==i?i:te(n.nanos,r.nanos)}function tt(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=$e(n[i],r[i]);if(e)return e}return te(n.length,r.length)}function nt(e){return rt(e)}function rt(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ue(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ge(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return ce.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=rt(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(rt(e.fields[i]));return n+"}"}(e.mapValue):F()}function it(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function st(e){return!!e&&"integerValue"in e}function at(e){return!!e&&"arrayValue"in e}function ot(e){return!!e&&"nullValue"in e}function lt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ct(e){return!!e&&"mapValue"in e}function ut(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function dt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return De(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=dt(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=dt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ht(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class ft{constructor(e){this.value=e}static empty(){return new ft({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ct(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=dt(t)}setAll(e){let t=le.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=dt(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ct(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Xe(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ct(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){De(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ft(dt(this.value))}}function pt(e){const t=[];return De(e.fields,(e,n)=>{const r=new le([e]);if(ct(n)){const e=pt(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Me(t)}class gt{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new gt(e,0,ie.min(),ie.min(),ie.min(),ft.empty(),0)}static newFoundDocument(e,t,n,r){return new gt(e,1,t,ie.min(),n,r,0)}static newNoDocument(e,t){return new gt(e,2,t,ie.min(),ie.min(),ft.empty(),0)}static newUnknownDocument(e,t){return new gt(e,3,t,ie.min(),ie.min(),ft.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ie.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ft.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ft.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class mt{constructor(e,t){this.position=e,this.inclusive=t}}function At(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?ce.comparator(ce.fromName(a.referenceValue),n.key):$e(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function yt(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Xe(e.position[n],t.position[n]))return!1;return!0}class vt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function wt(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class bt{}class Et extends bt{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Dt(e,t,n):"array-contains"===t?new Pt(e,n):"in"===t?new Ot(e,n):"not-in"===t?new Lt(e,n):"array-contains-any"===t?new Mt(e,n):new Et(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Bt(e,n):new _t(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison($e(t,this.value)):null!==t&&qe(this.value)===qe(t)&&this.matchesComparison($e(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return F()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ct extends bt{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ct(e,t)}matches(e){return It(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function It(e){return"and"===e.op}function kt(e){return St(e)&&It(e)}function St(e){for(const t of e.filters)if(t instanceof Ct)return!1;return!0}function xt(e){if(e instanceof Et)return e.field.canonicalString()+e.op.toString()+nt(e.value);if(kt(e))return e.filters.map(e=>xt(e)).join(",");{const t=e.filters.map(e=>xt(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function Tt(e,t){return e instanceof Et?function(e,t){return t instanceof Et&&e.op===t.op&&e.field.isEqual(t.field)&&Xe(e.value,t.value)}(e,t):e instanceof Ct?function(e,t){return t instanceof Ct&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&Tt(n,t.filters[r]),!0)}(e,t):void F()}function Nt(e){return e instanceof Et?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(nt(e.value))}(e):e instanceof Ct?function(e){return e.op.toString()+" {"+e.getFilters().map(Nt).join(" ,")+"}"}(e):"Filter"}class Dt extends Et{constructor(e,t,n){super(e,t,n),this.key=ce.fromName(n.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class Bt extends Et{constructor(e,t){super(e,"in",t),this.keys=Rt("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class _t extends Et{constructor(e,t){super(e,"not-in",t),this.keys=Rt("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Rt(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>ce.fromName(e.referenceValue))}class Pt extends Et{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return at(t)&&Ze(t.arrayValue,this.value)}}class Ot extends Et{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ze(this.value.arrayValue,t)}}class Lt extends Et{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ze(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ze(this.value.arrayValue,t)}}class Mt extends Et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!at(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ze(this.value.arrayValue,e))}}class Qt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function Ft(e){return new Qt(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function jt(e){const t=U(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>xt(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Ee(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>nt(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>nt(e)).join(",")),t.ue=e}return t.ue}function Ut(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!wt(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Tt(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!yt(e.startAt,t.startAt)&&yt(e.endAt,t.endAt)}function Vt(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Gt{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function zt(e,t,n,r,i,s,a,o){return new Gt(e,t,n,r,i,s,a,o)}function Ht(e){return new Gt(e)}function Kt(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Jt(e){return null!==e.collectionGroup}function Yt(e){const t=U(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Oe(le.comparator);return e.filters.forEach(e=>{e.getFlattenedFilters().forEach(e=>{e.isInequality()&&(t=t.add(e.field))})}),t}(t);r.forEach(r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new vt(r,n))}),e.has(le.keyField().canonicalString())||t.ce.push(new vt(le.keyField(),n))}return t.ce}function Wt(e){const t=U(e);return t.le||(t.le=qt(t,Yt(e))),t.le}function qt(e,t){if("F"===e.limitType)return Ft(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map(e=>{const t="desc"===e.dir?"asc":"desc";return new vt(e.field,t)});const n=e.endAt?new mt(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new mt(e.startAt.position,e.startAt.inclusive):null;return Ft(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Xt(e,t){const n=e.filters.concat([t]);return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Zt(e,t,n){return new Gt(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $t(e,t){return Ut(Wt(e),Wt(t))&&e.limitType===t.limitType}function en(e){return"".concat(jt(Wt(e)),"|lt:").concat(e.limitType)}function tn(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>Nt(e)).join(", "),"]")),Ee(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>nt(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>nt(e)).join(",")),"Target(".concat(t,")")}(Wt(e)),"; limitType=").concat(e.limitType,")")}function nn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ce.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Yt(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=At(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Yt(e),t))&&!(e.endAt&&!function(e,t,n){const r=At(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Yt(e),t))}(e,t)}function rn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function sn(e){return(t,n)=>{let r=!1;for(const i of Yt(e)){const e=an(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function an(e,t,n){const r=e.field.isKeyField()?ce.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?$e(r,i):F()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return F()}}class on{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){De(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Be(this.inner)}size(){return this.innerSize}}const ln=new _e(ce.comparator);function cn(){return ln}const un=new _e(ce.comparator);function dn(){let e=un;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function hn(e){let t=un;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function fn(){return gn()}function pn(){return gn()}function gn(){return new on(e=>e.toString(),(e,t)=>e.isEqual(t))}const mn=new _e(ce.comparator),An=new Oe(ce.comparator);function yn(){let e=An;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const vn=new Oe(te);function wn(){return vn}function bn(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ce(t)?"-0":t}}function En(e){return{integerValue:""+e}}function Cn(e,t){return Ie(t)?En(t):bn(e,t)}class In{constructor(){this._=void 0}}function kn(e,t,n){return e instanceof Tn?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ze(t)&&(t=He(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Nn?Dn(e,t):e instanceof Bn?_n(e,t):function(e,t){const n=xn(e,t),r=Pn(n)+Pn(e.Pe);return st(n)&&st(e.Pe)?En(r):bn(e.serializer,r)}(e,t)}function Sn(e,t,n){return e instanceof Nn?Dn(e,t):e instanceof Bn?_n(e,t):n}function xn(e,t){return e instanceof Rn?function(e){return st(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Tn extends In{}class Nn extends In{constructor(e){super(),this.elements=e}}function Dn(e,t){const n=On(t);for(const r of e.elements)n.some(e=>Xe(e,r))||n.push(r);return{arrayValue:{values:n}}}class Bn extends In{constructor(e){super(),this.elements=e}}function _n(e,t){let n=On(t);for(const r of e.elements)n=n.filter(e=>!Xe(e,r));return{arrayValue:{values:n}}}class Rn extends In{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Pn(e){return Ve(e.integerValue||e.doubleValue)}function On(e){return at(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ln{constructor(e,t){this.field=e,this.transform=t}}class Mn{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Fn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class jn{}function Un(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Xn(e.key,Qn.none()):new Kn(e.key,e.data,Qn.none());{const n=e.data,r=ft.empty();let i=new Oe(le.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Jn(e.key,r,new Me(i.toArray()),Qn.none())}}function Vn(e,t,n){e instanceof Kn?function(e,t,n){const r=e.value.clone(),i=Wn(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Jn?function(e,t,n){if(!Fn(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Wn(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Yn(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Gn(e,t,n,r){return e instanceof Kn?function(e,t,n,r){if(!Fn(e.precondition,t))return n;const i=e.value.clone(),s=qn(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Jn?function(e,t,n,r){if(!Fn(e.precondition,t))return n;const i=qn(e.fieldTransforms,r,t),s=t.data;return s.setAll(Yn(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Fn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function zn(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=xn(r.transform,e||null);null!=i&&(null===n&&(n=ft.empty()),n.set(r.field,i))}return n||null}function Hn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&ne(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Nn&&t instanceof Nn||e instanceof Bn&&t instanceof Bn?ne(e.elements,t.elements,Xe):e instanceof Rn&&t instanceof Rn?Xe(e.Pe,t.Pe):e instanceof Tn&&t instanceof Tn}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Kn extends jn{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jn extends jn{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Yn(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Wn(e,t,n){const r=new Map;j(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Sn(a,o,n[i]))}return r}function qn(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,kn(e,s,t))}return r}class Xn extends jn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zn extends jn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $n{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Vn(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Gn(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Gn(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=pn();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Un(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(ie.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),yn())}isEqual(e){return this.batchId===e.batchId&&ne(this.mutations,e.mutations,(e,t)=>Hn(e,t))&&ne(this.baseMutations,e.baseMutations,(e,t)=>Hn(e,t))}}class er{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){j(e.mutations.length===n.length);let r=mn;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new er(e,t,n,r)}}class tr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class nr{constructor(e,t){this.count=e,this.unchangedNames=t}}var rr,ir;function sr(e){switch(e){default:return F();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function ar(e){if(void 0===e)return L("GRPC error has no .code"),V.UNKNOWN;switch(e){case rr.OK:return V.OK;case rr.CANCELLED:return V.CANCELLED;case rr.UNKNOWN:return V.UNKNOWN;case rr.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case rr.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case rr.INTERNAL:return V.INTERNAL;case rr.UNAVAILABLE:return V.UNAVAILABLE;case rr.UNAUTHENTICATED:return V.UNAUTHENTICATED;case rr.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case rr.NOT_FOUND:return V.NOT_FOUND;case rr.ALREADY_EXISTS:return V.ALREADY_EXISTS;case rr.PERMISSION_DENIED:return V.PERMISSION_DENIED;case rr.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case rr.ABORTED:return V.ABORTED;case rr.OUT_OF_RANGE:return V.OUT_OF_RANGE;case rr.UNIMPLEMENTED:return V.UNIMPLEMENTED;case rr.DATA_LOSS:return V.DATA_LOSS;default:return F()}}(ir=rr||(rr={}))[ir.OK=0]="OK",ir[ir.CANCELLED=1]="CANCELLED",ir[ir.UNKNOWN=2]="UNKNOWN",ir[ir.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ir[ir.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ir[ir.NOT_FOUND=5]="NOT_FOUND",ir[ir.ALREADY_EXISTS=6]="ALREADY_EXISTS",ir[ir.PERMISSION_DENIED=7]="PERMISSION_DENIED",ir[ir.UNAUTHENTICATED=16]="UNAUTHENTICATED",ir[ir.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ir[ir.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ir[ir.ABORTED=10]="ABORTED",ir[ir.OUT_OF_RANGE=11]="OUT_OF_RANGE",ir[ir.UNIMPLEMENTED=12]="UNIMPLEMENTED",ir[ir.INTERNAL=13]="INTERNAL",ir[ir.UNAVAILABLE=14]="UNAVAILABLE",ir[ir.DATA_LOSS=15]="DATA_LOSS";let or=null;function lr(){return new TextEncoder}const cr=new d([4294967295,4294967295],0);function ur(e){const t=lr().encode(e),n=new h;return n.update(t),new Uint8Array(n.digest())}function dr(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new d([n,r],0),new d([i,s],0)]}class hr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new fr("Invalid padding: ".concat(t));if(n<0)throw new fr("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new fr("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new fr("Invalid padding when bitmap length is 0: ".concat(t));this.Ie=8*e.length-t,this.Te=d.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(d.fromNumber(n)));return 1===r.compare(cr)&&(r=new d([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=ur(e),[n,r]=dr(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new hr(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.Ie)return;const t=ur(e),[n,r]=dr(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class fr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class pr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,gr.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new pr(ie.min(),r,new _e(te),cn(),yn())}}class gr{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new gr(n,t,yn(),yn(),yn())}}class mr{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Ar{constructor(e,t){this.targetId=e,this.me=t}}class yr{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Fe.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class vr{constructor(){this.fe=0,this.ge=Er(),this.pe=Fe.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=yn(),t=yn(),n=yn();return this.ge.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:F()}}),new gr(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Er()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,j(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class wr{constructor(e){this.Le=e,this.Be=new Map,this.ke=cn(),this.qe=br(),this.Qe=new _e(te)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:F()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((e,n)=>{this.ze(n)&&t(n)})}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Vt(i))if(0===n){const e=new ce(i.path);this.Ue(t,e,gt.newNoDocument(e,ie.min()))}else j(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==or||or.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Ge(n).toUint8Array()}catch(e){if(e instanceof Qe)return M("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new hr(s,r,i)}catch(e){return M(e instanceof fr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach(n=>{const i=this.Le.tt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.Ue(t,n,null),r++)}),r}rt(e){const t=new Map;this.Be.forEach((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Vt(i.target)){const t=new ce(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,gt.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}});let n=yn();this.qe.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.ke.forEach((t,n)=>n.setReadTime(e));const r=new pr(e,t,this.Qe,this.ke,n);return this.ke=cn(),this.qe=br(),this.Qe=new _e(te),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new vr,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Oe(te),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||O("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vr),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function br(){return new _e(ce.comparator)}function Er(){return new _e(ce.comparator)}const Cr={asc:"ASCENDING",desc:"DESCENDING"},Ir={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kr={and:"AND",or:"OR"};class Sr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xr(e,t){return e.useProto3Json||Ee(t)?t:{value:t}}function Tr(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Nr(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Dr(e,t){return Tr(e,t.toTimestamp())}function Br(e){return j(!!e),ie.fromTimestamp(function(e){const t=Ue(e);return new re(t.seconds,t.nanos)}(e))}function _r(e,t){return Rr(e,t).canonicalString()}function Rr(e,t){const n=function(e){return new ae(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Pr(e){const t=ae.fromString(e);return j(ei(t)),t}function Or(e,t){return _r(e.databaseId,t.path)}function Lr(e,t){const n=Pr(t);if(n.get(1)!==e.databaseId.projectId)throw new G(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new G(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ce(jr(n))}function Mr(e,t){return _r(e.databaseId,t)}function Qr(e){const t=Pr(e);return 4===t.length?ae.emptyPath():jr(t)}function Fr(e){return new ae(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jr(e){return j(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ur(e,t,n){return{name:Or(e,t),fields:n.value.mapValue.fields}}function Vr(e,t){let n;if(t instanceof Kn)n={update:Ur(e,t.key,t.value)};else if(t instanceof Xn)n={delete:Or(e,t.key)};else if(t instanceof Jn)n={update:Ur(e,t.key,t.data),updateMask:$r(t.fieldMask)};else{if(!(t instanceof Zn))return F();n={verify:Or(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof Tn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Bn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Rn)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw F()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Dr(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:F()}(e,t.precondition)),n}function Gr(e,t){return{documents:[Mr(e,t.path)]}}function zr(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Mr(e,i);const s=function(e){if(0!==e.length)return Zr(Ct.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:qr(e.field),direction:Jr(e.dir)}}(e))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=xr(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Hr(e){let t=Qr(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){j(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Kr(e);return t instanceof Ct&&kt(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map(e=>function(e){return new vt(Xr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Ee(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new mt(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new mt(n,t)}(n.endAt)),zt(t,i,a,s,o,"F",l,c)}function Kr(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Xr(e.unaryFilter.field);return Et.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Xr(e.unaryFilter.field);return Et.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Xr(e.unaryFilter.field);return Et.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Xr(e.unaryFilter.field);return Et.create(i,"!=",{nullValue:"NULL_VALUE"});default:return F()}}(e):void 0!==e.fieldFilter?function(e){return Et.create(Xr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return F()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ct.create(e.compositeFilter.filters.map(e=>Kr(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return F()}}(e.compositeFilter.op))}(e):F()}function Jr(e){return Cr[e]}function Yr(e){return Ir[e]}function Wr(e){return kr[e]}function qr(e){return{fieldPath:e.canonicalString()}}function Xr(e){return le.fromServerFormat(e.fieldPath)}function Zr(e){return e instanceof Et?function(e){if("=="===e.op){if(lt(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NAN"}};if(ot(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(lt(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NOT_NAN"}};if(ot(e.value))return{unaryFilter:{field:qr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qr(e.field),op:Yr(e.op),value:e.value}}}(e):e instanceof Ct?function(e){const t=e.getFilters().map(e=>Zr(e));return 1===t.length?t[0]:{compositeFilter:{op:Wr(e.op),filters:t}}}(e):F()}function $r(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function ei(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ti{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ie.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ie.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Fe.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new ti(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ti(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class ni{constructor(e){this.ct=e}}function ri(e){const t=Hr({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Zt(t,t.limit,"L"):t}class ii{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ve(e.integerValue));else if("doubleValue"in e){const n=Ve(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),Ce(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=Ue(n)),t.Rt("".concat(n.seconds||"")),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ge(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?ht(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ut(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):F()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Ve(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),ce.fromName(e).path.forEach(e=>{this.dt(t,60),this.Dt(e,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}ii.vt=new ii;class si{constructor(){this.un=new ai}addToCollectionParentIndex(e,t){return this.un.add(t),ye.resolve()}getCollectionParents(e,t){return ye.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return ye.resolve()}deleteFieldIndex(e,t){return ye.resolve()}deleteAllFieldIndexes(e){return ye.resolve()}createTargetIndexes(e,t){return ye.resolve()}getDocumentsMatchingTarget(e,t){return ye.resolve(null)}getIndexType(e,t){return ye.resolve(0)}getFieldIndexes(e,t){return ye.resolve([])}getNextCollectionGroupToUpdate(e){return ye.resolve(null)}getMinOffset(e,t){return ye.resolve(fe.min())}getMinOffsetFromCollectionGroup(e,t){return ye.resolve(fe.min())}updateCollectionGroup(e,t,n){return ye.resolve()}updateIndexEntries(e,t){return ye.resolve()}}class ai{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Oe(ae.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Oe(ae.comparator)).toArray()}}new Uint8Array(0);class oi{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new oi(e,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}oi.DEFAULT_COLLECTION_PERCENTILE=10,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,oi.DEFAULT=new oi(41943040,oi.DEFAULT_COLLECTION_PERCENTILE,oi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),oi.DISABLED=new oi(-1,0,0);class li{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new li(0)}static kn(){return new li(-1)}}class ci{constructor(){this.changes=new on(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,gt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ye.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ui{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class di{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Gn(n.mutation,e,Me.empty(),re.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,yn()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yn();const r=fn();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=dn();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=fn();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,yn()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=cn();const s=gn(),a=gn();return t.forEach((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Jn)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Gn(a.mutation,t,a.mutation.getFieldMask(),re.now())):s.set(t.key,Me.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return a.set(e,new ui(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),a))}recalculateAndSaveOverlays(e,t){const n=gn();let r=new _e((e,t)=>e-t),i=yn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||Me.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||yn()).add(e);r=r.insert(i.batchId,o)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=pn();l.forEach(e=>{if(!i.has(e)){const r=Un(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return ye.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return ce.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Jt(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ye.resolve(fn());let a=-1,o=i;return s.next(t=>ye.forEach(t,(t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?ye.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{o=o.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,o,t,yn())).next(e=>({batchId:a,changes:hn(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(e=>{let t=dn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=dn();return this.indexManager.getCollectionParents(e,i).next(a=>ye.forEach(a,a=>{const o=function(e,t){return new Gt(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next(e=>{e.forEach((e,t)=>{s=s.insert(e,t)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r))).next(e=>{i.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,gt.newInvalidDocument(r)))});let n=dn();return e.forEach((e,r)=>{const s=i.get(e);void 0!==s&&Gn(s.mutation,r,Me.empty(),re.now()),nn(t,r)&&(n=n.insert(e,r))}),n})}}class hi{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return ye.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Br(e.createTime)}}(t)),ye.resolve()}getNamedQuery(e,t){return ye.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:ri(e.bundledQuery),readTime:Br(e.readTime)}}(t)),ye.resolve()}}class fi{constructor(){this.overlays=new _e(ce.comparator),this.Ir=new Map}getOverlay(e,t){return ye.resolve(this.overlays.get(t))}getOverlays(e,t){const n=fn();return ye.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ht(e,t,r)}),ye.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Ir.delete(n)),ye.resolve()}getOverlaysForCollection(e,t,n){const r=fn(),i=t.length+1,s=new ce(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ye.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new _e((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=fn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=fn(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach((e,t)=>a.set(e,t)),!(a.size()>=r)););return ye.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new tr(t,n));let i=this.Ir.get(t);void 0===i&&(i=yn(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class pi{constructor(){this.sessionToken=Fe.EMPTY_BYTE_STRING}getSessionToken(e){return ye.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ye.resolve()}}class gi{constructor(){this.Tr=new Oe(mi.Er),this.dr=new Oe(mi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new mi(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.Vr(new mi(e,t))}mr(e,t){e.forEach(e=>this.removeReference(e,t))}gr(e){const t=new ce(new ae([])),n=new mi(t,e),r=new mi(t,e+1),i=[];return this.dr.forEachInRange([n,r],e=>{this.Vr(e),i.push(e.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new ce(new ae([])),n=new mi(t,e),r=new mi(t,e+1);let i=yn();return this.dr.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new mi(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class mi{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ce.comparator(e.key,t.key)||te(e.wr,t.wr)}static Ar(e,t){return te(e.wr,t.wr)||ce.comparator(e.key,t.key)}}class Ai{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Oe(mi.Er)}checkEmpty(e){return ye.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new $n(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new mi(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ye.resolve(s)}lookupMutationBatch(e,t){return ye.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return ye.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ye.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return ye.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new mi(t,0),r=new mi(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],e=>{const t=this.Dr(e.wr);i.push(t)}),ye.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Oe(te);return t.forEach(e=>{const t=new mi(e,0),r=new mi(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],e=>{n=n.add(e.wr)})}),ye.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;ce.isDocumentKey(i)||(i=i.child(""));const s=new mi(new ce(i),0);let a=new Oe(te);return this.br.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)},s),ye.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(e=>{const n=this.Dr(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){j(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return ye.forEach(t.mutations,r=>{const i=new mi(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new mi(t,0),r=this.br.firstAfterOrEqual(n);return ye.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ye.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class yi{constructor(e){this.Mr=e,this.docs=new _e(ce.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ye.resolve(n?n.document.mutableCopy():gt.newInvalidDocument(t))}getEntries(e,t){let n=cn();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():gt.newInvalidDocument(e))}),ye.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=cn();const s=t.path,a=new ce(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||pe(he(a),n)<=0||(r.has(a.key)||nn(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return ye.resolve(i)}getAllFromCollectionGroup(e,t,n,r){F()}Or(e,t){return ye.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new vi(this)}getSize(e){return ye.resolve(this.size)}}class vi extends ci{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)}),ye.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class wi{constructor(e){this.persistence=e,this.Nr=new on(e=>jt(e),Ut),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new gi,this.targetCount=0,this.kr=li.Bn()}forEachTarget(e,t){return this.Nr.forEach((e,n)=>t(n)),ye.resolve()}getLastRemoteSnapshotVersion(e){return ye.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ye.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ye.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),ye.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new li(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,ye.resolve()}updateTargetData(e,t){return this.Kn(t),ye.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,ye.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),ye.waitFor(i).next(()=>r)}getTargetCount(e){return ye.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return ye.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),ye.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ye.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),ye.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return ye.resolve(n)}containsKey(e,t){return ye.resolve(this.Br.containsKey(t))}}class bi{constructor(e,t){this.qr={},this.overlays={},this.Qr=new be(0),this.Kr=!1,this.Kr=!0,this.$r=new pi,this.referenceDelegate=e(this),this.Ur=new wi(this),this.indexManager=new si,this.remoteDocumentCache=function(e){return new yi(e)}(e=>this.referenceDelegate.Wr(e)),this.serializer=new ni(t),this.Gr=new hi(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new fi,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new Ai(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){O("MemoryPersistence","Starting transaction:",e);const r=new Ei(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(e=>this.referenceDelegate.jr(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Hr(e,t){return ye.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class Ei extends me{constructor(e){super(),this.currentSequenceNumber=e}}class Ci{constructor(e){this.persistence=e,this.Jr=new gi,this.Yr=null}static Zr(e){return new Ci(e)}get Xr(){if(this.Yr)return this.Yr;throw F()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),ye.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),ye.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),ye.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(e=>this.Xr.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Xr.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ye.forEach(this.Xr,n=>{const r=ce.fromPath(n);return this.ei(e,r).next(e=>{e||t.removeEntry(r,ie.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return ye.or([()=>ye.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class Ii{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=yn(),r=yn();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ii(e,t.fromCache,n,r)}}class ki{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Si{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=(0,A.nr)()?8:ve((0,A.ZQ)())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next(e=>{i.result=e}).next(()=>{if(!i.result)return this.Zi(e,t,r,n).next(e=>{i.result=e})}).next(()=>{if(i.result)return;const n=new ki;return this.Xi(e,t,n).next(r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)})}).next(()=>i.result)}es(e,t,n,r){return n.documentReadCount<this.ji?(P()<=m.$b.DEBUG&&O("QueryEngine","SDK will not create cache indexes for query:",tn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ye.resolve()):(P()<=m.$b.DEBUG&&O("QueryEngine","Query:",tn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(P()<=m.$b.DEBUG&&O("QueryEngine","The SDK decides to create cache indexes for query:",tn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wt(t))):ye.resolve())}Yi(e,t){if(Kt(t))return ye.resolve(null);let n=Wt(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Zt(t,null,"F"),n=Wt(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=yn(...r);return this.Ji.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,Zt(t,null,"F")):this.rs(e,s,t,n)}))})))}Zi(e,t,n,r){return Kt(t)||r.isEqual(ie.min())?ye.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?ye.resolve(null):(P()<=m.$b.DEBUG&&O("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),tn(t)),this.rs(e,s,t,de(r,-1)).next(e=>e))})}ts(e,t){let n=new Oe(sn(e));return t.forEach((t,r)=>{nn(e,r)&&(n=n.add(r))}),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return P()<=m.$b.DEBUG&&O("QueryEngine","Using full collection scan to execute query:",tn(t)),this.Ji.getDocumentsMatchingQuery(e,t,fe.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class xi{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new _e(te),this._s=new on(e=>jt(e),Ut),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new di(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Ti(e,t,n,r){return new xi(e,t,n,r)}async function Ni(e,t){const n=U(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let a=yn();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next(e=>({hs:e,removedBatchIds:i,addedBatchIds:s}))})})}function Di(e){const t=U(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function Bi(e,t,n){let r=yn(),i=yn();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=cn();return n.forEach((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ie.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):O("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)}),{Ps:r,Is:i}})}function _i(e,t){const n=U(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function Ri(e,t){const n=U(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Ur.getTargetData(e,t).next(i=>i?(r=i,ye.resolve(r)):n.Ur.allocateTargetId(e).next(i=>(r=new ti(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e})}async function Pi(e,t,n){const r=U(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!we(e))throw e;O("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.os=r.os.remove(t),r._s.delete(i.target)}function Oi(e,t,n){const r=U(e);let i=ie.min(),s=yn();return r.persistence.runTransaction("Execute query","readwrite",e=>function(e,t,n){const r=U(e),i=r._s.get(n);return void 0!==i?ye.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Wt(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:ie.min(),n?s:yn())).next(e=>(Li(r,rn(t),e),{documents:e,Ts:s})))}function Li(e,t,n){let r=e.us.get(t)||ie.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.us.set(t,r)}class Mi{constructor(){this.activeTargetIds=wn()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Qi{constructor(){this.so=new Mi,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Mi,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Fi{_o(e){}shutdown(){}}class ji{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){O("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){O("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ui=null;function Vi(){return null===Ui?Ui=268435456+Math.round(2147483648*Math.random()):Ui++,"0x"+Ui.toString(16)}const Gi={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zi{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Hi="WebChannelConnection";class Ki extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo="projects/".concat(n,"/databases/").concat(r),this.Co="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get Fo(){return!1}Mo(e,t,n,r,i){const s=Vi(),a=this.xo(e,t.toUriEncodedString());O("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then(t=>(O("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw M("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t})}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}xo(e,t){const n=Gi[e];return"".concat(this.Do,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Vi();return new Promise((s,a)=>{const o=new w;o.setWithCredentials(!0),o.listenOnce(E.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case C.NO_ERROR:const t=o.getResponseJson();O(Hi,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case C.TIMEOUT:O(Hi,"RPC '".concat(e,"' ").concat(i," timed out")),a(new G(V.DEADLINE_EXCEEDED,"Request time out"));break;case C.HTTP_ERROR:const n=o.getStatus();if(O(Hi,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(t)>=0?t:V.UNKNOWN}(t.status);a(new G(e,t.message))}else a(new G(V.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new G(V.UNAVAILABLE,"Connection failed."));break;default:F()}}finally{O(Hi,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);O(Hi,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)})}Bo(e,t,n){const r=Vi(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=x(),a=S(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");O(Hi,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const f=new zi({Io:t=>{h?O(Hi,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(d||(O(Hi,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),d=!0),O(Hi,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},To:()=>u.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(u,b.EventType.OPEN,()=>{h||(O(Hi,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),f.yo())}),p(u,b.EventType.CLOSE,()=>{h||(h=!0,O(Hi,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.So())}),p(u,b.EventType.ERROR,t=>{h||(h=!0,M(Hi,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.So(new G(V.UNAVAILABLE,"The operation could not be completed")))}),p(u,b.EventType.MESSAGE,t=>{var n;if(!h){const i=t.data[0];j(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){O(Hi,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=rr[e];if(void 0!==t)return ar(t)}(t),i=a.message;void 0===n&&(n=V.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,f.So(new G(n,i)),u.close()}else O(Hi,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.bo(i)}}),p(a,k.STAT_EVENT,t=>{t.stat===I.PROXY?O(Hi,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===I.NOPROXY&&O(Hi,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{f.wo()},0),f}}function Ji(){return"undefined"!=typeof document?document:null}function Yi(e){return new Sr(e,!0)}class Wi{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&O("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Ko," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class qi{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Wi(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===V.RESOURCE_EXHAUSTED?(L(t.toString()),L("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===V.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)},t=>{e(()=>{const e=new G(V.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(e=>{n(()=>this.I_(e))}),this.stream.onMessage(e=>{n(()=>1==++this.e_?this.E_(e):this.onNext(e))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return O("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(O("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Xi extends qi{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:F()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(j(void 0===t||"string"==typeof t),Fe.fromBase64String(t||"")):(j(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Fe.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?V.UNKNOWN:ar(e.code);return new G(t,e.message||"")}(a);n=new yr(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Lr(e,r.document.name),s=Br(r.document.updateTime),a=r.document.createTime?Br(r.document.createTime):ie.min(),o=new ft({mapValue:{fields:r.document.fields}}),l=gt.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new mr(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Lr(e,r.document),s=r.readTime?Br(r.readTime):ie.min(),a=gt.newNoDocument(i,s),o=r.removedTargetIds||[];n=new mr([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Lr(e,r.document),s=r.removedTargetIds||[];n=new mr([],s,i,null)}else{if(!("filter"in t))return F();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new nr(r,i),a=e.targetId;n=new Ar(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return ie.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ie.min():t.readTime?Br(t.readTime):ie.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Fr(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Vt(r)?{documents:Gr(e,r)}:{query:zr(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Nr(e,t.resumeToken);const r=xr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ie.min())>0){n.readTime=Tr(e,t.snapshotVersion.toTimestamp());const r=xr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return F()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Fr(this.serializer),t.removeTarget=e,this.a_(t)}}class Zi extends qi{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return j(!!e.streamToken),this.lastStreamToken=e.streamToken,j(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){j(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(j(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Br(e.updateTime):Br(t);return n.isEqual(ie.min())&&(n=Br(t)),new Mn(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Br(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Fr(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Vr(this.serializer,e))};this.a_(t)}}class $i extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new G(V.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,a]=i;return this.connection.Mo(e,Rr(t,n),r,s,a)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new G(V.UNKNOWN,e.toString())})}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(s=>{let[a,o]=s;return this.connection.Lo(e,Rr(t,n),r,a,o,i)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new G(V.UNKNOWN,e.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class es{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.D_?(L(t),this.D_=!1):O("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class ts{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(e=>{n.enqueueAndForget(async()=>{us(this)&&(O("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=U(e);t.L_.add(4),await rs(t),t.q_.set("Unknown"),t.L_.delete(4),await ns(t)}(this))})}),this.q_=new es(n,r)}}async function ns(e){if(us(e))for(const t of e.B_)await t(!0)}async function rs(e){for(const t of e.B_)await t(!1)}function is(e,t){const n=U(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),cs(n)?ls(n):Ns(n).r_()&&as(n,t))}function ss(e,t){const n=U(e),r=Ns(n);n.N_.delete(t),r.r_()&&os(n,t),0===n.N_.size&&(r.r_()?r.o_():us(n)&&n.q_.set("Unknown"))}function as(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ie.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ns(e).A_(t)}function os(e,t){e.Q_.xe(t),Ns(e).R_(t)}function ls(e){e.Q_=new wr({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Ns(e).start(),e.q_.v_()}function cs(e){return us(e)&&!Ns(e).n_()&&e.N_.size>0}function us(e){return 0===U(e).L_.size}function ds(e){e.Q_=void 0}async function hs(e){e.q_.set("Online")}async function fs(e){e.N_.forEach((t,n)=>{as(e,t)})}async function ps(e,t){ds(e),cs(e)?(e.q_.M_(t),ls(e)):e.q_.set("Unknown")}async function gs(e,t,n){if(e.q_.set("Online"),t instanceof yr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){O("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await ms(e,n)}else if(t instanceof mr?e.Q_.Ke(t):t instanceof Ar?e.Q_.He(t):e.Q_.We(t),!n.isEqual(ie.min()))try{const t=await Di(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(Fe.EMPTY_BYTE_STRING,r.snapshotVersion)),os(e,t);const i=new ti(r.target,t,n,r.sequenceNumber);as(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){O("RemoteStore","Failed to raise snapshot:",t),await ms(e,t)}}async function ms(e,t,n){if(!we(t))throw t;e.L_.add(1),await rs(e),e.q_.set("Offline"),n||(n=()=>Di(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{O("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await ns(e)})}function As(e,t){return t().catch(n=>ms(e,n,t))}async function ys(e){const t=U(e),n=Ds(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;vs(t);)try{const e=await _i(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,ws(t,e)}catch(e){await ms(t,e)}bs(t)&&Es(t)}function vs(e){return us(e)&&e.O_.length<10}function ws(e,t){e.O_.push(t);const n=Ds(e);n.r_()&&n.V_&&n.m_(t.mutations)}function bs(e){return us(e)&&!Ds(e).n_()&&e.O_.length>0}function Es(e){Ds(e).start()}async function Cs(e){Ds(e).p_()}async function Is(e){const t=Ds(e);for(const n of e.O_)t.m_(n.mutations)}async function ks(e,t,n){const r=e.O_.shift(),i=er.from(r,t,n);await As(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await ys(e)}async function Ss(e,t){t&&Ds(e).V_&&await async function(e,t){if(function(e){return sr(e)&&e!==V.ABORTED}(t.code)){const n=e.O_.shift();Ds(e).s_(),await As(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await ys(e)}}(e,t),bs(e)&&Es(e)}async function xs(e,t){const n=U(e);n.asyncQueue.verifyOperationInProgress(),O("RemoteStore","RemoteStore received new credentials");const r=us(n);n.L_.add(3),await rs(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await ns(n)}async function Ts(e,t){const n=U(e);t?(n.L_.delete(2),await ns(n)):t||(n.L_.add(2),await rs(n),n.q_.set("Unknown"))}function Ns(e){return e.K_||(e.K_=function(e,t,n){const r=U(e);return r.w_(),new Xi(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:hs.bind(null,e),Ro:fs.bind(null,e),mo:ps.bind(null,e),d_:gs.bind(null,e)}),e.B_.push(async t=>{t?(e.K_.s_(),cs(e)?ls(e):e.q_.set("Unknown")):(await e.K_.stop(),ds(e))})),e.K_}function Ds(e){return e.U_||(e.U_=function(e,t,n){const r=U(e);return r.w_(),new Zi(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Cs.bind(null,e),mo:Ss.bind(null,e),f_:Is.bind(null,e),g_:ks.bind(null,e)}),e.B_.push(async t=>{t?(e.U_.s_(),await ys(e)):(await e.U_.stop(),e.O_.length>0&&(O("RemoteStore","Stopping write stream with ".concat(e.O_.length," pending writes")),e.O_=[]))})),e.U_}class Bs{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new z,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new Bs(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new G(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _s(e,t){if(L("AsyncQueue","".concat(t,": ").concat(e)),we(e))return new G(V.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class Rs{constructor(e){this.comparator=e?(t,n)=>e(t,n)||ce.comparator(t.key,n.key):(e,t)=>ce.comparator(e.key,t.key),this.keyedMap=dn(),this.sortedSet=new _e(this.comparator)}static emptySet(e){return new Rs(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Rs))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Rs;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Ps{constructor(){this.W_=new _e(ce.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):F():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class Os{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Os(e,t,Rs.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$t(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Ls{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Ms{constructor(){this.queries=Qs(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=U(e),r=n.queries;n.queries=Qs(),r.forEach((e,n)=>{for(const r of n.j_)r.onError(t)})}(this,new G(V.ABORTED,"Firestore shutting down"))}}function Qs(){return new on(e=>en(e),$t)}async function Fs(e,t){const n=U(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new Ls,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=_s(e,"Initialization of query '".concat(tn(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Gs(n)}async function js(e,t){const n=U(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Us(e,t){const n=U(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Gs(n)}function Vs(e,t,n){const r=U(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function Gs(e){e.Y_.forEach(e=>{e.next()})}var zs,Hs;(Hs=zs||(zs={})).ea="default",Hs.Cache="cache";class Ks{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Os(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=Os.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==zs.Cache}}class Js{constructor(e){this.key=e}}class Ys{constructor(e){this.key=e}}class Ws{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=yn(),this.mutatedKeys=yn(),this.Aa=sn(e),this.Ra=new Rs(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Ps,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const c=r.get(e),u=nn(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.ga(c,u)||(n.track({type:2,doc:u}),f=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(o||l)&&(a=!0)),f&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return F()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc)),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new Os(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ps,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=yn(),this.Ra.forEach(e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))});const t=[];return e.forEach(e=>{this.da.has(e)||t.push(new Ys(e))}),this.da.forEach(n=>{e.has(n)||t.push(new Js(n))}),t}ba(e){this.Ta=e.Ts,this.da=yn();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Os.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class qs{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Xs{constructor(e){this.key=e,this.va=!1}}class Zs{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new on(e=>en(e),$t),this.Ma=new Map,this.xa=new Set,this.Oa=new _e(ce.comparator),this.Na=new Map,this.La=new gi,this.Ba={},this.ka=new Map,this.qa=li.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function $s(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=wa(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await ta(r,t,n,!0),i}async function ea(e,t){const n=wa(e);await ta(n,t,!0,!1)}async function ta(e,t,n,r){const i=await Ri(e.localStore,Wt(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await na(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&is(e.remoteStore,i),o}async function na(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await Oi(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.ma(n,i)}));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return pa(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await Oi(e.localStore,t,!0),a=new Ws(t,s.Ts),o=a.ma(s.documents),l=gr.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);pa(e,n,c.wa);const u=new qs(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function ra(e,t,n){const r=U(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(e=>!$t(e,t))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Pi(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ss(r.remoteStore,i.targetId),ha(r,i.targetId)}).catch(Ae)):(ha(r,i.targetId),await Pi(r.localStore,i.targetId,!0))}async function ia(e,t){const n=U(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ss(n.remoteStore,r.targetId))}async function sa(e,t){const n=U(e);try{const e=await function(e,t){const n=U(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next(()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o)));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(Fe.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Ur.updateTargetData(e,c))});let o=cn(),l=yn();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),a.push(Bi(e,s,t.documentUpdates).next(e=>{o=e.Ps,l=e.Is})),!r.isEqual(ie.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next(t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r));a.push(t)}return ye.waitFor(a).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,o,l)).next(()=>o)}).then(e=>(n.os=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.Na.get(t);r&&(j(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?j(r.va):e.removedDocuments.size>0&&(j(r.va),r.va=!1))}),await Aa(n,e,t)}catch(e){await Ae(e)}}function aa(e,t,n){const r=U(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=U(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)}),r&&Gs(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function oa(e,t,n){const r=U(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new _e(ce.comparator);e=e.insert(s,gt.newNoDocument(s,ie.min()));const n=yn().add(s),i=new pr(ie.min(),new Map,new _e(te),e,n);await sa(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),ma(r)}else await Pi(r.localStore,t,!1).then(()=>ha(r,t,n)).catch(Ae)}async function la(e,t){const n=U(e),r=t.batch.batchId;try{const e=await function(e,t){const n=U(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=ye.resolve();return s.forEach(e=>{a=a.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);j(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),a.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=yn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);da(n,r,null),ua(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Aa(n,e)}catch(e){await Ae(e)}}async function ca(e,t,n){const r=U(e);try{const e=await function(e,t){const n=U(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(j(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);da(r,t,n),ua(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Aa(r,e)}catch(n){await Ae(n)}}function ua(e,t){(e.ka.get(t)||[]).forEach(e=>{e.resolve()}),e.ka.delete(t)}function da(e,t,n){const r=U(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function ha(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach(t=>{e.La.containsKey(t)||fa(e,t)})}function fa(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(ss(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),ma(e))}function pa(e,t,n){for(const r of n)r instanceof Js?(e.La.addReference(r.key,t),ga(e,r)):r instanceof Ys?(O("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||fa(e,r.key)):F()}function ga(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(O("SyncEngine","New document in limbo: "+n),e.xa.add(r),ma(e))}function ma(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new ce(ae.fromString(t)),r=e.qa.next();e.Na.set(r,new Xs(n)),e.Oa=e.Oa.insert(n,r),is(e.remoteStore,new ti(Wt(Ht(n.path)),r,"TargetPurposeLimboResolution",be.oe))}}async function Aa(e,t,n){const r=U(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((e,o)=>{a.push(r.Ka(o,t,n).then(e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ii.Wi(o.targetId,e);s.push(t)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=U(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ye.forEach(t,t=>ye.forEach(t.$i,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ye.forEach(t.Ui,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!we(e))throw e;O("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function ya(e,t){const n=U(e);if(!n.currentUser.isEqual(t)){O("SyncEngine","User change. New user:",t.toKey());const e=await Ni(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach(e=>{e.forEach(e=>{e.reject(new G(V.CANCELLED,t))})}),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Aa(n,e.hs)}}function va(e,t){const n=U(e),r=n.Na.get(t);if(r&&r.va)return yn().add(r.key);{let e=yn();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function wa(e){const t=U(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=sa.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=va.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oa.bind(null,t),t.Ca.d_=Us.bind(null,t.eventManager),t.Ca.$a=Vs.bind(null,t.eventManager),t}function ba(e){const t=U(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=la.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ca.bind(null,t),t}class Ea{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yi(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return Ti(this.persistence,new Si,e.initialUser,this.serializer)}Ga(e){return new bi(Ci.Zr,this.serializer)}Wa(e){return new Qi}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ea.provider={build:()=>new Ea};class Ca{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>aa(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=ya.bind(null,this.syncEngine),await Ts(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Ms}createDatastore(e){const t=Yi(e.databaseInfo.databaseId),n=function(e){return new Ki(e)}(e.databaseInfo);return function(e,t,n,r){return new $i(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new ts(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,e=>aa(this.syncEngine,e,0),ji.D()?new ji:new Fi)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Zs(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=U(e);O("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await rs(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ca.provider={build:()=>new Ca};class Ia{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):L("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class ka{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=B.UNAUTHENTICATED,this.clientId=ee.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async e=>{O("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(O("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new z;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=_s(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Sa(e,t){e.asyncQueue.verifyOperationInProgress(),O("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await Ni(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function xa(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ta(e);O("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener(e=>xs(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>xs(t.remoteStore,n)),e._onlineComponents=t}async function Ta(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){O("FirestoreClient","Using user provided OfflineComponentProvider");try{await Sa(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===V.FAILED_PRECONDITION||e.code===V.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;M("Error using user provided cache. Falling back to memory cache: "+n),await Sa(e,new Ea)}}else O("FirestoreClient","Using default OfflineComponentProvider"),await Sa(e,new Ea);return e._offlineComponents}async function Na(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(O("FirestoreClient","Using user provided OnlineComponentProvider"),await xa(e,e._uninitializedComponentsProvider._online)):(O("FirestoreClient","Using default OnlineComponentProvider"),await xa(e,new Ca))),e._onlineComponents}function Da(e){return Na(e).then(e=>e.syncEngine)}async function Ba(e){const t=await Na(e),n=t.eventManager;return n.onListen=$s.bind(null,t.syncEngine),n.onUnlisten=ra.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ea.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=ia.bind(null,t.syncEngine),n}function _a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new z;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new Ia({next:n=>{s.Za(),t.enqueueAndForget(()=>js(e,a)),n.fromCache&&"server"===r.source?i.reject(new G(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Ks(n,s,{includeMetadataChanges:!0,_a:!0});return Fs(e,a)}(await Ba(e),e.asyncQueue,t,n,r)),r.promise}function Ra(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Pa=new Map;function Oa(e,t,n){if(!n)throw new G(V.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function La(e){if(!ce.isDocumentKey(e))throw new G(V.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Ma(e){if(ce.isDocumentKey(e))throw new G(V.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Qa(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":F()}function Fa(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new G(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qa(e);throw new G(V.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class ja{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new G(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new G(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new G(V.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ra(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new G(V.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new G(V.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new G(V.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ua{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ja({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new G(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ja(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new K;switch(e.type){case"firstParty":return new q(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new G(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Pa.get(e);t&&(O("ComponentProvider","Removing Datastore"),Pa.delete(e),t.terminate())}(this),Promise.resolve()}}class Va{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Va(this.firestore,e,this._query)}}class Ga{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new za(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ga(this.firestore,e,this._key)}}class za extends Va{constructor(e,t,n){super(e,t,Ht(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ga(this.firestore,null,new ce(e))}withConverter(e){return new za(this.firestore,e,this._path)}}function Ha(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,A.Ku)(e),Oa("collection","path",t),e instanceof Ua){const n=ae.fromString(t,...r);return Ma(n),new za(e,null,n)}{if(!(e instanceof Ga||e instanceof za))throw new G(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ae.fromString(t,...r));return Ma(n),new za(e.firestore,null,n)}}function Ka(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=(0,A.Ku)(e),1===arguments.length&&(t=ee.newId()),Oa("doc","path",t),e instanceof Ua){const n=ae.fromString(t,...r);return La(n),new Ga(e,null,new ce(n))}{if(!(e instanceof Ga||e instanceof za))throw new G(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(ae.fromString(t,...r));return La(n),new Ga(e.firestore,e instanceof za?e.converter:null,new ce(n))}}class Ja{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Wi(this,"async_queue_retry"),this.Vu=()=>{const e=Ji();e&&O("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Ji();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Ji();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new z;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!we(e))throw e;O("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw L("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.du=!1,e))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=Bs.createAndSchedule(this,e,t,n,e=>this.yu(e));return this.Tu.push(r),r}fu(){this.Eu&&F()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Ya(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Wa extends Ua{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Ja,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ja(e),this._firestoreClient=void 0,await e}}}function qa(e,t){const n="object"==typeof e?e:(0,p.Sx)(),r="string"==typeof e?e:t||"(default)",i=(0,p.j6)(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(0,A.yU)("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Fa(e,Ua))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&M("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=B.MOCK_USER;else{t=(0,A.Fy)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new G(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new B(s)}e._authCredentials=new J(new H(t,n))}}(i,...e)}return i}function Xa(e){if(e._terminated)throw new G(V.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Za(e),e._firestoreClient}function Za(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Je(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Ra(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new ka(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class $a{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $a(Fe.fromBase64String(e))}catch(e){throw new G(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new $a(Fe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class eo{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new G(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new le(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class to{constructor(e){this._methodName=e}}class no{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return te(this._lat,e._lat)||te(this._long,e._long)}}class ro{constructor(e){this._values=(e||[]).map(e=>e)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const io=/^__.*__$/;class so{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Jn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kn(e,this.data,t,this.fieldTransforms)}}class ao{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Jn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function oo(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw F()}}class lo{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new lo(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return xo(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(oo(this.Cu)&&io.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class co{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Yi(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new lo({Cu:e,methodName:t,qu:n,path:le.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uo(e){const t=e._freezeSettings(),n=Yi(e._databaseId);return new co(e._databaseId,!!t.ignoreUndefinedProperties,n)}function ho(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);Co("Data must be an object, but it was:",a,r);const o=bo(r,a);let l,c;if(s.merge)l=new Me(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Io(t,r,n);if(!a.contains(i))throw new G(V.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));To(e,i)||e.push(i)}l=new Me(e),c=a.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,c=a.fieldTransforms;return new so(new ft(o),l,c)}class fo extends to{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Bu("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fo}}function po(e,t,n){return new lo({Cu:3,qu:t.settings.qu,methodName:e._methodName,xu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class go extends to{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=po(this,e,!0),n=this.Ku.map(e=>wo(e,t)),r=new Nn(n);return new Ln(e.path,r)}isEqual(e){return e instanceof go&&(0,A.bD)(this.Ku,e.Ku)}}class mo extends to{constructor(e,t){super(e),this.Ku=t}_toFieldTransform(e){const t=po(this,e,!0),n=this.Ku.map(e=>wo(e,t)),r=new Bn(n);return new Ln(e.path,r)}isEqual(e){return e instanceof mo&&(0,A.bD)(this.Ku,e.Ku)}}function Ao(e,t,n,r){const i=e.Qu(1,t,n);Co("Data must be an object, but it was:",i,r);const s=[],a=ft.empty();De(r,(e,r)=>{const o=So(t,e,n);r=(0,A.Ku)(r);const l=i.Nu(o);if(r instanceof fo)s.push(o);else{const e=wo(r,l);null!=e&&(s.push(o),a.set(o,e))}});const o=new Me(s);return new ao(a,o,i.fieldTransforms)}function yo(e,t,n,r,i,s){const a=e.Qu(1,t,n),o=[Io(t,r,n)],l=[i];if(s.length%2!=0)throw new G(V.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let h=0;h<s.length;h+=2)o.push(Io(t,s[h])),l.push(s[h+1]);const c=[],u=ft.empty();for(let h=o.length-1;h>=0;--h)if(!To(c,o[h])){const e=o[h];let t=l[h];t=(0,A.Ku)(t);const n=a.Nu(e);if(t instanceof fo)c.push(e);else{const r=wo(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new Me(c);return new ao(u,d,a.fieldTransforms)}function vo(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wo(n,e.Qu(r?4:3,t))}function wo(e,t){if(Eo(e=(0,A.Ku)(e)))return Co("Unsupported field value:",t,e),bo(e,t);if(e instanceof to)return function(e,t){if(!oo(t.Cu))throw t.Bu("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Bu("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=wo(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,A.Ku)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Cn(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=re.fromDate(e);return{timestampValue:Tr(t.serializer,n)}}if(e instanceof re){const n=new re(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Tr(t.serializer,n)}}if(e instanceof no)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof $a)return{bytesValue:Nr(t.serializer,e._byteString)};if(e instanceof Ga){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:_r(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof ro)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map(e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return bn(t.serializer,e)})}}}}}}(e,t);throw t.Bu("Unsupported field value: ".concat(Qa(e)))}(e,t)}function bo(e,t){const n={};return Be(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):De(e,(e,r)=>{const i=wo(r,t.Mu(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Eo(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof re||e instanceof no||e instanceof $a||e instanceof Ga||e instanceof to||e instanceof ro)}function Co(e,t,n){if(!Eo(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Qa(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function Io(e,t,n){if((t=(0,A.Ku)(t))instanceof eo)return t._internalPath;if("string"==typeof t)return So(e,t);throw xo("Field path arguments must be of type string or ",e,!1,void 0,n)}const ko=new RegExp("[~\\*/\\[\\]]");function So(e,t,n){if(t.search(ko)>=0)throw xo("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new eo(...t.split("."))._internalPath}catch(r){throw xo("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function xo(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new G(V.INVALID_ARGUMENT,o+e+l)}function To(e,t){return e.some(e=>e.isEqual(t))}class No{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ga(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Do(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Bo("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Do extends No{data(){return super.data()}}function Bo(e,t){return"string"==typeof t?So(e,t):t instanceof eo?t._internalPath:t._delegate._internalPath}function _o(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new G(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ro{}class Po extends Ro{}function Oo(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof Ro&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof Mo).length,n=e.filter(e=>e instanceof Lo).length;if(t>1||t>0&&n>0)throw new G(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class Lo extends Po{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Lo(e,t,n)}_apply(e){const t=this._parse(e);return jo(e._query,t),new Va(e.firestore,e.converter,Xt(e._query,t))}_parse(e){const t=uo(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new G(V.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){Fo(a,s);const t=[];for(const n of a)t.push(Qo(r,e,n));o={arrayValue:{values:t}}}else o=Qo(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Fo(a,s),o=vo(n,t,a,"in"===s||"not-in"===s);return Et.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class Mo extends Ro{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Mo(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:Ct.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)jo(n,i),n=Xt(n,i)}(e._query,t),new Va(e.firestore,e.converter,Xt(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function Qo(e,t,n){if("string"==typeof(n=(0,A.Ku)(n))){if(""===n)throw new G(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Jt(t)&&-1!==n.indexOf("/"))throw new G(V.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(ae.fromString(n));if(!ce.isDocumentKey(r))throw new G(V.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return it(e,new ce(r))}if(n instanceof Ga)return it(e,n._key);throw new G(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Qa(n),"."))}function Fo(e,t){if(!Array.isArray(e)||0===e.length)throw new G(V.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function jo(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new G(V.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new G(V.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class Uo{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(qe(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ve(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ge(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw F()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return De(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map(e=>Ve(e.doubleValue));return new ro(i)}convertGeoPoint(e){return new no(Ve(e.latitude),Ve(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=He(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ke(e));default:return null}}convertTimestamp(e){const t=Ue(e);return new re(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=ae.fromString(e);j(ei(n));const r=new Ye(n.get(1),n.get(3)),i=new ce(n.popFirst(5));return r.isEqual(t)||L("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function Vo(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Go{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zo extends No{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Ho(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Bo("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ho extends zo{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ko{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Go(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new Ho(this._firestore,this._userDataWriter,n.key,n,new Go(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new G(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new Ho(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Go(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new Ho(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Go(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Jo(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Jo(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return F()}}class Yo extends Uo{constructor(e){super(),this.firestore=e}convertBytes(e){return new $a(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ga(this.firestore,null,t)}}function Wo(e){e=Fa(e,Va);const t=Fa(e.firestore,Wa),n=Xa(t),r=new Yo(t);return _o(e._query),_a(n,e._query).then(n=>new Ko(t,r,e,n))}function qo(e,t,n){e=Fa(e,Ga);const r=Fa(e.firestore,Wa),i=uo(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=(0,A.Ku)(t))||t instanceof eo?yo(i,"updateDoc",e._key,t,n,o):Ao(i,"updateDoc",e._key,t),el(r,[s.toMutation(e._key,Qn.exists(!0))])}function Xo(e){return el(Fa(e.firestore,Wa),[new Xn(e._key,Qn.none())])}function Zo(e,t){const n=Fa(e.firestore,Wa),r=Ka(e),i=Vo(e.converter,t);return el(n,[ho(uo(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Qn.exists(!1))]).then(()=>r)}function $o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=(0,A.Ku)(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Ya(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Ya(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof Ga)d=Fa(e.firestore,Wa),h=Ht(e._key.path),u={next:t=>{n[l]&&n[l](tl(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Fa(e,Va);d=Fa(t.firestore,Wa),h=t._query;const r=new Yo(d);u={next:e=>{n[l]&&n[l](new Ko(d,r,t,e))},error:n[l+1],complete:n[l+2]},_o(e._query)}return function(e,t,n,r){const i=new Ia(r),s=new Ks(t,i,n);return e.asyncQueue.enqueueAndForget(async()=>Fs(await Ba(e),s)),()=>{i.Za(),e.asyncQueue.enqueueAndForget(async()=>js(await Ba(e),s))}}(Xa(d),h,c,u)}function el(e,t){return function(e,t){const n=new z;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=ba(e);try{const e=await function(e,t){const n=U(e),r=re.now(),i=t.reduce((e,t)=>e.add(t.key),yn());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let o=cn(),l=yn();return n.cs.getEntries(e,i).next(e=>{o=e,o.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,o)).next(i=>{s=i;const a=[];for(const e of t){const t=zn(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Jn(e.key,t,pt(t.value.mapValue),Qn.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)}).next(t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:a.batchId,changes:hn(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new _e(te)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await Aa(r,e.changes),await ys(r.remoteStore)}catch(e){const t=_s(e,"Failed to persist write");n.reject(t)}}(await Da(e),t,n)),n.promise}(Xa(e),t)}function tl(e,t,n){const r=n.docs.get(t._key),i=new Yo(e);return new zo(e,i,t._key,r,new Go(n.hasPendingWrites,n.fromCache),t.converter)}function nl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new go("arrayUnion",t)}function rl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new mo("arrayRemove",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){_=e}(p.MF),(0,p.om)(new g.uA("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Wa(new Y(e.getProvider("auth-internal")),new Z(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new G(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ye(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),(0,p.KO)(D,"4.7.3",e),(0,p.KO)(D,"4.7.3","esm2017")}();(0,p.KO)("firebase","10.14.1","app");var il=n(786),sl=n(579);const al="https://musicplayer-lr87-91bv.onrender.com",ol={apiKey:"AIzaSyCWyH0Zj3OyLrd73PAgIgMN1LA94YMHW9w",authDomain:"yourmusicplayerapp.firebaseapp.com",projectId:"yourmusicplayerapp",storageBucket:"yourmusicplayerapp.firebasestorage.app",messagingSenderId:"427968300667",appId:"1:427968300667:web:1caef8afdb90c27ed444de",measurementId:"G-TPLF8D6ZCN"},ll="undefined"!==typeof __app_id?__app_id:"default-music-player-app";function cl(e,t){const[n,i]=(0,r.useState)({top:0,left:0});return(0,r.useEffect)(()=>{if(e&&t.current){const e=t.current.getBoundingClientRect();i({top:e.bottom+window.scrollY+4,left:e.left+window.scrollX})}},[e,t]),n}const ul=async function(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"Firestore operation failed";const s=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Firestore operation";return console.log("[DEBUG] ".concat(n," - Checking Firestore readiness...")),console.log("[DEBUG] db value:",e),console.log("[DEBUG] db type:",typeof e),console.log("[DEBUG] db === null:",null===e),console.log("[DEBUG] db === undefined:",void 0===e),e?"object"!==typeof e?(console.error("".concat(n,": Firestore instance (db) is not an object:"),e),{ready:!1,error:"Firestore is not properly initialized. Please refresh the page."}):e.app?"object"===typeof e.app&&e.app.name?t?"string"!==typeof t||""===t.trim()?(console.error("".concat(n,": User ID is not a valid string:"),t),{ready:!1,error:"Invalid user authentication. Please log in again."}):(console.log("[DEBUG] ".concat(n," - Firestore readiness check passed")),{ready:!0,error:null}):(console.error("".concat(n,": User ID is null or undefined")),{ready:!1,error:"User not authenticated. Please log in to use this feature."}):(console.error("".concat(n,": Firestore app is not valid:"),e.app),{ready:!1,error:"Firestore app is not properly initialized. Please refresh the page."}):(console.error("".concat(n,": Firestore instance (db) is missing app property:"),e),console.log("[DEBUG] db keys:",Object.keys(e)),{ready:!1,error:"Firestore is not properly initialized. Please refresh the page."}):(console.error("".concat(n,": Firestore instance (db) is null or undefined")),{ready:!1,error:"Firestore is not initialized. Please refresh the page."})}(e,t,n);if(!s.ready)throw new Error(s.error);try{return await r()}catch(a){throw console.error("".concat(n," failed:"),a),new Error("".concat(i,": ").concat(a.message))}},dl=()=>{var e;const[t,i]=(0,r.useState)(null),[d,h]=(0,r.useState)([]),[g,m]=(0,r.useState)(!1),[A,y]=(0,r.useState)("none"),[v,w]=(0,r.useState)(!1),[b,E]=(0,r.useState)(""),[C,I]=(0,r.useState)([]),[k,S]=(0,r.useState)([]),[x,T]=(0,r.useState)(null),[N,D]=(0,r.useState)(!1),[B,_]=(0,r.useState)(!1),[R,P]=(0,r.useState)(null),[O,L]=(0,r.useState)("search"),[M,Q]=(0,r.useState)(""),[F,j]=(0,r.useState)(""),[U,V]=(0,r.useState)([]),[G,z]=(0,r.useState)(null),[H,K]=(0,r.useState)(""),[J,Y]=(0,r.useState)("\ud83c\udfb5"),[W,q]=(0,r.useState)(""),[X,Z]=(0,r.useState)(!1),[$,ee]=(0,r.useState)(null),[te,ne]=(0,r.useState)(!1),[re,ie]=(0,r.useState)(null),[se,ae]=(0,r.useState)(!1),[oe,le]=(0,r.useState)("dateAdded"),[ce,ue]=(0,r.useState)("desc"),[de,he]=(0,r.useState)(!1),[fe,pe]=(0,r.useState)(0),[ge,me]=(0,r.useState)(0),[Ae,ye]=(0,r.useState)(1),[ve,we]=(0,r.useState)(!1),[be,Ee]=(0,r.useState)(!1),[Ce,Ie]=(0,r.useState)(!1),[ke,Se]=(0,r.useState)(!1),[xe,Te]=(0,r.useState)(null),[Ne,De]=(0,r.useState)([]),[Be,_e]=(0,r.useState)([]),[Re,Pe]=(0,r.useState)(""),[Oe,Le]=(0,r.useState)(!1),[Me,Qe]=(0,r.useState)(""),[Fe,je]=(0,r.useState)(!1),[Ue,Ve]=(0,r.useState)({avatar:"",name:"",theme:"system"}),[Ge,ze]=(0,r.useState)(!1),[He,Ke]=(0,r.useState)("auto"),[Je,Ye]=(0,r.useState)(!1),[We,qe]=(0,r.useState)(!1),[Xe,Ze]=(0,r.useState)(3),[$e,et]=(0,r.useState)("home"),tt=(0,r.useRef)(null),nt=(0,r.useRef)(null),rt=(0,r.useRef)(null),it=(0,r.useRef)(null),st=(0,r.useRef)(null),at=(0,r.useRef)(null),ot=(0,r.useRef)({}),lt=(0,r.useRef)({}),ct=(0,r.useRef)(null),[ut,dt]=(0,r.useState)(null),[ht,ft]=(0,r.useState)(null),[pt,gt]=(0,r.useState)(null),[mt,At]=(0,r.useState)(!1),[yt,vt]=(0,r.useState)(""),[wt,bt]=(0,r.useState)(""),[Et,Ct]=(0,r.useState)("Initializing reCAPTCHA..."),[It,kt]=(0,r.useState)(""),[St,xt]=(0,r.useState)(""),[Tt,Nt]=(0,r.useState)(!1),[Dt,Bt]=(0,r.useState)(!1),[_t,Rt]=(0,r.useState)(null),[Pt,Ot]=(0,r.useState)([]),[Lt,Mt]=(0,r.useState)(0),Qt=(0,r.useRef)(null),Ft=[{bg:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",accent:"#667eea"},{bg:"linear-gradient(135deg, #ff6a00 0%, #ee0979 100%)",accent:"#ee0979"},{bg:"linear-gradient(135deg, #43cea2 0%, #185a9d 100%)",accent:"#43cea2"},{bg:"linear-gradient(135deg, #f7971e 0%, #ffd200 100%)",accent:"#ffd200"},{bg:"linear-gradient(135deg, #00c6ff 0%, #0072ff 100%)",accent:"#00c6ff"},{bg:"linear-gradient(135deg, #f953c6 0%, #b91d73 100%)",accent:"#f953c6"},{bg:"linear-gradient(135deg, #11998e 0%, #38ef7d 100%)",accent:"#38ef7d"},{bg:"linear-gradient(135deg, #fc5c7d 0%, #6a82fb 100%)",accent:"#fc5c7d"},{bg:"linear-gradient(135deg, #ff512f 0%, #dd2476 100%)",accent:"#ff512f"},{bg:"linear-gradient(135deg, #1d4350 0%, #a43931 100%)",accent:"#a43931"}];const jt=function(e){if(!e)return Ft[0];let t=(e.title||"")+(e.artist||""),n=0;for(let i=0;i<t.length;i++)n=t.charCodeAt(i)+((n<<5)-n);let r=Math.abs(n)%Ft.length;return Ft[r]}(x),Ut=(0,r.useCallback)((e,t)=>{Q(e),j(t),setTimeout(()=>{Q(""),j("")},5e3)},[]),Vt=(0,r.useCallback)((e,t)=>{kt(e),xt(t),setTimeout(()=>{kt(""),xt("")},5e3)},[]),Gt=(0,r.useCallback)(e=>{if(isNaN(e))return"0:00";const t=Math.floor(e/60),n=Math.floor(e%60);return"".concat(t,":").concat(n.toString().padStart(2,"0"))},[]),zt=(0,r.useCallback)(e=>{console.error("Audio Element Error:",e);let t="An unknown audio error occurred.";var n;if(nt.current)switch(null===(n=nt.current.error)||void 0===n?void 0:n.code){case 1:t="Audio playback aborted.";break;case 2:t="Network error: Audio download failed.";break;case 3:t="Audio decoding error. File might be corrupted or unsupported.";break;case 4:t="Audio format not supported or invalid source.";break;default:t="An unexpected audio error occurred."}Ut("Playback error: ".concat(t,". Please try another song."),"error"),T(null),D(!1),_(!1),P(null)},[Ut,T,D,_,P]),Ht=(0,r.useCallback)(()=>{const e=nt.current;e&&!Ce&&pe(e.currentTime)},[Ce]),Kt=(0,r.useCallback)(()=>{const e=nt.current;e&&me(e.duration)},[]),Jt=(0,r.useCallback)(e=>{const t=nt.current;if(t&&ge){const n=e.currentTarget.getBoundingClientRect(),r=(e.clientX-n.left)/n.width*ge;t.currentTime=r,pe(r)}},[ge]),Yt=(0,r.useCallback)(e=>{const t=nt.current;t&&(t.volume=e,ye(e))},[]),Wt=(0,r.useCallback)((e,t,n)=>{if(!Array.isArray(e)||0===e.length)return[];const r=[...e].sort((e,r)=>{var i,s,a,o;let l,c;if("custom"===t&&G){const t=G.trackIds||[];return t.indexOf(e.id)-t.indexOf(r.id)}switch(t){case"title":l=(null===(i=e.title)||void 0===i?void 0:i.toLowerCase())||"",c=(null===(s=r.title)||void 0===s?void 0:s.toLowerCase())||"";break;case"artist":l=(null===(a=e.artist)||void 0===a?void 0:a.toLowerCase())||"",c=(null===(o=r.artist)||void 0===o?void 0:o.toLowerCase())||"";break;case"dateAdded":l=e.timestamp instanceof Date?e.timestamp.getTime():e.timestamp?new Date(e.timestamp).getTime():0,c=r.timestamp instanceof Date?r.timestamp.getTime():r.timestamp?new Date(r.timestamp).getTime():0;break;default:return 0}return"string"===typeof l&&"string"===typeof c?"asc"===n?l.localeCompare(c):c.localeCompare(l):"number"===typeof l&&"number"===typeof c?"asc"===n?l-c:c-l:0});return r},[G]),qt=(0,r.useCallback)(()=>G?k.filter(e=>G.trackIds&&G.trackIds.includes(e.id)):[],[G,k]),Xt=(0,r.useMemo)(()=>Wt(k,oe,ce),[k,oe,ce]),Zt=(0,r.useMemo)(()=>{if("playlist-detail"===O&&G){const e=qt();return Wt(e,oe,"custom"===oe?"asc":ce)}return[]},[O,G,oe,ce,k]),$t=(0,r.useMemo)(()=>t?"artist"===t.type?k.filter(e=>e.artist&&e.artist.toLowerCase()===t.name.toLowerCase()):"album"===t.type?k.filter(e=>e.album&&e.album.toLowerCase()===t.name.toLowerCase()):[]:[],[t,k]),en=(0,r.useCallback)(e=>{x&&x.id===e.id?D(e=>!e):(T(e),D(!0))},[x]),tn=(0,r.useCallback)(async e=>{const t=k.find(t=>t.url===e.url);if(t)return Ut('"'.concat(t.title,'" is already in your library. Playing now.'),"info"),void en(t);_(!0),P(e.url);try{const t=await fetch("".concat(al,"/download-mp3"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:e.url,quality:He})});if(!t.ok){const e=await t.json();throw new Error(e.message||"Backend download failed: HTTP status ".concat(t.status))}const n=await t.json();if(!n.audioUrl)throw new Error("No audio URL received from the backend after download. It might not be a playable track.");const r={id:(await ul(ut,pt,"Add track to library",async()=>await Zo(Ha(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/tracks")),{title:n.title||e.title,artist:n.artist||e.artist,audioUrl:n.audioUrl,thumbnail:n.thumbnail||e.thumbnail,url:e.url,timestamp:(new Date).toISOString()}),"Failed to save track to library")).id,title:n.title||e.title,artist:n.artist||e.artist,audioUrl:n.audioUrl,thumbnail:n.thumbnail||e.thumbnail,url:e.url,timestamp:(new Date).toISOString()};Ut('"'.concat(r.title,'" downloaded and added to your library!'),"success"),en(r)}catch(n){console.error("Download or playback failed:",n),Ut('Failed to download or play "'.concat(e.title,'": ').concat(n.message,". Please check backend and track availability."),"error"),T(null),D(!1)}finally{_(!1),P(null)}},[ut,pt,ll,Ut,en,k,al,_,P,T,D,He]),nn=(0,r.useCallback)(e=>{if(!x)return;let n=[];if("library"===O?n=Xt:"playlist-detail"===O&&G?n=Zt:"search"===O?n=C:t?n=$t:v&&(n=d),0===n.length)return;const r=n.findIndex(e=>e.id===(null===x||void 0===x?void 0:x.id)||e.url===(null===x||void 0===x?void 0:x.url));let i;if("one"===A)return void(nt.current&&(nt.current.currentTime=0,nt.current.play()));if(g)if(1===n.length)i=0;else{let e=n.map((e,t)=>t).filter(e=>e!==r);i=e[Math.floor(Math.random()*e.length)]}else i="next"===e?(r+1)%n.length:(r-1+n.length)%n.length;if(1===n.length&&i===r&&"all"===A)return void(N&&nt.current&&(nt.current.currentTime=0,nt.current.play()));if(!g&&"none"===A&&("next"===e&&r===n.length-1||"previous"===e&&0===r))return T(null),void D(!1);const s=n[i];if(s)if("search"===O){const e=k.find(e=>e.url===s.url);if(e)return Ut('"'.concat(e.title,'" is already in your library. Playing now.'),"info"),T(e),void D(!0);_(!0),P(s.url),(async()=>{try{const e=await fetch("".concat(al,"/download-mp3"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:s.url,quality:He})});if(!e.ok){const t=await e.json();throw new Error(t.message||"Backend download failed: HTTP status ".concat(e.status))}const t=await e.json();if(!t.audioUrl)throw new Error("No audio URL received from the backend after download. It might not be a playable track.");const n={id:(await ul(ut,pt,"Add track to library (navigation)",async()=>await Zo(Ha(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/tracks")),{title:t.title||s.title,artist:t.artist||s.artist,audioUrl:t.audioUrl,thumbnail:t.thumbnail||s.thumbnail,url:s.url,timestamp:(new Date).toISOString()}),"Failed to save track to library during navigation")).id,title:t.title||s.title,artist:t.artist||s.artist,audioUrl:t.audioUrl,thumbnail:t.thumbnail||s.thumbnail,url:s.url,timestamp:(new Date).toISOString()};Ut('"'.concat(n.title,'" downloaded and added to your library!'),"success"),T(n),D(!0)}catch(e){console.error("Download or playback failed:",e),Ut('Failed to download or play "'.concat(s.title,'": ').concat(e.message,". Please check backend and track availability."),"error"),T(null),D(!1)}finally{_(!1),P(null)}})()}else en(s);else T(null),D(!1)},[x,O,Xt,G,Zt,C,t,$t,d,g,A,N,en,tn,v]),rn=(0,r.useCallback)(()=>nn("next"),[nn]),sn=(0,r.useCallback)(()=>nn("previous"),[nn]),an=(0,r.useCallback)(()=>{D(e=>{const t=nt.current;if(t)if(e)t.pause();else{if(!t.src||""===t.src)return x?(Ut("No audio source available. Attempting to reload track.","error"),en(x)):Ut("No song selected to play.","error"),!1;t.play().catch(e=>{console.error("Error toggling play/pause:",e),"NotSupportedError"!==e.name&&"AbortError"!==e.name&&Ut("Failed to play/pause music. Browser requires user interaction to play audio (e.g., a click). Please try clicking the play button again.","error")})}return!e})},[Ut,x,en]),on=(0,r.useCallback)(()=>{m(e=>!e)},[]),ln=(0,r.useCallback)(()=>{y(e=>"none"===e?"one":"one"===e?"all":"none")},[]),cn=(0,r.useCallback)(e=>{De(t=>t.includes(e)?t.filter(t=>t!==e):[e,...t])},[]),un=(0,r.useCallback)(e=>{h(t=>[...t,e]),Ut('"'.concat(e.title,'" added to queue.'),"success")},[Ut]),dn=(0,r.useCallback)(e=>{h(t=>[e,...t]),Ut('"'.concat(e.title,'" will play next.'),"success")},[Ut]),hn=(0,r.useCallback)(e=>{h(t=>t.filter(t=>t.id!==e)),Ut("Song removed from queue.","info")},[Ut]),fn=((0,r.useCallback)((e,t)=>{h(n=>{const r=[...n],[i]=r.splice(e,1);return r.splice(t,0,i),r})},[]),(0,r.useCallback)(async()=>{if(x){Le(!0),Qe(""),Pe(""),Ot([]);try{const e=await fetch("https://lrclib.net/api/get?track_name=".concat(encodeURIComponent(x.title),"&artist_name=").concat(encodeURIComponent(x.artist))),t=await e.json();if(t.syncedLyrics){const e=t.syncedLyrics.split("\n").map(e=>{const t=e.match(/\[(\d+):(\d+\.\d+)\](.*)/);if(!t)return null;return{time:60*parseInt(t[1],10)+parseFloat(t[2]),text:t[3].trim()}}).filter(Boolean);Ot(e)}else t.plainLyrics?Pe(t.plainLyrics):Qe("No lyrics found for this song.")}catch(e){Qe("Failed to fetch lyrics: ".concat(e.message))}finally{Le(!1),je(!0)}}},[x]));(0,r.useEffect)(()=>{if(!Pt.length||!nt.current)return;const e=setInterval(()=>{const e=nt.current;if(!e)return;const t=Pt.findIndex((t,n)=>e.currentTime>=t.time&&(n===Pt.length-1||e.currentTime<Pt[n+1].time));Mt(t)},100);return()=>clearInterval(e)},[Pt,nt.current]),(0,r.useEffect)(()=>{Qt.current&&Qt.current.scrollIntoView({behavior:"smooth",block:"center"})},[Lt,Pt]);const pn=(0,r.useCallback)(async()=>{if(ht)if(rt.current&&Dt)if(yt.trim()){_(!0),kt("Sending verification code..."),xt("info"),Nt(!1);try{const{getAuth:e,signInWithPhoneNumber:t}=await Promise.resolve().then(n.bind(n,786)),r=e(),i=await t(r,yt,rt.current);it.current=i,Nt(!0),Vt("Verification code sent successfully! Check your phone.","success"),Ct("Code sent. Enter OTP.")}catch(e){console.error("Error sending verification code:",e),Vt("Failed to send code: ".concat(e.message,". Ensure correct phone number format (e.g., +1XXXXXXXXXX) and try again."),"error"),rt.current&&(rt.current.clear(),rt.current=null),Ct("Error sending code. Re-initializing reCAPTCHA...")}finally{_(!1)}}else Vt("Please enter a phone number.","error");else Vt("reCAPTCHA is not ready. Please wait a moment for it to initialize.","error");else Vt("Firebase authentication not initialized.","error")},[ht,yt,Vt,Dt,kt,xt,Ct,Nt,_]),gn=(0,r.useCallback)(async()=>{if(it.current)if(wt.trim()){_(!0),kt("Verifying code..."),xt("info");try{await it.current.confirm(wt),Vt("Phone number verified successfully! You are now logged in.","success"),vt(""),bt(""),Nt(!1)}catch(e){console.error("Error verifying OTP:",e),Vt("Failed to verify code: ".concat(e.message,". Please check the OTP and try again."),"error")}finally{_(!1)}}else Vt("Please enter the OTP.","error");else Vt("No verification code was sent. Please send the code first.","error")},[wt,Vt,kt,xt,vt,bt,Nt,_]),mn=(0,r.useCallback)(async()=>{if(ht){_(!0),kt("Signing in anonymously..."),xt("info");try{const{signInAnonymously:e}=await Promise.resolve().then(n.bind(n,786));await e(ht),Vt("Signed in anonymously.","success")}catch(e){console.error("Anonymous sign-in failed:",e),Vt("Anonymous sign-in failed: ".concat(e.message,"."),"error")}finally{_(!1)}}else Vt("Firebase authentication not initialized.","error")},[ht,Vt,_,kt,xt]),An=(0,r.useCallback)(async()=>{if(ht){_(!0),kt("Signing out..."),xt("info");try{const{signOut:e}=await Promise.resolve().then(n.bind(n,786));await e(ht),Ut("You have been signed out.","success"),gt(null),L("search"),T(null),D(!1),nt.current&&(nt.current.pause(),nt.current.src="")}catch(e){console.error("Sign out failed:",e),Ut("Sign out failed: ".concat(e.message,"."),"error")}finally{_(!1)}}},[ht,Ut,_,kt,xt,gt,L,T,D]),yn=(0,r.useCallback)(async e=>{if(!e.trim())return I([]),void _(!1);_(!0),I([]),Ut('Searching SoundCloud for "'.concat(e,'"...'),"success");try{var t;const n=await fetch("".concat(al,"/search?q=").concat(encodeURIComponent(e)));if(!n.ok){const e=await n.json();throw new Error(e.message||"Backend search failed: HTTP status ".concat(n.status))}const r=await n.json();console.log("Search response:",r),console.log("Number of results:",(null===(t=r.results)||void 0===t?void 0:t.length)||0),r.success&&Array.isArray(r.results)&&r.results.length>0?(console.log("Setting search results:",r.results),I(r.results),Ut("Found ".concat(r.results.length,' result(s) for "').concat(e,'"'),"success")):(""!==e.trim()&&Ut(r.message||'No songs found for "'.concat(e,'".'),"error"),I([]))}catch(n){console.error("Search error:",n),Ut("Search failed: ".concat(n.message,". Please check backend and network."),"error")}finally{_(!1)}},[al,Ut,_,I]),vn=(0,r.useCallback)(e=>{e.preventDefault(),tt.current&&clearTimeout(tt.current),""!==b.trim()?yn(b):Ut("Please enter a song name to search.","error")},[b,yn,Ut]),wn=(0,r.useCallback)(e=>{ie(e),ae(!0)},[]),bn=async e=>{if($)try{await ul(ut,pt,"Add track to playlist",async()=>{const t=Ka(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/playlists"),e),n=await Wo(Oo(Ha(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/playlists")),function(e,t,n){const r=t,i=Bo("where",e);return Lo._create(i,r,n)}("__name__","==",e)));if(!n.empty&&n.docs[0].data().trackIds&&n.docs[0].data().trackIds.includes($.id))throw new Error('"'.concat($.title,'" is already in this playlist.'));return await qo(t,{trackIds:nl($.id)})},"Failed to add track to playlist"),Ut('"'.concat($.title,'" added to playlist.'),"success"),ne(!1),ee(null)}catch(t){console.error("Error adding track to playlist:",t),t.message.includes("already in this playlist")?Ut(t.message,"info"):Ut("Failed to add track to playlist: ".concat(t.message),"error"),ne(!1),ee(null)}};(0,r.useEffect)(()=>{let e,t;try{var n;if(console.log("Starting Firebase initialization..."),console.log("Firebase config:",ol),!ol.apiKey||!ol.projectId)throw new Error("Firebase configuration is incomplete. Please check your Firebase config.");const r=(0,p.Wp)(ol);console.log("Firebase app initialized:",r);const i=qa(r);qa(r);console.log("Firestore instance created:",i),console.log("Firestore instance type:",typeof i),console.log("Firestore instance has app:",!!i.app),console.log("Firestore app name:",null===(n=i.app)||void 0===n?void 0:n.name);const s=(0,il.getAuth)(r);(0,il.getAuth)(r);return console.log("Firebase auth instance created:",s),console.log("Setting db state to:",i),dt(i),ft(s),e=(0,il.onAuthStateChanged)(s,e=>{e?(gt(e.uid),Vt("Logged in as: ".concat(e.uid.substring(0,8),"..."),"success")):(gt(null),Vt("Please log in to use the music player.","info"),L("search")),At(!0)}),window.recaptchaVerifierCallback=function(){console.log("Global grecaptcha callback fired. reCAPTCHA script is now ready."),Bt(!0),Ct("reCAPTCHA script loaded.")},document.querySelector('script[src^="https://www.google.com/recaptcha/api.js"]')?window.grecaptcha&&(Bt(!0),Ct("reCAPTCHA script already loaded.")):(t=document.createElement("script"),t.src="https://www.google.com/recaptcha/api.js?onload=recaptchaVerifierCallback&render=explicit",t.async=!0,t.defer=!0,document.body.appendChild(t),console.log("Dynamically adding reCAPTCHA API script.")),()=>{e&&e(),window.recaptchaVerifierCallback&&delete window.recaptchaVerifierCallback,t&&t.parentNode&&t.parentNode.removeChild(t)}}catch(r){console.error("Firebase initialization error:",r),Ut("Firebase initialization failed: ".concat(r.message,". Please check Firebase config."),"error")}},[Ut,Vt,L,Bt,Ct]),(0,r.useEffect)(()=>{var e;(console.log("Firebase state changed - db:",!!ut,"userId:",!!pt,"authReady:",mt),ut)&&console.log("db object details:",{hasApp:!!ut.app,appName:null===(e=ut.app)||void 0===e?void 0:e.name,type:typeof ut})},[ut,pt,mt]),(0,r.useEffect)(()=>{if(console.log("RecaptchaVerifier setup effect running. Auth:",!!ht,"isGrecaptchaReady:",Dt,"recaptchaVerifierRef.current:",!!rt.current),ht&&Dt&&!rt.current){console.log("Auth and global grecaptcha ready. Attempting to set up RecaptchaVerifier instance."),Ct("Initializing reCAPTCHA widget...");try{const e=document.getElementById("recaptcha-container");if(!e)return console.warn("reCAPTCHA container div not found in DOM. Cannot initialize widget."),void Ct("reCAPTCHA container missing. Ensure div with id 'recaptcha-container' exists in JSX.");Promise.resolve().then(n.bind(n,786)).then(t=>{let{RecaptchaVerifier:n}=t;rt.current=new n(ht,e,{size:"invisible",callback:e=>{console.log("reCAPTCHA solved (invisible):",e),Ct("reCAPTCHA verified. Ready to send code.")},"expired-callback":()=>{console.log("reCAPTCHA expired."),rt.current&&(rt.current.clear(),rt.current=null),Ct("reCAPTCHA expired. Please try sending code again.")}}),rt.current.render().then(e=>{console.log("reCAPTCHA widget rendered with ID:",e),Ct("reCAPTCHA initialized and ready.")}).catch(e=>{console.error("reCAPTCHA render error (during .render()):",e),Ct("reCAPTCHA render failed: ".concat(e.message,".")),rt.current=null})})}catch(e){console.error("Error setting up RecaptchaVerifier:",e),Ct("reCAPTCHA setup failed: ".concat(e.message,".")),rt.current=null}}return()=>{rt.current&&(console.log("Clearing RecaptchaVerifier instance on unmount/dependency change."),rt.current.clear(),rt.current=null)}},[ht,Dt,Ct]),(0,r.useEffect)(()=>{const e=nt.current;if(e&&(e.addEventListener("error",zt),e.addEventListener("ended",_n),e.addEventListener("timeupdate",Ht),e.addEventListener("loadedmetadata",Kt),null!==x&&void 0!==x&&x.audioUrl)){if(e.src!==x.audioUrl&&(e.src=x.audioUrl,e.load()),N){const t=e.play();void 0!==t&&t.catch(e=>{console.error("Error playing audio:",e),"NotSupportedError"===e.name||"AbortError"===e.name?Ut("Autoplay prevented. Please click the play button to start playback.","info"):Ut("Failed to play: ".concat(e.message),"error"),D(!1)})}else e.pause();let t;if(We&&N&&ge>0&&x){const n=ge-Xe;n>0&&e.currentTime<n&&(t=setTimeout(()=>{let t=e.volume,n=.05,r=t;const i=setInterval(()=>{r>n?(r-=n,e.volume=Math.max(0,r)):(e.volume=0,clearInterval(i))},1e3*Xe*n/t)},1e3*Math.max(0,n-e.currentTime)))}return()=>{e.removeEventListener("error",zt),e.removeEventListener("ended",_n),e.removeEventListener("timeupdate",Ht),e.removeEventListener("loadedmetadata",Kt),t&&clearTimeout(t),e&&(e.volume=Ae)}}},[x,N,We,Xe,ge,Ae]),(0,r.useEffect)(()=>{if(mt&&ut&&pt){const e=$o(Oo(Ha(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/tracks"))),e=>{const t=e.docs.map(e=>(0,s.A)((0,s.A)({id:e.id},e.data()),{},{timestamp:e.data().timestamp?new Date(e.data().timestamp):new Date(0)}));S(t)},e=>{console.error("Error fetching tracks:",e),Ut("Error fetching music library: ".concat(e.message),"error")});return()=>e()}},[mt,ut,pt,ll]),(0,r.useEffect)(()=>{if(mt&&ut&&pt){const e=$o(Oo(Ha(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/playlists"))),e=>{const t=e.docs.map(e=>(0,s.A)((0,s.A)({id:e.id},e.data()),{},{timestamp:e.data().timestamp?new Date(e.data().timestamp).toISOString():new Date(0).toISOString()}));if(V(t),G&&!t.some(e=>e.id===G.id))z(null);else if(G){const e=t.find(e=>e.id===G.id);e&&z(e)}},e=>{console.error("Error fetching playlists:",e),Ut("Error fetching playlists: ".concat(e.message),"error")});return()=>e()}},[mt,ut,pt,ll,G]),(0,r.useEffect)(()=>(tt.current&&clearTimeout(tt.current),tt.current=setTimeout(()=>{""!==b.trim()?yn(b):(I([]),_(!1))},400),()=>{tt.current&&clearTimeout(tt.current)}),[b]),(0,r.useEffect)(()=>{d.length>0&&(!x||x.id!==d[0].id)&&(en(d[0]),h(e=>e.slice(1)))},[d,x]),(0,r.useEffect)(()=>{function e(e){const n=document.activeElement.tagName.toLowerCase();"input"!==n&&"textarea"!==n&&("Space"===e.code?(e.preventDefault(),an()):"ArrowLeft"===e.code?sn():"ArrowRight"===e.code?rn():"ArrowUp"===e.code?(e.preventDefault(),Yt(Math.min(1,Ae+.05))):"ArrowDown"===e.code?(e.preventDefault(),Yt(Math.max(0,Ae-.05))):"f"===e.key.toLowerCase()&&x?cn(x.id):"q"===e.key.toLowerCase()?w(e=>!e):"l"===e.key.toLowerCase()?Fe?je(!1):fn():"Escape"===e.key&&(v&&w(!1),Fe&&je(!1),ke&&Se(!1),null!==xe&&Te(null),X&&Z(!1),te&&ne(!1),se&&ae(!1),t&&i(null)))}return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[Ae,x,v,Fe,ke,xe,X,te,se,t]),(0,r.useEffect)(()=>{function e(e){if(ke&&at.current&&!at.current.contains(e.target)&&st.current&&!st.current.contains(e.target)&&Se(!1),null!==xe){const t=lt.current[xe],n=ot.current[xe];t&&!t.contains(e.target)&&n&&!n.contains(e.target)&&Te(null)}}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[ke,xe]);const En=cl(ke,st),Cn=cl(!!xe,xe?ot.current[xe]:ct),In="bg-gradient-to-br from-gray-900 via-purple-900 to-indigo-900 text-white",kn="bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white rounded-2xl shadow-2xl",Sn="bg-gradient-to-r from-purple-600/30 to-indigo-600/30 border-purple-400/50 shadow-2xl",xn="bg-white/5 backdrop-blur-xl border-white/10 hover:bg-white/10 text-white rounded-3xl shadow-2xl",Tn="bg-gradient-to-br from-gray-900/95 to-purple-900/95 backdrop-blur-xl",Nn="text-white",Dn="bg-white/10 backdrop-blur-lg text-white border-white/20 rounded-2xl",Bn="bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-500 hover:to-indigo-500 text-white rounded-2xl shadow-xl",_n=(0,r.useCallback)(()=>{D(!1);let e=[];e="library"===O?Xt:"playlist-detail"===O&&G?Zt:C;const t=e.findIndex(e=>e.id===(null===x||void 0===x?void 0:x.id)||e.url===(null===x||void 0===x?void 0:x.url));let n=null;if(t>-1&&t<e.length-1?n=e[t+1]:e.length>0&&(n=e[0]),n)if("search"===O){const e=k.find(e=>e.url===n.url);if(e)return Ut('"'.concat(e.title,'" is already in your library. Playing now.'),"info"),T(e),void D(!0);_(!0),P(n.url),(async()=>{try{const e=await fetch("".concat(al,"/download-mp3"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:n.url,quality:He})});if(!e.ok){const t=await e.json();throw new Error(t.message||"Backend download failed: HTTP status ".concat(e.status))}const t=await e.json();if(!t.audioUrl)throw new Error("No audio URL received from the backend after download. It might not be a playable track.");const r={id:(await Zo(Ha(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/tracks")),{title:t.title||n.title,artist:t.artist||n.artist,audioUrl:t.audioUrl,thumbnail:t.thumbnail||n.thumbnail,url:n.url,timestamp:(new Date).toISOString()})).id,title:t.title||n.title,artist:t.artist||n.artist,audioUrl:t.audioUrl,thumbnail:t.thumbnail||n.thumbnail,url:n.url,timestamp:(new Date).toISOString()};Ut('"'.concat(r.title,'" downloaded and added to your library!'),"success"),T(r),D(!0)}catch(e){console.error("Download or playback failed:",e),Ut('Failed to download or play "'.concat(n.title,'": ').concat(e.message,". Please check backend and track availability."),"error"),T(null),D(!1)}finally{_(!1),P(null)}})()}else T(n),D(!0);else T(null),D(!1)},[O,x,C,G,Xt,Zt,ut,pt,Ut,k,al,He]),Rn=Array.from(new Set(C.filter(e=>e.album).map(e=>e.album))),Pn=(0,r.useMemo)(()=>({id:"liked",name:"Liked",icon:"\u2764\ufe0f",cover:"",trackIds:Ne,timestamp:"always",isPermanent:!0}),[Ne]);return(0,sl.jsxs)("div",{className:"flex flex-col min-h-screen font-inter transition-colors duration-300 ".concat(In),children:[(0,sl.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"}),(0,sl.jsx)("script",{src:"https://cdn.tailwindcss.com"}),(0,sl.jsx)("style",{children:"\n          @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');\n          body { font-family: 'Inter', sans-serif; overflow-x: hidden; }\n\n          /* Modern Music Player Layout */\n          .main-layout {\n            display: flex;\n            flex-direction: column;\n            min-height: 100vh;\n            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);\n          }\n\n          /* Enhanced Sidebar */\n          .sidebar {\n            width: 100%;\n            height: auto;\n            border-bottom: 1px solid rgba(255,255,255,0.1);\n            padding: 1.5rem;\n            flex-shrink: 0;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            padding-top: 2rem;\n            background: linear-gradient(180deg, rgba(15,15,35,0.95) 0%, rgba(26,26,46,0.95) 100%);\n            backdrop-filter: blur(20px);\n            border-bottom: 1px solid rgba(255,255,255,0.1);\n          }\n          .sidebar-header {\n              text-align: center;\n              margin-bottom: 2rem;\n          }\n          .sidebar-nav {\n              width: 100%;\n              display: flex;\n              justify-content: center;\n              gap: 1rem;\n              flex-wrap: wrap;\n          }\n          .sidebar .nav-button {\n            flex: 1;\n            min-width: 100px;\n            padding: 1rem 1.2rem;\n            font-size: 0.95rem;\n            border-radius: 12px;\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            border: 1px solid transparent;\n            background: rgba(255,255,255,0.05);\n            backdrop-filter: blur(10px);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            gap: 0.75rem;\n            font-weight: 600;\n            position: relative;\n            overflow: hidden;\n          }\n          .sidebar .nav-button::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: -100%;\n            width: 100%;\n            height: 100%;\n            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);\n            transition: left 0.5s;\n          }\n          .sidebar .nav-button:hover::before {\n            left: 100%;\n          }\n          .sidebar .nav-button.active {\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: #FFFFFF;\n            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.4);\n            border-color: rgba(255,255,255,0.2);\n            transform: translateY(-2px);\n          }\n          .sidebar .nav-button:hover:not(.active) {\n            background: rgba(255,255,255,0.1);\n            color: #E2E8F0;\n            transform: translateY(-1px);\n            box-shadow: 0 4px 20px rgba(0,0,0,0.3);\n            border-color: rgba(255,255,255,0.1);\n          }\n\n          /* Enhanced Main Content */\n          .main-content {\n            flex-grow: 1;\n            padding: 2rem;\n            padding-bottom: 120px;\n            background: linear-gradient(135deg, #0f0f23 0%, #1a1a2e 50%, #16213e 100%);\n            position: relative;\n          }\n          .main-content::before {\n            content: '';\n            position: absolute;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: radial-gradient(circle at 20% 80%, rgba(120, 119, 198, 0.1) 0%, transparent 50%),\n                        radial-gradient(circle at 80% 20%, rgba(255, 119, 198, 0.1) 0%, transparent 50%);\n            pointer-events: none;\n          }\n\n          /* Modern Footer Player */\n          .footer-player {\n            height: 100px;\n            position: fixed;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            z-index: 100;\n            padding: 1rem 2rem;\n            background: linear-gradient(135deg, rgba(15,15,35,0.95) 0%, rgba(26,26,46,0.95) 100%);\n            backdrop-filter: blur(20px);\n            border-top: 1px solid rgba(255,255,255,0.1);\n            display: flex;\n            flex-direction: row;\n            align-items: center;\n            justify-content: space-between;\n            gap: 1.5rem;\n            box-shadow: 0 -8px 32px rgba(0,0,0,0.4);\n          }\n          .footer-player .player-info {\n              display: flex;\n              align-items: center;\n              gap: 1rem;\n              flex-grow: 1;\n              min-width: 0;\n          }\n          .footer-player .player-controls {\n              display: flex;\n              align-items: center;\n              gap: 2rem;\n          }\n          .player-album-art {\n              width: 4rem;\n              height: 4rem;\n              border-radius: 12px;\n              object-fit: cover;\n              flex-shrink: 0;\n              box-shadow: 0 8px 24px rgba(0,0,0,0.3);\n              border: 2px solid rgba(255,255,255,0.1);\n          }\n          .player-text-info {\n            flex-grow: 1;\n            min-width: 0;\n            text-align: left;\n          }\n          .player-title {\n            font-weight: 700;\n            font-size: 1.1rem;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            color: #ffffff;\n            text-shadow: 0 2px 4px rgba(0,0,0,0.3);\n          }\n          .player-artist {\n            font-size: 0.9rem;\n            color: #A0AEC0;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            font-weight: 500;\n          }\n          .player-control-button {\n            padding: 0.875rem;\n            border-radius: 50%;\n            box-shadow: 0 4px 16px rgba(0,0,0,0.3);\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            color: rgba(255,255,255,0.9);\n            background: rgba(255,255,255,0.1);\n            backdrop-filter: blur(10px);\n            border: 1px solid rgba(255,255,255,0.1);\n          }\n          .player-control-button:hover:not(:disabled) {\n            transform: scale(1.1);\n            background: rgba(255,255,255,0.2);\n            box-shadow: 0 8px 24px rgba(0,0,0,0.4);\n          }\n          .player-control-button:disabled {\n            opacity: 0.4;\n            cursor: not-allowed;\n          }\n\n          .player-control-button.main-play-pause {\n            padding: 1.25rem;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.4);\n          }\n          .player-control-button.main-play-pause:hover:not(:disabled) {\n            background: linear-gradient(135deg, #7c8ff0 0%, #8a5bb8 100%);\n            box-shadow: 0 12px 40px rgba(102, 126, 234, 0.6);\n          }\n\n          /* Enhanced Scroll containers */\n          .scroll-container {\n            max-height: calc(100vh - 400px);\n            overflow-y: auto;\n            scrollbar-width: thin;\n            border-radius: 16px;\n            padding: 1.5rem;\n            background: rgba(255,255,255,0.03);\n            backdrop-filter: blur(20px);\n            border: 1px solid rgba(255,255,255,0.1);\n            box-shadow: inset 0 4px 16px rgba(0,0,0,0.2);\n          }\n          .scroll-container::-webkit-scrollbar {\n            width: 8px;\n          }\n          .scroll-container::-webkit-scrollbar-track {\n            background: rgba(255,255,255,0.05);\n            border-radius: 10px;\n          }\n          .scroll-container::-webkit-scrollbar-thumb {\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            border-radius: 10px;\n            border: 2px solid rgba(255,255,255,0.05);\n          }\n\n          /* Modern List item styling */\n          .list-item {\n            display: flex;\n            align-items: center;\n            padding: 1rem 1.25rem;\n            border-radius: 16px;\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            border: 1px solid rgba(255,255,255,0.05);\n            position: relative;\n            cursor: pointer;\n            background: rgba(255,255,255,0.03);\n            backdrop-filter: blur(10px);\n            margin-bottom: 0.75rem;\n          }\n          .list-item:hover {\n            transform: translateY(-3px);\n            box-shadow: 0 12px 32px rgba(0,0,0,0.3);\n            background: rgba(255,255,255,0.08);\n            border-color: rgba(255,255,255,0.1);\n          }\n          .list-item-active {\n            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2) 0%, rgba(118, 75, 162, 0.2) 100%);\n            border-color: rgba(102, 126, 234, 0.3);\n            box-shadow: 0 8px 32px rgba(102, 126, 234, 0.3);\n            transform: translateY(-2px);\n          }\n          .list-item-thumbnail {\n            width: 3rem;\n            height: 3rem;\n            border-radius: 12px;\n            object-fit: cover;\n            margin-right: 1.5rem;\n            flex-shrink: 0;\n            box-shadow: 0 8px 24px rgba(0,0,0,0.3);\n            border: 2px solid rgba(255,255,255,0.1);\n          }\n          .list-item-info {\n            flex-grow: 1;\n            min-width: 0;\n          }\n          .list-item-title {\n            font-weight: 700;\n            font-size: 1.3rem;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            line-height: 1.3;\n            color: #ffffff;\n            text-shadow: 0 2px 4px rgba(0,0,0,0.3);\n          }\n          .list-item-artist {\n            font-size: 1rem;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            color: #A0AEC0;\n            font-weight: 500;\n            margin-top: 0.25rem;\n          }\n          .list-item-actions {\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n          }\n          .play-button-overlay {\n            opacity: 0;\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            position: absolute;\n            right: 1.5rem;\n            top: 50%;\n            transform: translateY(-50%) scale(0.8);\n            border-radius: 50%;\n            padding: 1rem;\n            background: linear-gradient(135deg, #10B981 0%, #059669 100%);\n            box-shadow: 0 8px 24px rgba(16, 185, 129, 0.4);\n            color: white;\n            border: 2px solid rgba(255,255,255,0.2);\n          }\n          .list-item:hover .play-button-overlay {\n            opacity: 1;\n            transform: translateY(-50%) scale(1);\n          }\n          .play-button-overlay:hover {\n            box-shadow: 0 12px 32px rgba(16, 185, 129, 0.6);\n            transform: translateY(-50%) scale(1.1);\n          }\n          .play-button-overlay:disabled {\n            opacity: 0.4;\n            cursor: not-allowed;\n          }\n          .player-gradient-overlay {\n            background: linear-gradient(to top, rgba(15,15,35,0.9), rgba(15,15,35,0));\n            position: absolute;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            height: 80px;\n            pointer-events: none;\n            z-index: 99;\n          }\n\n          /* Enhanced Playlists styling */\n          .playlist-card {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            padding: 2rem 1.5rem;\n            border-radius: 20px;\n            border: 1px solid rgba(255,255,255,0.1);\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            cursor: pointer;\n            position: relative;\n            background: rgba(255,255,255,0.03);\n            backdrop-filter: blur(20px);\n            box-shadow: 0 8px 32px rgba(0,0,0,0.2);\n          }\n          .playlist-card:hover {\n            transform: translateY(-6px);\n            box-shadow: 0 16px 48px rgba(0,0,0,0.3);\n            background: rgba(255,255,255,0.08);\n            border-color: rgba(255,255,255,0.2);\n          }\n          .playlist-card-icon {\n            font-size: 4rem;\n            margin-bottom: 1rem;\n            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.3));\n          }\n          .playlist-card-name {\n            font-weight: 800;\n            font-size: 1.4rem;\n            text-align: center;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            width: 100%;\n            color: #ffffff;\n            text-shadow: 0 2px 4px rgba(0,0,0,0.3);\n          }\n          .playlist-delete-button {\n            position: absolute;\n            top: 0.75rem;\n            right: 0.75rem;\n            padding: 0.75rem;\n            border-radius: 50%;\n            opacity: 0;\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            background: rgba(239, 68, 68, 0.2);\n            backdrop-filter: blur(10px);\n            border: 1px solid rgba(239, 68, 68, 0.3);\n          }\n          .playlist-card:hover .playlist-delete-button {\n            opacity: 1;\n            transform: scale(1.1);\n          }\n\n          /* Enhanced Modal Styling */\n          .modal-overlay {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0,0,0,0.8);\n            backdrop-filter: blur(10px);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            z-index: 1000;\n          }\n          .modal-content {\n            padding: 2.5rem;\n            border-radius: 24px;\n            box-shadow: 0 20px 60px rgba(0,0,0,0.5);\n            width: 90%;\n            max-width: 500px;\n            animation: slideIn 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n            background: linear-gradient(135deg, rgba(15,15,35,0.95) 0%, rgba(26,26,46,0.95) 100%);\n            backdrop-filter: blur(20px);\n            border: 1px solid rgba(255,255,255,0.1);\n          }\n          @keyframes slideIn {\n            from { transform: translateY(-30px) scale(0.95); opacity: 0; }\n            to { transform: translateY(0) scale(1); opacity: 1; }\n          }\n          .modal-close-button {\n            position: absolute;\n            top: 1rem;\n            right: 1rem;\n            background: rgba(255,255,255,0.1);\n            border: 1px solid rgba(255,255,255,0.2);\n            border-radius: 50%;\n            width: 2.5rem;\n            height: 2.5rem;\n            font-size: 1.25rem;\n            cursor: pointer;\n            color: #A0AEC0;\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            display: flex;\n            align-items: center;\n            justify-content: center;\n          }\n          .modal-close-button:hover {\n            color: #ffffff;\n            background: rgba(255,255,255,0.2);\n            transform: scale(1.1);\n          }\n          .emoji-grid {\n            display: grid;\n            grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));\n            gap: 0.75rem;\n            max-height: 200px;\n            overflow-y: auto;\n            margin-top: 1rem;\n            padding: 1rem;\n            background: rgba(255,255,255,0.03);\n            border-radius: 12px;\n            border: 1px solid rgba(255,255,255,0.1);\n          }\n          .emoji-item {\n            font-size: 2rem;\n            cursor: pointer;\n            text-align: center;\n            padding: 0.5rem;\n            border-radius: 12px;\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            background: rgba(255,255,255,0.05);\n            border: 1px solid transparent;\n          }\n          .emoji-item:hover {\n            background: rgba(255,255,255,0.1);\n            transform: scale(1.1);\n          }\n          .emoji-item.selected {\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: white;\n            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.4);\n            border-color: rgba(255,255,255,0.2);\n          }\n\n          /* Enhanced Sort/Filter Controls */\n          .sort-controls {\n            display: flex;\n            gap: 1rem;\n            flex-wrap: wrap;\n            margin-bottom: 2rem;\n            justify-content: flex-start;\n          }\n          .sort-controls select {\n            padding: 0.875rem 1.25rem;\n            border-radius: 12px;\n            border: 1px solid rgba(255,255,255,0.1);\n            font-size: 0.95rem;\n            appearance: none;\n            background: rgba(255,255,255,0.05);\n            backdrop-filter: blur(10px);\n            color: #E2E8F0;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            background-image: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke-width='1.5' stroke='%23CBD5E0' class='w-4 h-4'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19.5 8.25l-7.5 7.5-7.5-7.5' /%3E%3C/svg%3E\");\n            background-repeat: no-repeat;\n            background-position: right 1rem center;\n            background-size: 1rem;\n            padding-right: 3rem;\n          }\n          .sort-controls select:focus {\n            outline: none;\n            border-color: #667eea;\n            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);\n            background-color: rgba(255,255,255,0.1);\n          }\n          .sort-controls select:hover {\n            background-color: rgba(255,255,255,0.1);\n            border-color: rgba(255,255,255,0.2);\n          }\n\n          /* Desktop specific layout */\n          @media (min-width: 768px) {\n            .main-layout {\n              flex-direction: row;\n            }\n            .sidebar {\n              width: 320px;\n              height: 100vh;\n              border-right: 1px solid rgba(255,255,255,0.1);\n              border-bottom: none;\n              padding: 3rem 2rem;\n              align-items: flex-start;\n              justify-content: space-between;\n            }\n            .sidebar-header {\n                text-align: left;\n                margin-bottom: 3rem;\n            }\n            .sidebar-nav {\n                flex-direction: column;\n                gap: 1rem;\n                width: 100%;\n                flex-grow: 1;\n                justify-content: flex-start;\n            }\n            .sidebar .nav-button {\n              justify-content: flex-start;\n              width: auto;\n            }\n            .main-content {\n              flex-grow: 1;\n              padding: 3rem;\n              padding-bottom: 0;\n            }\n            .footer-player {\n              height: 100px;\n              padding: 0 3rem;\n            }\n            .footer-player .player-info {\n                width: auto;\n                justify-content: flex-start;\n            }\n            .footer-player .player-controls {\n                width: auto;\n                justify-content: center;\n                gap: 2.5rem;\n            }\n            .scroll-container {\n              max-height: calc(100vh - 300px);\n            }\n          }\n\n          /* Enhanced Message Boxes */\n          .message-box {\n            position: absolute;\n            top: 1rem;\n            left: 50%;\n            transform: translateX(-50%);\n            padding: 1rem 2rem;\n            border-radius: 16px;\n            font-weight: 600;\n            box-shadow: 0 8px 32px rgba(0,0,0,0.3);\n            backdrop-filter: blur(20px);\n            border: 1px solid rgba(255,255,255,0.1);\n            z-index: 50;\n            animation: slideDown 0.4s cubic-bezier(0.4, 0, 0.2, 1);\n          }\n          @keyframes slideDown {\n            from { transform: translateX(-50%) translateY(-20px); opacity: 0; }\n            to { transform: translateX(-50%) translateY(0); opacity: 1; }\n          }\n          .message-success {\n            background: linear-gradient(135deg, rgba(16, 185, 129, 0.9) 0%, rgba(5, 150, 105, 0.9) 100%);\n            color: white;\n          }\n          .message-error {\n            background: linear-gradient(135deg, rgba(239, 68, 68, 0.9) 0%, rgba(220, 38, 38, 0.9) 100%);\n            color: white;\n          }\n\n          /* Mobile Menu */\n          .mobile-menu-toggle {\n            display: none;\n            position: fixed;\n            top: 1rem;\n            right: 1rem;\n            z-index: 1000;\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            border: none;\n            border-radius: 12px;\n            padding: 0.75rem;\n            color: white;\n            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.4);\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          }\n          .mobile-menu-toggle:hover {\n            transform: scale(1.1);\n            box-shadow: 0 8px 24px rgba(102, 126, 234, 0.6);\n          }\n          .mobile-menu-overlay {\n            position: fixed;\n            top: 0;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            background: rgba(0,0,0,0.8);\n            backdrop-filter: blur(10px);\n            z-index: 999;\n            opacity: 0;\n            visibility: hidden;\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          }\n          .mobile-menu-overlay.open {\n            opacity: 1;\n            visibility: visible;\n          }\n          .mobile-menu {\n            position: fixed;\n            top: 0;\n            right: -100%;\n            width: 80%;\n            max-width: 320px;\n            height: 100vh;\n            background: linear-gradient(135deg, rgba(15,15,35,0.95) 0%, rgba(26,26,46,0.95) 100%);\n            backdrop-filter: blur(20px);\n            border-left: 1px solid rgba(255,255,255,0.1);\n            z-index: 1000;\n            transition: right 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            padding: 2rem 1.5rem;\n            display: flex;\n            flex-direction: column;\n          }\n          .mobile-menu.open {\n            right: 0;\n          }\n          .mobile-menu-close {\n            position: absolute;\n            top: 1rem;\n            right: 1rem;\n            background: rgba(255,255,255,0.1);\n            border: 1px solid rgba(255,255,255,0.2);\n            border-radius: 50%;\n            width: 2.5rem;\n            height: 2.5rem;\n            color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            cursor: pointer;\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n          }\n          .mobile-menu-close:hover {\n            background: rgba(255,255,255,0.2);\n            transform: scale(1.1);\n          }\n\n          /* Progress Bar */\n          .progress-container {\n            position: relative;\n            width: 100%;\n            height: 4px;\n            background: rgba(255,255,255,0.1);\n            border-radius: 2px;\n            cursor: pointer;\n            margin: 0.5rem 0;\n          }\n          .progress-bar {\n            height: 100%;\n            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\n            border-radius: 2px;\n            transition: width 0.1s ease;\n            position: relative;\n          }\n          .progress-bar::after {\n            content: '';\n            position: absolute;\n            right: -4px;\n            top: -2px;\n            width: 8px;\n            height: 8px;\n            background: white;\n            border-radius: 50%;\n            box-shadow: 0 2px 4px rgba(0,0,0,0.3);\n            opacity: 0;\n            transition: opacity 0.2s ease;\n          }\n          .progress-container:hover .progress-bar::after {\n            opacity: 1;\n          }\n\n          /* Volume Control */\n          .volume-control {\n            position: relative;\n            display: flex;\n            align-items: center;\n            gap: 0.5rem;\n          }\n          .volume-slider {\n            width: 80px;\n            height: 4px;\n            background: rgba(255,255,255,0.1);\n            border-radius: 2px;\n            cursor: pointer;\n            position: relative;\n          }\n          .volume-fill {\n            height: 100%;\n            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\n            border-radius: 2px;\n            transition: width 0.1s ease;\n          }\n          .volume-popup {\n            position: absolute;\n            bottom: 100%;\n            left: 50%;\n            transform: translateX(-50%);\n            background: linear-gradient(135deg, rgba(15,15,35,0.95) 0%, rgba(26,26,46,0.95) 100%);\n            backdrop-filter: blur(20px);\n            border: 1px solid rgba(255,255,255,0.1);\n            border-radius: 12px;\n            padding: 1rem;\n            box-shadow: 0 8px 32px rgba(0,0,0,0.3);\n            opacity: 0;\n            visibility: hidden;\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            z-index: 100;\n          }\n          .volume-popup.show {\n            opacity: 1;\n            visibility: visible;\n          }\n          .volume-popup-slider {\n            width: 100px;\n            height: 6px;\n            background: rgba(255,255,255,0.1);\n            border-radius: 3px;\n            cursor: pointer;\n            position: relative;\n          }\n          .volume-popup-fill {\n            height: 100%;\n            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);\n            border-radius: 3px;\n            transition: width 0.1s ease;\n          }\n\n          /* Enhanced Player Controls */\n          .player-controls-advanced {\n            display: flex;\n            align-items: center;\n            gap: 1.5rem;\n          }\n          .control-button {\n            padding: 0.75rem;\n            border-radius: 50%;\n            background: rgba(255,255,255,0.1);\n            backdrop-filter: blur(10px);\n            border: 1px solid rgba(255,255,255,0.1);\n            color: rgba(255,255,255,0.8);\n            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            cursor: pointer;\n          }\n          .control-button:hover {\n            background: rgba(255,255,255,0.2);\n            transform: scale(1.1);\n            color: white;\n          }\n          .control-button.active {\n            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n            color: white;\n            box-shadow: 0 4px 16px rgba(102, 126, 234, 0.4);\n          }\n\n          /* Mini Player */\n          .mini-player {\n            position: fixed;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            background: linear-gradient(135deg, rgba(15,15,35,0.95) 0%, rgba(26,26,46,0.95) 100%);\n            backdrop-filter: blur(20px);\n            border-top: 1px solid rgba(255,255,255,0.1);\n            padding: 0.75rem 1rem;\n            transform: translateY(100%);\n            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n            z-index: 99;\n          }\n          .mini-player.show {\n            transform: translateY(0);\n          }\n          .mini-player-content {\n            display: flex;\n            align-items: center;\n            gap: 1rem;\n          }\n          .mini-player-info {\n            flex-grow: 1;\n            min-width: 0;\n          }\n          .mini-player-title {\n            font-weight: 600;\n            font-size: 0.9rem;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            color: white;\n          }\n          .mini-player-artist {\n            font-size: 0.8rem;\n            color: #A0AEC0;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n          }\n\n          /* Enhanced Responsive Design */\n          @media (max-width: 768px) {\n            .sidebar {\n              position: fixed;\n              top: 0;\n              left: -100%;\n              width: 100%;\n              height: 100vh;\n              z-index: 1000;\n              transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n              padding: 2rem 1.5rem;\n            }\n            .sidebar.open {\n              left: 0;\n            }\n            .main-content {\n              padding: 1rem;\n              padding-bottom: 140px;\n            }\n            .footer-player {\n              height: 120px;\n              padding: 1rem;\n              flex-direction: column;\n              gap: 0.5rem;\n            }\n            .footer-player .player-info {\n              width: 100%;\n              justify-content: center;\n            }\n            .footer-player .player-controls {\n              width: 100%;\n              justify-content: center;\n              gap: 1rem;\n            }\n            .player-controls-advanced {\n              gap: 1rem;\n            }\n            .control-button {\n              padding: 0.5rem;\n            }\n            .scroll-container {\n              max-height: calc(100vh - 450px);\n            }\n            .list-item {\n              padding: 0.75rem 1rem;\n            }\n            .list-item-thumbnail {\n              width: 4rem;\n              height: 4rem;\n              margin-right: 1rem;\n            }\n            .list-item-title {\n              font-size: 1.1rem;\n            }\n            .list-item-artist {\n              font-size: 0.9rem;\n            }\n            .mobile-menu-toggle {\n              display: flex;\n            }\n            .search-input {\n              font-size: 16px; /* Prevents zoom on iOS */\n            }\n          }\n\n          @media (max-width: 480px) {\n            .main-content {\n              padding: 0.75rem;\n              padding-bottom: 160px;\n            }\n            .footer-player {\n              height: 140px;\n              padding: 0.75rem;\n            }\n            .player-album-art {\n              width: 3rem;\n              height: 3rem;\n            }\n            .player-title {\n              font-size: 0.9rem;\n            }\n            .player-artist {\n              font-size: 0.8rem;\n            }\n            .list-item-actions {\n              gap: 0.5rem;\n            }\n            .play-button-overlay {\n              padding: 0.75rem;\n              right: 1rem;\n            }\n            .modal-content {\n              padding: 1.5rem;\n              margin: 1rem;\n            }\n          }\n\n          /* Dark/Light Mode Support */\n          @media (prefers-color-scheme: light) {\n            .main-layout {\n              background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%);\n            }\n            .sidebar {\n              background: linear-gradient(180deg, rgba(248,250,252,0.95) 0%, rgba(226,232,240,0.95) 100%);\n              border-bottom: 1px solid rgba(0,0,0,0.1);\n            }\n            .main-content {\n              background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 50%, #cbd5e1 100%);\n            }\n            .footer-player {\n              background: linear-gradient(135deg, rgba(248,250,252,0.95) 0%, rgba(226,232,240,0.95) 100%);\n              border-top: 1px solid rgba(0,0,0,0.1);\n            }\n            .scroll-container {\n              background: rgba(0,0,0,0.03);\n              border: 1px solid rgba(0,0,0,0.1);\n            }\n            .list-item {\n              background: rgba(0,0,0,0.03);\n              border: 1px solid rgba(0,0,0,0.05);\n            }\n            .list-item:hover {\n              background: rgba(0,0,0,0.08);\n              border-color: rgba(0,0,0,0.1);\n            }\n            .list-item-title {\n              color: #1a202c;\n            }\n            .list-item-artist {\n              color: #4a5568;\n            }\n            .player-title {\n              color: #1a202c;\n            }\n            .player-artist {\n              color: #4a5568;\n            }\n          }\n\n          /* Card/tile look for list items */\n          .card-tile { box-shadow: 0 2px 12px rgba(0,0,0,0.08); border-radius: 18px; margin-bottom: 1.5rem; padding: 1.25rem 1.5rem; background: rgba(255,255,255,0.04); }\n          .player-popover-menu, .track-popover-menu {\n            position: absolute; z-index: 99999; right: 0; top: 110%; min-width: 180px; background: #23234a; border-radius: 12px; box-shadow: 0 8px 32px rgba(0,0,0,0.25); padding: 0.5rem 0; display: flex; flex-direction: column; gap: 0.25rem;\n          }\n          .popover-menu-item { padding: 0.75rem 1.25rem; background: none; border: none; color: #fff; text-align: left; font-size: 1rem; border-radius: 8px; transition: background 0.2s; cursor: pointer; }\n          .popover-menu-item:hover, .popover-menu-item.active { background: #4f46e5; color: #fff; }\n          .track-more-btn { background: none; border: none; padding: 0.5rem; border-radius: 50%; transition: background 0.2s; color: #a0aec0; }\n          .track-more-btn:hover { background: #4f46e5; color: #fff; }\n          .popover-menu-item input[type=\"range\"] {\n            width: 100px; margin-left: 0.5rem; vertical-align: middle; accent-color: #7c3aed;\n          }\n          /* Remove vertical slider remnants */\n          .volume-popup, .volume-popup-slider, .volume-popup-fill { display: none !important; }\n          /* Remove overflow from scroll containers to prevent clipping */\n          .scroll-container { overflow: visible !important; }\n\n          .bottom-nav-mobile {\n            display: flex;\n            position: fixed;\n            bottom: 0;\n            left: 0;\n            right: 0;\n            z-index: 10000;\n            background: rgba(30, 30, 60, 0.95);\n            backdrop-filter: blur(16px);\n            border-top: 1px solid rgba(255,255,255,0.08);\n            box-shadow: 0 -4px 24px rgba(0,0,0,0.18);\n            height: 64px;\n            justify-content: space-around;\n            align-items: center;\n            padding: 0 0.5rem;\n            border-radius: 0;\n          }\n          .bottom-nav-mobile button {\n            flex: 1;\n            background: none;\n            border: none;\n            color: #cbd5e1;\n            font-size: 1.5rem;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            gap: 0.1rem;\n            padding: 0.25rem 0;\n            border-radius: 12px;\n            transition: background 0.2s, color 0.2s;\n          }\n          .bottom-nav-mobile button.active, .bottom-nav-mobile button:focus {\n            color: #fff;\n            background: linear-gradient(90deg, #7c3aed 0%, #6366f1 100%);\n            box-shadow: 0 2px 12px rgba(124,58,237,0.12);\n          }\n          .bottom-nav-mobile .nav-label {\n            font-size: 0.75rem;\n            margin-top: 0.1rem;\n            letter-spacing: 0.01em;\n          }\n          @media (min-width: 768px) {\n            .bottom-nav-mobile { display: none; }\n          }\n          /* Sticky/floating mini player for mobile */\n          @media (max-width: 767px) {\n            .footer-player {\n              position: fixed;\n              bottom: 64px;\n              left: 0;\n              right: 0;\n              z-index: 9999;\n              border-radius: 0 0 18px 18px;\n              box-shadow: 0 8px 32px rgba(0,0,0,0.18);\n              background: linear-gradient(90deg, rgba(30,30,60,0.98) 0%, rgba(60,30,90,0.98) 100%);\n              padding: 0.5rem 1rem;\n              height: 72px;\n              min-height: 72px;\n              max-height: 90px;\n              display: flex;\n              align-items: center;\n              justify-content: space-between;\n              transition: box-shadow 0.2s;\n            }\n            .player-info { flex-direction: row; align-items: center; }\n            .player-controls-advanced { gap: 0.5rem; }\n            .main-content { padding-bottom: 160px; }\n          }\n\n          /* Make only the search results scrollable */\n          .search-results-scrollable {\n            max-height: 60vh;\n            overflow-y: auto;\n          }\n          /* CSS: Hide sidebar on mobile except when menu is open */\n          @media (max-width: 767px) {\n            .sidebar {\n              display: none !important;\n            }\n            .sidebar.open {\n              display: flex !important;\n            }\n          }\n          /*\n          .queue-list-item {\n            padding: 0.5rem 0.5rem;\n            border-radius: 10px;\n            background: rgba(255,255,255,0.03);\n            font-size: 0.85rem;\n            min-height: 40px;\n          }\n          .queue-list-thumbnail {\n            width: 2rem;\n            height: 2rem;\n            border-radius: 8px;\n            object-fit: cover;\n            margin-right: 0.75rem;\n            flex-shrink: 0;\n            box-shadow: 0 2px 8px rgba(0,0,0,0.15);\n            border: 1px solid rgba(255,255,255,0.08);\n          }\n          .queue-list-info {\n            flex-grow: 1;\n            min-width: 0;\n          }\n          .queue-list-title {\n            font-weight: 600;\n            font-size: 0.95rem;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n            color: #fff;\n          }\n          .queue-list-artist {\n            font-size: 0.8rem;\n            color: #A0AEC0;\n            white-space: nowrap;\n            overflow: hidden;\n            text-overflow: ellipsis;\n          }\n          */\n          .lyric-line.active {\n            color: #fff;\n            font-weight: bold;\n            font-size: 1.2em;\n            background: rgba(120,119,198,0.15);\n            border-radius: 8px;\n          }\n          .lyric-line {\n            color: #aaa;\n            font-size: 1em;\n            transition: all 0.2s;\n            padding: 0.2em 0.5em;\n            margin: 0.1em 0;\n          }\n          /* Add to <style> for hover effect: */\n          /*\n          .lyric-line { cursor: pointer; user-select: none; }\n          .lyric-line:hover { background: rgba(255,255,255,0.08); color: #fff !important; }\n          */\n        "}),(0,sl.jsxs)("div",{className:"main-layout ".concat(In),children:[(0,sl.jsx)("button",{className:"mobile-menu-toggle",onClick:()=>he(!0),title:"Open Menu",children:(0,sl.jsx)("img",{src:o,alt:"Search",style:{width:24,height:24}})}),de&&(0,sl.jsx)("div",{className:"mobile-menu-overlay open",onClick:()=>he(!1),children:(0,sl.jsxs)("div",{className:"mobile-menu open",onClick:e=>e.stopPropagation(),children:[(0,sl.jsx)("button",{className:"mobile-menu-close",onClick:()=>he(!1),children:(0,sl.jsx)("img",{src:u,alt:"Back",style:{width:24,height:24}})}),(0,sl.jsxs)("div",{className:"sidebar-header",children:[(0,sl.jsx)("h2",{className:"text-2xl font-extrabold mb-1 drop-shadow-lg",children:"My Music"}),(0,sl.jsx)("p",{className:"text-sm text-gray-400",children:"Your personal audio library"})]}),(0,sl.jsxs)("nav",{className:"sidebar-nav",children:[(0,sl.jsxs)("button",{onClick:()=>{L("search"),z(null),he(!1)},className:"nav-button ".concat("search"===O?"active":"text-gray-300 hover:text-white"),children:[(0,sl.jsx)("img",{src:o,alt:"Search",style:{width:24,height:24}}),"Search"]}),(0,sl.jsxs)("button",{onClick:()=>{L("library"),z(null),he(!1)},className:"nav-button ".concat("library"===O?"active":"text-gray-300 hover:text-white"),children:[(0,sl.jsx)("img",{src:l,alt:"Library",style:{width:24,height:24}}),"Library"]}),(0,sl.jsxs)("button",{onClick:()=>{L("playlists"),z(null),he(!1)},className:"nav-button ".concat("playlists"===O||"playlist-detail"===O?"active":"text-gray-300 hover:text-white"),children:[(0,sl.jsx)("img",{src:c,alt:"Playlists",style:{width:24,height:24}}),"Playlists"]}),(0,sl.jsxs)("button",{onClick:()=>{L("profile"),z(null),he(!1)},className:"nav-button ".concat("profile"===O?"active":"text-gray-300 hover:text-white"),children:[(0,sl.jsx)("img",{src:a,alt:"Profile",style:{width:24,height:24}}),"Profile"]})]}),mt&&pt&&(0,sl.jsxs)("div",{className:"mt-auto",children:[(0,sl.jsxs)("div",{className:"p-2 rounded-lg text-center text-xs overflow-hidden text-ellipsis w-full shadow-inner bg-gray-800 border border-gray-700 text-gray-500",children:["User ID: ",(0,sl.jsxs)("span",{className:"font-mono break-words text-purple-300",children:[pt.substring(0,10),"..."]})]}),(0,sl.jsx)("button",{onClick:()=>{An(),he(!1)},className:"mt-4 w-full px-4 py-2 rounded-lg font-semibold text-sm transition duration-300 bg-red-700 hover:bg-red-600 text-white",children:"Sign Out"})]})]})}),(0,sl.jsxs)("aside",{className:"sidebar ".concat("bg-gradient-to-b from-gray-900/90 to-purple-900/90 backdrop-blur-xl border-gray-700/50"),children:[(0,sl.jsxs)("div",{className:"sidebar-header",children:[(0,sl.jsx)("h2",{className:"text-3xl font-extrabold mb-1 drop-shadow-lg",children:"My Music"}),(0,sl.jsx)("p",{className:"text-sm text-gray-400",children:"Your personal audio library"})]}),(0,sl.jsxs)("nav",{className:"sidebar-nav",children:[(0,sl.jsxs)("button",{onClick:()=>{L("search"),z(null)},className:"nav-button ".concat("search"===O?"active":"text-gray-300 hover:text-white"),children:[(0,sl.jsx)("img",{src:o,alt:"Search",style:{width:24,height:24}}),"Search"]}),(0,sl.jsxs)("button",{onClick:()=>{L("library"),z(null)},className:"nav-button ".concat("library"===O?"active":"text-gray-300 hover:text-white"),children:[(0,sl.jsx)("img",{src:l,alt:"Library",style:{width:24,height:24}}),"Library"]}),(0,sl.jsxs)("button",{onClick:()=>{L("playlists"),z(null)},className:"nav-button ".concat("playlists"===O||"playlist-detail"===O?"active":"text-gray-300 hover:text-white"),children:[(0,sl.jsx)("img",{src:c,alt:"Playlists",style:{width:24,height:24}}),"Playlists"]}),(0,sl.jsxs)("button",{onClick:()=>{L("profile"),z(null)},className:"nav-button ".concat("profile"===O?"active":"text-gray-300 hover:text-white"),children:[(0,sl.jsx)("img",{src:a,alt:"Profile",style:{width:24,height:24}}),"Profile"]})]}),(0,sl.jsx)("div",{className:"mt-auto p-3 flex flex-col items-center w-full md:mt-8 md:block",children:mt&&pt&&(0,sl.jsxs)(sl.Fragment,{children:[(0,sl.jsxs)("div",{className:"mt-4 p-2 rounded-lg text-center text-xs overflow-hidden text-ellipsis w-full md:text-left shadow-inner bg-gray-800 border border-gray-700 text-gray-500",children:["User ID: ",(0,sl.jsxs)("span",{className:"font-mono break-words text-purple-300",children:[pt.substring(0,10),"..."]})]}),(0,sl.jsx)("button",{onClick:An,className:"mt-4 w-full px-4 py-2 rounded-lg font-semibold text-sm transition duration-300 bg-red-700 hover:bg-red-600 text-white",children:"Sign Out"})]})})]}),(0,sl.jsxs)("main",{className:"main-content flex-grow relative overflow-hidden ".concat("bg-gradient-to-br from-gray-900/50 via-purple-900/30 to-indigo-900/50 backdrop-blur-sm"),children:[M&&(0,sl.jsx)("div",{className:"message-box w-11/12 max-w-md ".concat("success"===F?"message-success":"message-error"),children:M}),It&&(0,sl.jsx)("div",{className:"message-box w-11/12 max-w-md ".concat("success"===St?"message-success":"message-error"),children:It}),pt?(0,sl.jsxs)(sl.Fragment,{children:[("search"===O||"search"===$e||"home"===$e)&&(0,sl.jsxs)("section",{className:"space-y-6 h-full flex flex-col",children:[(0,sl.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-purple-400 mb-4 drop-shadow-lg text-center md:text-left",children:"Search Music by Name"}),(0,sl.jsxs)("form",{onSubmit:vn,className:"flex flex-col sm:flex-row gap-4 mb-6",children:[(0,sl.jsx)("input",{type:"text",className:"search-input flex-grow p-4 rounded-2xl border-2 focus:outline-none focus:ring-4 text-base shadow-2xl transition-all duration-300 ".concat("bg-white/10 backdrop-blur-xl border-purple-500/50 focus:ring-purple-400/50 text-white placeholder-gray-300 border-2 rounded-2xl"),placeholder:"Type song or artist name (e.g., 'Ant Wan Marbella')....",value:b,onChange:e=>E(e.target.value),disabled:B}),(0,sl.jsxs)("button",{type:"submit",className:"search-button w-full sm:w-auto px-8 py-4 rounded-2xl font-bold shadow-2xl transform transition-all duration-300 hover:scale-105 flex items-center justify-center gap-3 text-base md:text-lg disabled:opacity-50 disabled:cursor-not-allowed ".concat(kn),disabled:B,children:[B?(0,sl.jsxs)("svg",{className:"animate-spin h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,sl.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,sl.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,sl.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,sl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),"Search"]})]}),(0,sl.jsx)("div",{className:"centered-scroll-card",children:0!==C.length||B||""!==b.trim()?0===C.length&&B?(0,sl.jsx)("p",{className:"text-center py-8 text-base text-gray-500",children:"Loading search results..."}):0!==C.length||B||""===b.trim()?(0,sl.jsx)("ul",{className:"search-results-list",style:{overflowY:"auto",maxHeight:"48vh",margin:0,padding:0},children:C.map(e=>(0,sl.jsxs)("li",{className:"list-item",children:[(0,sl.jsx)("img",{src:e.thumbnail&&e.thumbnail.trim()?e.thumbnail:"https://placehold.co/60x60/333/FFF?text=\ud83c\udfa7",alt:e.title,className:"list-item-thumbnail",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/60x60/333/FFF?text=\ud83c\udfa7"}}),(0,sl.jsxs)("div",{className:"list-item-info",children:[(0,sl.jsx)("p",{className:"list-item-title",children:e.title}),(0,sl.jsx)("p",{className:"list-item-artist",children:e.artist}),e.album&&(0,sl.jsx)("p",{className:"list-item-album cursor-pointer underline",onClick:t=>{t.stopPropagation(),Rt({name:e.album,type:"album"}),L("album-detail")},children:e.album})]}),(0,sl.jsxs)("div",{className:"list-item-actions",style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[(0,sl.jsx)("button",{onClick:()=>tn({title:e.title,artist:e.artist,url:e.url,thumbnail:e.thumbnail}),disabled:R===e.url,className:"play-button-overlay",style:{padding:"0.5rem",fontSize:"1.2rem"},title:"Play Song",children:R===e.url?(0,sl.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,sl.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,sl.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):(0,sl.jsx)("svg",{fill:"currentColor",className:"h-5 w-5",viewBox:"0 0 32 32",enableBackground:"new 0 0 32 32",version:"1.1",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:(0,sl.jsx)("g",{id:"SVGRepo_iconCarrier",children:(0,sl.jsx)("g",{id:"play",children:(0,sl.jsxs)("g",{children:[(0,sl.jsx)("path",{d:"M4.993,2.496C4.516,2.223,4,2.45,4,3v26c0,0.55,0.516,0.777,0.993,0.504l22.826-13.008 c0.478-0.273,0.446-0.719-0.031-0.992L4.993,2.496z",fill:"currentColor"}),(0,sl.jsx)("path",{d:"M4.585,30.62L4.585,30.62C3.681,30.62,3,29.923,3,29V3c0-0.923,0.681-1.62,1.585-1.62c0.309,0,0.621,0.085,0.904,0.248 l22.794,13.007c0.559,0.319,0.878,0.823,0.878,1.382c0,0.548-0.309,1.039-0.847,1.347L5.488,30.373 C5.206,30.534,4.894,30.62,4.585,30.62z M5,3.651v24.698l21.655-12.34L5,3.651z",fill:"currentColor"})]})})})})}),(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),ee({id:e.url,title:e.title,artist:e.artist}),ne(!0)},className:"ml-2 p-2 rounded-full transition-colors duration-200 text-gray-400 hover:text-white hover:bg-gray-700",title:"Add to Playlist",style:{fontSize:"1.1rem"},children:(0,sl.jsx)("img",{src:"data:image/png;base64,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",alt:"Add",style:{width:24,height:24}})}),(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),cn(e.url)},className:"ml-2 p-2 rounded-full transition-colors duration-200 ".concat(Ne.includes(e.url)?"text-pink-400":"text-gray-400"," hover:text-pink-400"),title:Ne.includes(e.url)?"Remove from favorites":"Add to favorites",style:{fontSize:"1.1rem"},children:Ne.includes(e.url)?"\u2764\ufe0f":"\ud83e\udd0d"})]})]},e.url))}):(0,sl.jsxs)("p",{className:"text-center py-8 text-base text-gray-500",children:['No results found for "',b,'". Try a different query.']}):(0,sl.jsx)("p",{className:"text-center py-8 text-base text-gray-500",children:"Type a song name in the search bar to find music!"})}),Rn.length>0&&(0,sl.jsxs)("div",{className:"mb-4",children:[(0,sl.jsx)("h2",{className:"text-lg font-bold text-purple-300 mb-2",children:"Albums"}),(0,sl.jsx)("div",{className:"flex flex-wrap gap-3",children:Rn.map(e=>(0,sl.jsx)("div",{className:"cursor-pointer bg-white/10 rounded-xl p-3 flex items-center gap-2 hover:bg-purple-700/30",onClick:()=>{Rt({name:e,type:"album"}),L("album-detail")},children:(0,sl.jsx)("span",{className:"font-semibold text-white",children:e})},e))})]})]}),("library"===O||"library"===$e)&&(0,sl.jsxs)("section",{className:"space-y-6 h-full flex flex-col",children:[(0,sl.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-purple-400 mb-6 drop-shadow-lg text-center md:text-left",children:"Your Downloaded Library"}),(0,sl.jsxs)("div",{className:"sort-controls",children:[(0,sl.jsxs)("select",{value:oe,onChange:e=>le(e.target.value),className:"",children:[(0,sl.jsx)("option",{value:"dateAdded",children:"Sort by Date Added"}),(0,sl.jsx)("option",{value:"title",children:"Sort by Title"}),(0,sl.jsx)("option",{value:"artist",children:"Sort by Artist"})]}),(0,sl.jsxs)("select",{value:ce,onChange:e=>ue(e.target.value),className:"",children:[(0,sl.jsx)("option",{value:"asc",children:"Ascending"}),(0,sl.jsx)("option",{value:"desc",children:"Descending"})]})]}),(0,sl.jsx)("div",{className:"centered-scroll-card",children:0===k.length?(0,sl.jsx)("p",{className:"text-center py-8 text-base text-gray-500",children:"No music in your library. Search and download some songs!"}):(0,sl.jsx)("ul",{className:"space-y-3",style:{overflowY:"auto",maxHeight:"48vh",margin:0,padding:0},children:Xt.map(e=>(0,sl.jsxs)("li",{className:"list-item card-tile ".concat(x&&x.id===e.id?Sn:""),onClick:()=>{x&&x.id===e.id?D(e=>!e):en(e)},children:[(0,sl.jsx)("img",{src:e.thumbnail||"https://placehold.co/60x60/333/FFF?text=\ud83c\udfa7",alt:e.title,className:"list-item-thumbnail",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/60x60/333/FFF?text=\ud83c\udfa7"}}),(0,sl.jsxs)("div",{className:"list-item-info",children:[(0,sl.jsx)("p",{className:"list-item-title",children:e.title}),(0,sl.jsx)("p",{className:"list-item-artist cursor-pointer underline",onClick:t=>{t.stopPropagation(),i({name:e.artist,type:"artist"}),L("artist-detail")},children:e.artist}),e.album&&(0,sl.jsx)("p",{className:"list-item-album cursor-pointer underline",onClick:t=>{t.stopPropagation(),Rt({name:e.album,type:"album"}),L("album-detail")},children:e.album})]}),(0,sl.jsxs)("div",{className:"list-item-actions",children:[(0,sl.jsx)("button",{ref:t=>ot.current[e.id]=t,onClick:t=>{t.stopPropagation(),Te(xe===e.id?null:e.id)},className:"track-more-btn",title:"More",children:(0,sl.jsxs)("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,sl.jsx)("circle",{cx:"12",cy:"5",r:"2"}),(0,sl.jsx)("circle",{cx:"12",cy:"12",r:"2"}),(0,sl.jsx)("circle",{cx:"12",cy:"19",r:"2"})]})}),xe===e.id&&f.createPortal((0,sl.jsxs)("div",{ref:t=>lt.current[e.id]=t,className:"track-popover-menu",style:{zIndex:99999,position:"absolute",top:Cn.top,left:Cn.left},children:[(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),ee({id:e.id,title:e.title,artist:e.artist}),ne(!0),Te(null)},className:"popover-menu-item",children:"Add to Playlist"}),(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),dn(e),Te(null)},className:"popover-menu-item",children:"Play Next"}),(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),un(e),Te(null)},className:"popover-menu-item",children:"Add to Queue"}),(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),(async(e,t)=>{if(console.log("[DEBUG] handleDeleteTrack called with trackId: ".concat(e,", trackTitle: ").concat(t)),console.log("[DEBUG] Current db state:",ut),console.log("[DEBUG] Current userId:",pt),console.log("[DEBUG] Current authReady:",mt),mt)if(ut&&pt)try{await ul(ut,pt,"Delete track from library",async()=>{const t=Ka(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/tracks"),e);return await Xo(t)},"Failed to delete track from library"),await ul(ut,pt,"Remove track from playlists",async()=>{const t=Ha(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/playlists")),n=await Wo(t),r=[];return n.forEach(t=>{const n=t.data();n.trackIds&&n.trackIds.includes(e)&&r.push(qo(Ka(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/playlists"),t.id),{trackIds:rl(e)}))}),await Promise.all(r)},"Failed to remove track from playlists"),x&&x.id===e&&(T(null),D(!1),nt.current&&(nt.current.pause(),nt.current.src="")),Ut('"'.concat(t,'" deleted from your library and all playlists.'),"success")}catch(n){console.error("Error deleting track:",n),Ut('Failed to delete "'.concat(t,'": ').concat(n.message),"error")}else Ut("Firebase is not ready or user is not authenticated. Please refresh the page and try again.","error");else Ut("Firebase is still initializing. Please wait a moment and try again.","error")})(e.id,e.title),Te(null)},className:"popover-menu-item text-red-400",children:"Delete"})]}),document.body)]}),(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),cn(e.id)},className:"ml-2 p-2 rounded-full transition-colors duration-200 ".concat(Ne.includes(e.id)?"text-pink-400":"text-gray-400"," hover:text-pink-400"),title:Ne.includes(e.id)?"Remove from favorites":"Add to favorites",children:Ne.includes(e.id)?"\u2764\ufe0f":"\ud83e\udd0d"})]},e.id))})})]}),("playlists"===O||"playlists"===$e)&&(0,sl.jsxs)("section",{className:"space-y-6 h-full flex flex-col",children:[(0,sl.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-purple-400 mb-6 drop-shadow-lg text-center md:text-left",children:"Your Playlists"}),(0,sl.jsxs)("button",{onClick:()=>Z(!0),className:"search-button w-full px-8 py-4 rounded-2xl font-bold shadow-2xl transform transition-all duration-300 hover:scale-105 flex items-center justify-center gap-3 text-base md:text-lg mb-8 ".concat(kn),children:[(0,sl.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-7 w-7",fill:"currentColor",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"2",children:(0,sl.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v16m8-8H4"})}),"Create New Playlist"]}),(0,sl.jsx)("div",{className:"centered-scroll-card",children:(0,sl.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",style:{overflowY:"auto",maxHeight:"48vh",margin:0,padding:0},children:[(0,sl.jsxs)("div",{className:"playlist-card ".concat(xn),onClick:()=>{z(Pn),L("playlist-detail")},children:[(0,sl.jsx)("span",{className:"playlist-card-icon",children:Pn.icon}),(0,sl.jsx)("p",{className:"playlist-card-name",children:Pn.name}),(0,sl.jsxs)("p",{className:"text-sm text-gray-400",children:[(null===(e=Pn.trackIds)||void 0===e?void 0:e.length)||0," songs"]})]},Pn.id),U.filter(e=>"liked"!==e.id).map(e=>{var t;return(0,sl.jsxs)("div",{className:"playlist-card ".concat(xn),onClick:()=>{z(e),L("playlist-detail")},children:[(0,sl.jsx)("span",{className:"playlist-card-icon",children:e.cover?(0,sl.jsx)("img",{src:e.cover,alt:"Cover",className:"w-16 h-16 rounded-lg object-cover border-2 border-purple-400"}):e.icon}),(0,sl.jsx)("p",{className:"playlist-card-name",children:e.name}),(0,sl.jsxs)("p",{className:"text-sm text-gray-400",children:[(null===(t=e.trackIds)||void 0===t?void 0:t.length)||0," songs"]}),"liked"!==e.id&&(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),wn(e)},className:"playlist-delete-button ".concat("text-red-400 hover:text-red-300 hover:bg-red-900/30 rounded-full"),title:"Delete Playlist",children:(0,sl.jsx)("img",{src:"data:image/png;base64,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",alt:"Remove",style:{width:24,height:24}})})]},e.id)})]})})]}),"playlist-detail"===O&&G&&(0,sl.jsxs)("section",{className:"space-y-6 h-full flex flex-col",children:[(0,sl.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,sl.jsx)("button",{onClick:()=>L("playlists"),className:"p-2 rounded-full text-gray-400 hover:bg-gray-700",title:"Back to Playlists",children:(0,sl.jsx)("img",{src:u,alt:"Back",style:{width:24,height:24}})}),G.cover?(0,sl.jsx)("img",{src:G.cover,alt:"Cover",className:"w-24 h-24 rounded-lg object-cover border-4 border-purple-400"}):(0,sl.jsx)("span",{className:"playlist-card-icon text-5xl",children:G.icon}),(0,sl.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-purple-400 drop-shadow-lg",children:G.name})]}),(0,sl.jsxs)("div",{className:"sort-controls",children:[(0,sl.jsxs)("select",{value:oe,onChange:e=>le(e.target.value),className:"",children:[(0,sl.jsx)("option",{value:"custom",children:"Sort by Custom Order"}),(0,sl.jsx)("option",{value:"title",children:"Sort by Title"}),(0,sl.jsx)("option",{value:"artist",children:"Sort by Artist"}),(0,sl.jsx)("option",{value:"dateAdded",children:"Sort by Date Added"})]}),"custom"!==oe&&(0,sl.jsxs)("select",{value:ce,onChange:e=>ue(e.target.value),className:"",children:[(0,sl.jsx)("option",{value:"asc",children:"Ascending"}),(0,sl.jsx)("option",{value:"desc",children:"Descending"})]})]}),(0,sl.jsxs)("div",{className:"scroll-container flex-grow shadow-inner relative ".concat("bg-white/5 backdrop-blur-xl border-white/10 rounded-2xl shadow-2xl"),children:["liked"===G.id?0===Ne.length?(0,sl.jsx)("p",{className:"text-center py-8 text-base text-gray-500",children:"No liked songs yet. Tap the heart on any song to add it here!"}):(0,sl.jsx)("ul",{className:"space-y-3",children:k.filter(e=>Ne.includes(e.id)).map(e=>(0,sl.jsxs)("li",{className:"list-item card-tile ".concat(x&&x.id===e.id?Sn:""),onClick:()=>{x&&x.id===e.id?D(e=>!e):en(e)},children:[(0,sl.jsx)("img",{src:e.thumbnail||"https://placehold.co/60x60/333/FFF?text=\ud83c\udfa7",alt:e.title,className:"list-item-thumbnail",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/60x60/333/FFF?text=\ud83c\udfa7"}}),(0,sl.jsxs)("div",{className:"list-item-info",children:[(0,sl.jsx)("p",{className:"list-item-title",children:e.title}),(0,sl.jsx)("p",{className:"list-item-artist cursor-pointer underline",onClick:t=>{t.stopPropagation(),i({name:e.artist,type:"artist"}),L("artist-detail")},children:e.artist}),e.album&&(0,sl.jsx)("p",{className:"list-item-album cursor-pointer underline",onClick:t=>{t.stopPropagation(),Rt({name:e.album,type:"album"}),L("album-detail")},children:e.album})]}),(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),cn(e.id)},className:"ml-2 p-2 rounded-full transition-colors duration-200 ".concat(Ne.includes(e.id)?"text-pink-400":"text-gray-400"," hover:text-pink-400"),title:Ne.includes(e.id)?"Remove from favorites":"Add to favorites",children:Ne.includes(e.id)?"\u2764\ufe0f":"\ud83e\udd0d"})]},e.id))}):(0,sl.jsx)("ul",{className:"space-y-3",children:Zt.map(e=>(0,sl.jsxs)("li",{className:"list-item card-tile ".concat(x&&x.id===e.id?Sn:""),onClick:()=>{x&&x.id===e.id?D(e=>!e):en(e)},children:[(0,sl.jsx)("img",{src:e.thumbnail||"https://placehold.co/60x60/333/FFF?text=\ud83c\udfa7",alt:e.title,className:"list-item-thumbnail",onError:e=>{e.target.onerror=null,e.target.src="https://placehold.co/60x60/333/FFF?text=\ud83c\udfa7"}}),(0,sl.jsxs)("div",{className:"list-item-info",children:[(0,sl.jsx)("p",{className:"list-item-title",children:e.title}),(0,sl.jsx)("p",{className:"list-item-artist cursor-pointer underline",onClick:t=>{t.stopPropagation(),i({name:e.artist,type:"artist"}),L("artist-detail")},children:e.artist}),e.album&&(0,sl.jsx)("p",{className:"list-item-album cursor-pointer underline",onClick:t=>{t.stopPropagation(),Rt({name:e.album,type:"album"}),L("album-detail")},children:e.album})]}),(0,sl.jsxs)("div",{className:"list-item-actions",children:[(0,sl.jsx)("button",{ref:t=>ot.current[e.id]=t,onClick:t=>{t.stopPropagation(),Te(xe===e.id?null:e.id)},className:"track-more-btn",title:"More",children:(0,sl.jsxs)("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,sl.jsx)("circle",{cx:"12",cy:"5",r:"2"}),(0,sl.jsx)("circle",{cx:"12",cy:"12",r:"2"}),(0,sl.jsx)("circle",{cx:"12",cy:"19",r:"2"})]})}),xe===e.id&&f.createPortal((0,sl.jsxs)("div",{ref:t=>lt.current[e.id]=t,className:"track-popover-menu",style:{zIndex:99999,position:"absolute",top:Cn.top,left:Cn.left},children:[(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),ee({id:e.id,title:e.title,artist:e.artist}),ne(!0),Te(null)},className:"popover-menu-item",children:"Add to Playlist"}),(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),dn(e),Te(null)},className:"popover-menu-item",children:"Play Next"}),(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),un(e),Te(null)},className:"popover-menu-item",children:"Add to Queue"}),(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),(async(e,t,n)=>{try{await ul(ut,pt,"Remove track from playlist",async()=>{const n=Ka(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/playlists"),e);return await qo(n,{trackIds:rl(t)})},"Failed to remove track from playlist"),Ut('"'.concat(n,'" removed from playlist.'),"success")}catch(r){console.error("Error removing track from playlist:",r),Ut("Failed to remove track from playlist: ".concat(r.message),"error")}})(G.id,e.id,e.title),Te(null)},className:"popover-menu-item text-red-400",children:"Remove from Playlist"})]}),document.body)]}),(0,sl.jsx)("button",{onClick:t=>{t.stopPropagation(),cn(e.id)},className:"ml-2 p-2 rounded-full transition-colors duration-200 ".concat(Ne.includes(e.id)?"text-pink-400":"text-gray-400"," hover:text-pink-400"),title:Ne.includes(e.id)?"Remove from favorites":"Add to favorites",children:Ne.includes(e.id)?"\u2764\ufe0f":"\ud83e\udd0d"})]},e.id))}),Zt.length>0&&(0,sl.jsx)("div",{className:"player-gradient-overlay"})]})]}),t&&("artist-detail"===O||"album-detail"===O)&&(0,sl.jsxs)("section",{className:"space-y-6 h-full flex flex-col",children:[(0,sl.jsx)("button",{onClick:()=>i(null)||L("library"),className:"p-2 rounded-full text-gray-400 hover:bg-gray-700 mb-4",title:"Back",children:(0,sl.jsx)("img",{src:u,alt:"Back",style:{width:24,height:24}})}),(0,sl.jsxs)("h1",{className:"text-3xl font-bold text-purple-400 mb-4",children:["artist"===t.type?"Artist":"Album",": ",t.name]}),(0,sl.jsx)("ul",{className:"space-y-3",children:0===$t.length?(0,sl.jsx)("p",{className:"text-gray-400",children:"No tracks found."}):$t.map(e=>(0,sl.jsxs)("li",{className:"list-item card-tile flex items-center",children:[(0,sl.jsx)("img",{src:e.thumbnail||"https://placehold.co/60x60/333/FFF?text=\ud83c\udfa7",alt:e.title,className:"list-item-thumbnail"}),(0,sl.jsxs)("div",{className:"list-item-info",children:[(0,sl.jsx)("p",{className:"list-item-title",children:e.title}),(0,sl.jsx)("span",{className:"list-item-artist cursor-pointer underline",onClick:t=>{t.stopPropagation(),i({name:e.artist,type:"artist"})},children:e.artist})]}),(0,sl.jsx)("button",{onClick:()=>en(e),className:"play-button-overlay",title:"Play",children:(0,sl.jsx)("svg",{fill:"currentColor",className:"h-6 w-6",viewBox:"0 0 32 32",children:(0,sl.jsx)("path",{d:"M4.993,2.496C4.516,2.223,4,2.45,4,3v26c0,0.55,0.516,0.777,0.993,0.504l22.826-13.008 c0.478-0.273,0.446-0.719-0.031-0.992L4.993,2.496z"})})})]},e.id))})]}),("profile"===O||"profile"===$e)&&pt&&(0,sl.jsxs)("section",{className:"space-y-8 h-full flex flex-col items-center justify-center",children:[(0,sl.jsx)("h1",{className:"text-3xl font-bold text-purple-400 mb-4",children:"Profile & Settings"}),(0,sl.jsxs)("div",{className:"flex flex-col items-center gap-4 bg-white/5 p-6 rounded-2xl shadow-xl w-full max-w-md",children:[(0,sl.jsxs)("div",{className:"relative",children:[(0,sl.jsx)("img",{src:Ue.avatar||"https://placehold.co/100x100/333/FFF?text=\ud83d\udc64",alt:"Avatar",className:"w-24 h-24 rounded-full object-cover border-4 border-purple-400 shadow-lg"}),(0,sl.jsxs)("label",{className:"absolute bottom-0 right-0 bg-purple-600 text-white rounded-full p-2 cursor-pointer shadow-lg",title:"Change Avatar",children:[(0,sl.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{Ve(t=>(0,s.A)((0,s.A)({},t),{},{avatar:e.target.result}))},e.readAsDataURL(t)}}}),(0,sl.jsx)("svg",{width:"20",height:"20",fill:"currentColor",viewBox:"0 0 20 20",children:(0,sl.jsx)("path",{d:"M4 13V7a2 2 0 012-2h8a2 2 0 012 2v6a2 2 0 01-2 2H6a2 2 0 01-2-2zm2-6a1 1 0 00-1 1v6a1 1 0 001 1h8a1 1 0 001-1V8.414l-2.293 2.293a1 1 0 01-1.414 0L10 8.414l-2.293 2.293a1 1 0 01-1.414-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L12 8.414V7a1 1 0 00-1-1H6z"})})]})]}),(0,sl.jsx)("input",{type:"text",value:Ue.name,onChange:e=>{Ve(t=>(0,s.A)((0,s.A)({},t),{},{name:e.target.value}))},placeholder:"Display Name",className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 bg-white/10 text-white text-center"}),(0,sl.jsxs)("div",{className:"w-full flex flex-col gap-2",children:[(0,sl.jsx)("label",{className:"font-semibold text-white",children:"Theme"}),(0,sl.jsxs)("select",{value:Ue.theme,onChange:e=>{Ve(t=>(0,s.A)((0,s.A)({},t),{},{theme:e.target.value})),document.documentElement.setAttribute("data-theme",e.target.value)},className:"w-full p-3 rounded-lg border bg-white/10 text-white",children:[(0,sl.jsx)("option",{value:"system",children:"System"}),(0,sl.jsx)("option",{value:"light",children:"Light"}),(0,sl.jsx)("option",{value:"dark",children:"Dark"})]})]}),(0,sl.jsxs)("div",{className:"w-full flex flex-col gap-2 mt-4",children:[(0,sl.jsx)("label",{className:"font-semibold text-white",children:"Preferences"}),(0,sl.jsxs)("div",{className:"bg-white/10 rounded-lg p-3 text-gray-300",children:[(0,sl.jsxs)("label",{className:"flex items-center space-x-2",children:[(0,sl.jsx)("input",{type:"checkbox",checked:We,onChange:e=>qe(e.target.checked),className:"form-checkbox text-purple-600 rounded"}),(0,sl.jsx)("span",{children:"Enable Crossfade"})]}),We&&(0,sl.jsxs)("div",{className:"flex items-center mt-2",children:[(0,sl.jsx)("label",{htmlFor:"crossfadeDuration",className:"text-sm mr-2",children:"Duration:"}),(0,sl.jsx)("input",{id:"crossfadeDuration",type:"range",min:"1",max:"10",step:"1",value:Xe,onChange:e=>Ze(Number(e.target.value)),className:"w-full"}),(0,sl.jsxs)("span",{className:"ml-2 text-sm",children:[Xe,"s"]})]}),(0,sl.jsxs)("label",{className:"flex items-center space-x-2 mt-2",children:[(0,sl.jsx)("input",{type:"checkbox",checked:Je,onChange:e=>Ye(e.target.checked),className:"form-checkbox text-purple-600 rounded"}),(0,sl.jsx)("span",{children:"Show Floating Mini Player"})]}),(0,sl.jsxs)("div",{className:"mt-2",children:[(0,sl.jsx)("label",{className:"block text-sm mb-1",children:"Audio Quality:"}),(0,sl.jsxs)("select",{value:He,onChange:e=>Ke(e.target.value),className:"w-full p-2 rounded-lg bg-white/5 border border-white/10 text-white",children:[(0,sl.jsx)("option",{value:"auto",children:"Auto (Default)"}),(0,sl.jsx)("option",{value:"high",children:"High (320kbps)"}),(0,sl.jsx)("option",{value:"medium",children:"Medium (192kbps)"}),(0,sl.jsx)("option",{value:"low",children:"Low (128kbps)"})]})]})]})]})]})]})]}):(0,sl.jsxs)("section",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[(0,sl.jsx)("h1",{className:"text-3xl sm:text-4xl font-bold text-purple-400 mb-6 drop-shadow-lg",children:"Welcome to My Music!"}),(0,sl.jsx)("p",{className:"text-lg mb-8 text-gray-300",children:"Please log in with your phone number to access your music library and playlists."}),(0,sl.jsxs)("div",{className:"login-container w-full max-w-md p-8 rounded-3xl shadow-2xl ".concat(Tn," ").concat(Nn),children:[(0,sl.jsx)("h2",{className:"text-3xl font-bold mb-8 text-center text-white",children:"Phone Login"}),(0,sl.jsxs)("div",{className:"mb-6",children:[(0,sl.jsx)("label",{htmlFor:"phoneNumber",className:"block text-sm font-semibold mb-3 text-gray-200",children:"Phone Number (e.g., +1234567890)"}),(0,sl.jsx)("input",{type:"tel",id:"phoneNumber",value:yt,onChange:e=>vt(e.target.value),className:"login-input w-full p-4 rounded-2xl border-2 focus:outline-none focus:ring-4 transition-all duration-300 ".concat(Dn),placeholder:"+1XXXXXXXXXX",disabled:B||Tt})]}),!Tt&&(0,sl.jsxs)(sl.Fragment,{children:[(0,sl.jsxs)("p",{className:"text-sm mb-6 text-gray-300 bg-white/5 p-3 rounded-xl border border-white/10",children:["reCAPTCHA Status: ",Et]}),(0,sl.jsx)("button",{onClick:pn,disabled:B||!rt.current||!yt.trim(),className:"login-button w-full px-8 py-4 rounded-2xl font-bold shadow-2xl transform transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed ".concat(Bn),children:B?"Sending...":"Send Verification Code"})]}),Tt&&(0,sl.jsxs)("div",{className:"mt-8",children:[(0,sl.jsx)("label",{htmlFor:"otp",className:"block text-sm font-semibold mb-3 text-gray-200",children:"Verification Code (OTP)"}),(0,sl.jsx)("input",{type:"text",id:"otp",value:wt,onChange:e=>bt(e.target.value),className:"login-input w-full p-4 rounded-2xl border-2 focus:outline-none focus:ring-4 transition-all duration-300 ".concat(Dn),placeholder:"******",disabled:B}),(0,sl.jsx)("button",{onClick:gn,disabled:B||!wt.trim(),className:"login-button mt-6 w-full px-8 py-4 rounded-2xl font-bold shadow-2xl transform transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed ".concat(Bn),children:B?"Verifying...":"Verify Code"})]}),(0,sl.jsx)("div",{id:"recaptcha-container",className:"mt-6"}),(0,sl.jsx)("p",{className:"mt-8 text-sm text-gray-300 text-center",children:(0,sl.jsx)("button",{onClick:mn,disabled:B,className:"font-semibold text-purple-300 hover:text-purple-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-300",children:"Or continue as a Guest (Anonymous Login)"})})]})]})," "]})]}),(0,sl.jsxs)("footer",{className:"footer-player",children:[(0,sl.jsx)("audio",{ref:nt,className:"hidden"}),(0,sl.jsxs)("div",{className:"player-info",children:[(0,sl.jsx)("img",{src:(null===x||void 0===x?void 0:x.thumbnail)||"https://placehold.co/60x60/222/555?text=\ud83c\udfa7",alt:"Album Art",className:"player-album-art"}),(0,sl.jsxs)("div",{className:"player-text-info",children:[(0,sl.jsx)("p",{className:"player-title",children:x?x.title:"Not playing"}),(0,sl.jsx)("p",{className:"player-artist",children:x?x.artist:"Select a song"})]})]}),(0,sl.jsxs)("div",{className:"player-controls-advanced",children:[(0,sl.jsx)("button",{onClick:sn,disabled:!x||B,className:"player-control-button",title:"Previous Track",children:(0,sl.jsx)("img",{src:"data:image/png;base64,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",alt:"Previous",style:{width:28,height:28}})}),(0,sl.jsx)("button",{onClick:an,disabled:!x||B,className:"player-control-button main-play-pause",title:N?"Pause":"Play",children:B&&x?(0,sl.jsxs)("svg",{className:"animate-spin h-8 w-8 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,sl.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,sl.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):N?(0,sl.jsx)("img",{src:"data:image/png;base64,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",alt:"Pause",style:{width:36,height:36}}):(0,sl.jsx)("img",{src:"data:image/png;base64,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",alt:"Play",style:{width:36,height:36}})}),(0,sl.jsx)("button",{onClick:rn,disabled:!x||B,className:"player-control-button",title:"Next Track",children:(0,sl.jsx)("img",{src:"data:image/png;base64,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",alt:"Next",style:{width:28,height:28}})}),(0,sl.jsxs)("div",{className:"relative",children:[(0,sl.jsx)("button",{ref:st,onClick:()=>Se(e=>!e),className:"player-control-button",title:"More",children:(0,sl.jsx)("img",{src:"data:image/png;base64,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",alt:"Menu",style:{width:22,height:22}})}),ke&&f.createPortal((0,sl.jsxs)("div",{ref:at,className:"player-popover-menu",style:{zIndex:99999,position:"absolute",top:En.top,left:En.left},children:[(0,sl.jsx)("button",{onClick:on,disabled:!x,className:"popover-menu-item ".concat(g?"active":""),children:"Shuffle"}),(0,sl.jsxs)("button",{onClick:ln,disabled:!x,className:"popover-menu-item ".concat("none"!==A?"active":""),children:["Repeat: ",A]}),(0,sl.jsxs)("div",{className:"popover-menu-item",children:["Volume",(0,sl.jsx)("input",{type:"range",min:"0",max:"1",step:"0.01",value:Ae,onChange:e=>Yt(Number(e.target.value)),className:"w-24 ml-2 align-middle"})]})]}),document.body)]}),(0,sl.jsx)("button",{onClick:()=>w(!0),className:"player-control-button",title:"Queue",children:(0,sl.jsxs)("svg",{width:"22",height:"22",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,sl.jsx)("rect",{x:"3",y:"6",width:"18",height:"2",rx:"1"}),(0,sl.jsx)("rect",{x:"3",y:"11",width:"18",height:"2",rx:"1"}),(0,sl.jsx)("rect",{x:"3",y:"16",width:"12",height:"2",rx:"1"})]})}),(0,sl.jsx)("button",{onClick:fn,disabled:!x,className:"player-control-button",title:"Lyrics",children:(0,sl.jsxs)("svg",{width:"22",height:"22",fill:"currentColor",viewBox:"0 0 24 24",children:[(0,sl.jsx)("path",{d:"M4 4h16v16H4z",fill:"none"}),(0,sl.jsx)("path",{d:"M8 8h8v2H8zm0 4h5v2H8z"}),(0,sl.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 18H4V4h16v16z"})]})})]}),x&&(0,sl.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1 bg-gray-700",children:(0,sl.jsx)("div",{className:"progress-container h-full",onClick:Jt,children:(0,sl.jsx)("div",{className:"progress-bar h-full",style:{width:"".concat(ge>0?fe/ge*100:0,"%")}})})}),x&&(0,sl.jsxs)("div",{className:"absolute top-2 right-2 text-xs text-gray-400",children:[Gt(fe)," / ",Gt(ge)]})]}),X&&(0,sl.jsx)("div",{className:"modal-overlay",children:(0,sl.jsxs)("div",{className:"modal-content relative ".concat(Tn," ").concat(Nn),children:[(0,sl.jsx)("button",{onClick:()=>Z(!1),className:"modal-close-button",children:"\xd7"}),(0,sl.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Create New Playlist"}),(0,sl.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),H.trim())try{await ul(ut,pt,"Create playlist",async()=>await Zo(Ha(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/playlists")),{name:H.trim(),icon:J,cover:W||"",trackIds:[],timestamp:(new Date).toISOString()}),"Failed to create playlist"),Ut('Playlist "'.concat(H,'" created successfully!'),"success"),K(""),Y("\ud83c\udfb5"),q(""),Z(!1)}catch(t){console.error("Error creating playlist:",t),Ut("Failed to create playlist: ".concat(t.message),"error")}else Ut("Playlist name cannot be empty.","error")},children:[(0,sl.jsxs)("div",{className:"mb-4",children:[(0,sl.jsx)("label",{htmlFor:"playlistName",className:"block text-sm font-medium mb-2",children:"Playlist Name"}),(0,sl.jsx)("input",{type:"text",id:"playlistName",value:H,onChange:e=>K(e.target.value),className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 ".concat(Dn),placeholder:"e.g., Workout Mix",required:!0})]}),(0,sl.jsxs)("div",{className:"mb-6",children:[(0,sl.jsx)("label",{htmlFor:"playlistIcon",className:"block text-sm font-medium mb-2",children:"Playlist Icon (Emoji)"}),(0,sl.jsxs)("div",{className:"w-full p-2 rounded-lg border flex items-center gap-2 ".concat(Dn),children:[(0,sl.jsx)("span",{className:"text-2xl",children:J}),(0,sl.jsx)("input",{type:"text",id:"playlistIcon",value:J,onChange:e=>Y(e.target.value),className:"flex-grow bg-transparent outline-none ".concat(Nn),placeholder:"e.g., \ud83d\udd25",maxLength:"2"})]}),(0,sl.jsx)("div",{className:"emoji-grid",children:["\ud83c\udfb5","\ud83c\udfa7","\u2728","\ud83d\ude80","\ud83d\udc96","\ud83d\ude0e","\ud83c\udfd6\ufe0f","\ud83d\udcaa","\ud83c\udfae","\ud83d\udca1"].map(e=>(0,sl.jsx)("span",{className:"emoji-item ".concat(J===e?"selected":""),onClick:()=>Y(e),children:e},e))})]}),(0,sl.jsxs)("div",{className:"mb-6",children:[(0,sl.jsx)("label",{htmlFor:"playlistCover",className:"block text-sm font-medium mb-2",children:"Playlist Cover (optional)"}),(0,sl.jsxs)("div",{className:"flex items-center gap-4",children:[W?(0,sl.jsx)("img",{src:W,alt:"Cover Preview",className:"w-16 h-16 rounded-lg object-cover border-2 border-purple-400"}):(0,sl.jsx)("span",{className:"playlist-card-icon text-3xl",children:J}),(0,sl.jsxs)("label",{className:"bg-purple-600 text-white rounded-lg px-3 py-2 cursor-pointer shadow-lg",children:[(0,sl.jsx)("input",{type:"file",accept:"image/*",className:"hidden",onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{q(e.target.result)},e.readAsDataURL(t)}}}),"Upload Cover"]})]})]}),(0,sl.jsx)("button",{type:"submit",className:"w-full px-4 py-3 rounded-lg font-semibold transition duration-200 ".concat(Bn),children:"Create Playlist"})]})]})}),te&&$&&(0,sl.jsx)("div",{className:"modal-overlay",children:(0,sl.jsxs)("div",{className:"modal-content relative ".concat(Tn," ").concat(Nn),children:[(0,sl.jsx)("button",{onClick:()=>ne(!1),className:"modal-close-button",children:"\xd7"}),(0,sl.jsxs)("h2",{className:"text-2xl font-bold mb-6 text-center",children:['Add "',$.title,'" to Playlist']}),0===U.length?(0,sl.jsx)("p",{className:"text-center py-4 text-gray-400",children:"No playlists available. Create one first!"}):(0,sl.jsx)("ul",{className:"space-y-3 max-h-60 overflow-y-auto pr-2",children:U.map(e=>{var t;return(0,sl.jsxs)("li",{className:"flex items-center justify-between p-3 rounded-lg border cursor-pointer transition-colors duration-200 bg-gray-700 border-gray-600 hover:bg-gray-600",onClick:()=>bn(e.id),children:[(0,sl.jsx)("span",{className:"text-lg mr-2",children:e.icon}),(0,sl.jsx)("span",{className:"flex-grow font-medium text-white",children:e.name}),(0,sl.jsxs)("span",{className:"text-sm text-gray-400",children:[(null===(t=e.trackIds)||void 0===t?void 0:t.length)||0," songs"]})]},e.id)})}),(0,sl.jsx)("button",{onClick:()=>Z(!0),className:"mt-6 w-full px-4 py-3 rounded-lg font-semibold transition duration-200 ".concat(Bn),children:"Create New Playlist"})]})}),se&&re&&(0,sl.jsx)("div",{className:"modal-overlay",children:(0,sl.jsxs)("div",{className:"modal-content relative ".concat(Tn," ").concat(Nn),children:[(0,sl.jsx)("button",{onClick:()=>ae(!1),className:"modal-close-button",children:"\xd7"}),(0,sl.jsx)("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Confirm Deletion"}),(0,sl.jsxs)("p",{className:"text-center mb-6 text-gray-300",children:['Are you sure you want to delete the playlist "',(0,sl.jsx)("strong",{children:re.name}),'"? This action cannot be undone.']}),(0,sl.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,sl.jsx)("button",{onClick:()=>ae(!1),className:"px-6 py-3 rounded-lg font-semibold transition duration-200 bg-gray-600 hover:bg-gray-500 text-white",children:"Cancel"}),(0,sl.jsx)("button",{onClick:async()=>{if(re)try{await ul(ut,pt,"Delete playlist",async()=>await Xo(Ka(ut,"artifacts/".concat(ll,"/users/").concat(pt,"/playlists"),re.id)),"Failed to delete playlist"),Ut('Playlist "'.concat(re.name,'" deleted.'),"success"),G&&G.id===re.id&&(z(null),L("playlists"))}catch(e){console.error("Error deleting playlist:",e),Ut("Failed to delete playlist: ".concat(e.message),"error")}finally{ae(!1),ie(null)}},className:"px-6 py-3 rounded-lg font-semibold transition duration-200 bg-red-600 hover:bg-red-700 text-white",children:"Delete"})]})]})}),v&&(0,sl.jsx)("div",{className:"modal-overlay",onClick:()=>w(!1),children:(0,sl.jsxs)("div",{className:"modal-content relative",onClick:e=>e.stopPropagation(),style:{maxWidth:600},children:[(0,sl.jsx)("button",{onClick:()=>w(!1),className:"modal-close-button",children:"\xd7"}),(0,sl.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Queue"}),0===d.length?(0,sl.jsx)("p",{className:"text-gray-400 text-center",children:"Queue is empty."}):(0,sl.jsx)("div",{className:"centered-scroll-card",style:{maxHeight:"48vh",overflowY:"auto",margin:0,padding:0},children:(0,sl.jsx)("ul",{className:"space-y-2",children:d.map((e,t)=>(0,sl.jsxs)("li",{className:"queue-list-item flex items-center",children:[(0,sl.jsxs)("span",{className:"mr-2 text-gray-500 text-xs",children:[t+1,"."]}),(0,sl.jsx)("img",{src:e.thumbnail||"https://placehold.co/40x40/333/FFF?text=\ud83c\udfa7",alt:e.title,className:"queue-list-thumbnail"}),(0,sl.jsxs)("div",{className:"queue-list-info",children:[(0,sl.jsx)("p",{className:"queue-list-title",children:e.title}),(0,sl.jsx)("p",{className:"queue-list-artist",children:e.artist})]}),(0,sl.jsx)("button",{onClick:()=>{en(e),hn(e.id)},className:"play-button-overlay",title:"Play",style:{padding:"0.25rem",fontSize:"1rem"},children:(0,sl.jsx)("svg",{fill:"currentColor",className:"h-5 w-5",viewBox:"0 0 32 32",children:(0,sl.jsx)("path",{d:"M4.993,2.496C4.516,2.223,4,2.45,4,3v26c0,0.55,0.516,0.777,0.993,0.504l22.826-13.008 c0.478-0.273,0.446-0.719-0.031-0.992L4.993,2.496z"})})}),(0,sl.jsx)("button",{onClick:()=>hn(e.id),className:"ml-1 p-1 rounded-full text-red-400 hover:bg-gray-700",title:"Remove from Queue",children:(0,sl.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",className:"h-4 w-4",xmlns:"http://www.w3.org/2000/svg",children:[(0,sl.jsx)("path",{d:"M10 12V17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,sl.jsx)("path",{d:"M14 12V17",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,sl.jsx)("path",{d:"M4 7H20",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,sl.jsx)("path",{d:"M6 10V18C6 19.6569 7.34315 21 9 21H15C16.6569 21 18 19.6569 18 18V10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,sl.jsx)("path",{d:"M9 5C9 3.89543 9.89543 3 11 3H13C14.1046 3 15 3.89543 15 5V7H9V5Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})})]},e.id||"queue-".concat(t)))})})]})}),Fe&&(0,sl.jsx)("div",{className:"modal-overlay",onClick:()=>je(!1),children:(0,sl.jsxs)("div",{className:"modal-content relative",onClick:e=>e.stopPropagation(),style:{maxWidth:500,maxHeight:"80vh",overflowY:"auto",background:jt.bg,boxShadow:"0 20px 60px rgba(0,0,0,0.5)",border:"2px solid ".concat(jt.accent),transition:"background 0.5s"},children:[(0,sl.jsx)("button",{onClick:()=>je(!1),className:"modal-close-button",children:"\xd7"}),(0,sl.jsxs)("h2",{className:"text-2xl font-bold mb-6 text-center",style:{color:jt.accent},children:['Lyrics for "',null===x||void 0===x?void 0:x.title,'"']}),Oe?(0,sl.jsx)("p",{className:"text-center text-gray-200",children:"Loading lyrics..."}):Me?(0,sl.jsx)("p",{className:"text-center text-red-200",children:Me}):Pt.length>0?(0,sl.jsx)("div",{className:"lyrics-scroll-container",style:{maxHeight:"60vh",overflowY:"auto"},children:Pt.map((e,t)=>(0,sl.jsx)("div",{ref:t===Lt?Qt:null,className:"lyric-line".concat(t===Lt?" active":""),style:{color:t===Lt?jt.accent:"#fff",fontWeight:t===Lt?"bold":"normal",fontSize:t===Lt?"1.2em":"1em",background:t===Lt?"rgba(0,0,0,0.18)":"none",transition:"all 0.2s",padding:"0.2em 0.5em",borderRadius:"8px",margin:"0.1em 0",textShadow:t===Lt?"0 2px 8px rgba(0,0,0,0.25)":"none",cursor:"pointer",userSelect:"none"},onClick:()=>{nt.current&&(nt.current.currentTime=e.time,nt.current.play(),Mt(t))},title:"Jump to this part of the song",children:e.text},t))}):Re?(0,sl.jsx)("pre",{className:"whitespace-pre-wrap text-white text-center",style:{fontFamily:"inherit"},children:Re}):null]})}),Je&&x&&(0,sl.jsx)("div",{className:"mini-player show",children:(0,sl.jsxs)("div",{className:"mini-player-content",children:[(0,sl.jsx)("img",{src:x.thumbnail||"https://placehold.co/60x60/222/555?text=\ud83c\udfa7",alt:"Album Art",className:"player-album-art"}),(0,sl.jsxs)("div",{className:"mini-player-info",children:[(0,sl.jsx)("div",{className:"mini-player-title",children:x.title}),(0,sl.jsx)("div",{className:"mini-player-artist",children:x.artist})]}),(0,sl.jsx)("button",{onClick:an,className:"player-control-button main-play-pause",title:N?"Pause":"Play",children:N?(0,sl.jsxs)("svg",{fill:"currentColor",className:"h-7 w-7",viewBox:"0 0 32 32",children:[(0,sl.jsx)("path",{d:"M6,4C5.45,4,5,4.45,5,5v22c0,0.55,0.45,1,1,1h3c0.55,0,1-0.45,1-1V5c0-0.55-0.45-1-1-1H6z"}),(0,sl.jsx)("path",{d:"M23,4c-0.55,0-1,0.45-1,1v22c0,0.55,0.45,1,1,1h3c0.55,0,1-0.45,1-1V5c0-0.55-0.45-1-1-1H23z"})]}):(0,sl.jsx)("svg",{fill:"currentColor",className:"h-7 w-7",viewBox:"0 0 32 32",children:(0,sl.jsx)("path",{d:"M4.993,2.496C4.516,2.223,4,2.45,4,3v26c0,0.55,0.516,0.777,0.993,0.504l22.826-13.008 c0.478-0.273,0.446-0.719-0.031-0.992L4.993,2.496z"})})}),(0,sl.jsx)("button",{onClick:rn,className:"player-control-button",title:"Next Track",children:(0,sl.jsxs)("svg",{fill:"currentColor",className:"h-6 w-6",viewBox:"0 0 32 32",children:[(0,sl.jsx)("path",{d:"M4.561,3.728C4.184,3.328,4,3.45,4,4v24c0,0.55,0.184,0.672,0.561,0.272l10.816-11.544 c0.377-0.4,0.408-1.056,0.031-1.456L4.561,3.728z"}),(0,sl.jsx)("path",{d:"M17.561,3.728C17.184,3.328,17,3.45,17,4v24c0,0.55,0.184,0.672,0.561,0.272l10.816-11.544 c0.377-0.4,0.408-1.056,0.031-1.456L17.561,3.728z"})]})})]})}),_t&&"album-detail"===O&&(0,sl.jsxs)("section",{className:"space-y-6 h-full flex flex-col",children:[(0,sl.jsx)("button",{onClick:()=>{Rt(null),L("library")},className:"p-2 rounded-full text-gray-400 hover:bg-gray-700 mb-4",title:"Back",children:(0,sl.jsx)("img",{src:u,alt:"Back",style:{width:24,height:24}})}),(0,sl.jsxs)("h1",{className:"text-3xl font-bold text-purple-400 mb-4",children:["Album: ",_t.name]}),(0,sl.jsx)("div",{className:"centered-scroll-card",children:(0,sl.jsx)("ul",{className:"space-y-3",style:{overflowY:"auto",maxHeight:"48vh",margin:0,padding:0},children:k.filter(e=>e.album&&e.album.toLowerCase()===_t.name.toLowerCase()).map(e=>(0,sl.jsxs)("li",{className:"list-item card-tile flex items-center",children:[(0,sl.jsx)("img",{src:e.thumbnail||"https://placehold.co/60x60/333/FFF?text=\ud83c\udfa7",alt:e.title,className:"list-item-thumbnail"}),(0,sl.jsxs)("div",{className:"list-item-info",children:[(0,sl.jsx)("p",{className:"list-item-title",children:e.title}),(0,sl.jsx)("span",{className:"list-item-artist cursor-pointer underline",onClick:t=>{t.stopPropagation(),i({name:e.artist,type:"artist"}),L("artist-detail")},children:e.artist})]}),(0,sl.jsx)("button",{onClick:()=>en(e),className:"play-button-overlay",title:"Play",children:(0,sl.jsx)("svg",{fill:"currentColor",className:"h-6 w-6",viewBox:"0 0 32 32",children:(0,sl.jsx)("path",{d:"M4.993,2.496C4.516,2.223,4,2.45,4,3v26c0,0.55,0.516,0.777,0.993,0.504l22.826-13.008 c0.478-0.273,0.446-0.719-0.031-0.992L4.993,2.496z"})})})]},e.id))})})]}),t&&"artist-detail"===O&&(0,sl.jsx)("button",{onClick:()=>{i(null),L("library")},className:"p-2 rounded-full text-gray-400 hover:bg-gray-700 mb-4",title:"Back",children:(0,sl.jsx)("img",{src:u,alt:"Back",style:{width:24,height:24}})})]})},hl=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:a}=t;n(e),r(e),i(e),s(e),a(e)})};i.createRoot(document.getElementById("root")).render((0,sl.jsx)(r.StrictMode,{children:(0,sl.jsx)(dl,{})})),hl()})();
//# sourceMappingURL=main.93941c7b.js.map